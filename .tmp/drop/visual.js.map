{"version":3,"file":"visual.js","mappings":";;;;;;;;;;;AAAA,iEAAe,mOAAmO,wBAAwB,yBAAyB,qCAAqC,WAAW,0BAA0B,yDAAyD,wCAAwC,6BAA6B,4BAA4B,0BAA0B,+BAA+B,iCAAiC,WAAW,gEAAgE,0BAA0B,iCAAiC,0BAA0B,2BAA2B,uGAAuG,yCAAyC,yBAAyB,2BAA2B,WAAW,gCAAgC,4BAA4B,qCAAqC,kCAAkC,sCAAsC,2BAA2B,iCAAiC,yBAAyB,0BAA0B,+BAA+B,8BAA8B,4CAA4C,4CAA4C,yBAAyB,WAAW,iCAAiC,yBAAyB,WAAW,6BAA6B,4BAA4B,6CAA6C,kCAAkC,0BAA0B,iCAAiC,qBAAqB,iCAAiC,WAAW,2BAA2B,4BAA4B,kCAAkC,8BAA8B,+BAA+B,6BAA6B,WAAW,iCAAiC,gDAAgD,gCAAgC,mDAAmD,iCAAiC,qDAAqD,6BAA6B,wCAAwC,WAAW,+BAA+B,+CAA+C,kCAAkC,iCAAiC,mDAAmD,6BAA6B,wCAAwC,WAAW,mCAAmC,iCAAiC,+BAA+B,8BAA8B,WAAW,sCAAsC,+BAA+B,gDAAgD,WAAW,sCAAsC,mDAAmD,8BAA8B,6BAA6B,WAAW,kCAAkC,4BAA4B,0CAA0C,gDAAgD,WAAW,iCAAiC,4BAA4B,qCAAqC,kCAAkC,oCAAoC,6BAA6B,8BAA8B,WAAW,sEAAsE,2BAA2B,4BAA4B,iCAAiC,mDAAmD,WAAW,iCAAiC,0BAA0B,2BAA2B,mRAAmR,iCAAiC,iCAAiC,uBAAuB,wBAAwB,+CAA+C,kIAAkI,uFAAuF,2BAA2B,WAAW,wCAAwC,0BAA0B,iCAAiC,wBAAwB,yBAAyB,0BAA0B,2BAA2B,iCAAiC,yNAAyN,0BAA0B,0DAA0D,WAAW,uCAAuC,0BAA0B,iCAAiC,yBAAyB,0BAA0B,uBAAuB,wBAAwB,+CAA+C,qLAAqL,iCAAiC,4DAA4D,gEAAgE,WAAW,4CAA4C,kBAAkB,8DAA8D,eAAe,oBAAoB,8DAA8D,eAAe,WAAW,2CAA2C,kBAAkB,+BAA+B,gEAAgE,eAAe,oBAAoB,+BAA+B,gEAAgE,eAAe,WAAW,+CAA+C,kBAAkB,+BAA+B,6BAA6B,8BAA8B,eAAe,oBAAoB,6BAA6B,6BAA6B,8BAA8B,eAAe,WAAW,uCAAuC,kBAAkB,6CAA6C,eAAe,oBAAoB,iDAAiD,eAAe,WAAW,oCAAoC,8BAA8B,wCAAwC,kCAAkC,WAAW,6BAA6B,0BAA0B,iCAAiC,iDAAiD,iCAAiC,WAAW,+BAA+B,4BAA4B,sCAAsC,kCAAkC,wBAAwB,WAAW,oCAAoC,0BAA0B,2BAA2B,yDAAyD,iCAAiC,WAAW,2CAA2C,yDAAyD,WAAW,sBAAsB,0BAA0B,2BAA2B,4CAA4C,yDAAyD,uCAAuC,oCAAoC,4EAA4E,sCAAsC,iCAAiC,iFAAiF,iCAAiC,oCAAoC,yBAAyB,0BAA0B,yDAAyD,WAAW,6BAA6B,8BAA8B,0BAA0B,wCAAwC,kCAAkC,WAAW,+GAA+G,4BAA4B,qCAAqC,kCAAkC,8BAA8B,iDAAiD,WAAW,gHAAgH,4BAA4B,gFAAgF,eAAe,uCAAuC,gFAAgF,eAAe,WAAW,s1EAAs1E;;;;;;;;;;;;;ACAxkW;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACoC;AAC7B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0CAAY;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0CAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kDAAoB;AACtC,kBAAkB,kDAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;AC7Ja;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,+BAA+B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,4BAA4B;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA,CAAC;AACD,+BAA+B;AAC/B,+BAA+B;AAC/B;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACoC;AAC0B;AACvD;AACP;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kDAAoB;AAChD;AACA,uBAAuB,4CAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,0CAAY;AAC9B;AACA,wBAAwB,0CAAY;AACpC;AACA;AACA,iCAAiC,0CAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0CAAY;AACtC,6BAA6B,qDAAuB;AACpD,6BAA6B,oDAAsB;AACnD,+BAA+B,uEAAoB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,UAAU;AACrC;AACA,8BAA8B,0CAAY;AAC1C,iCAAiC,qDAAuB;AACxD,iCAAiC,oDAAsB;AACvD;AACA;AACA,kCAAkC,0CAAY;AAC9C,gCAAgC,gBAAgB;AAChD;AACA,uCAAuC,uEAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sDAAwB,8BAA8B,sDAAwB;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iDAAmB;AAC7C;AACA;AACA,gBAAgB,qDAAuB;AACvC;AACA,wBAAwB,WAAW;AACnC,gBAAgB,qDAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kDAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA,iCAAiC,sDAAwB;AACzD,iCAAiC,uDAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,4CAA4C,SAAS;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;AClCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,sBAAsB,GAAG,4BAA4B;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,cAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxCa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAO,CAAC,IAA2B;AACnE;AACA,+EAA+E,8FAA8F;AAC7K;AACA,kBAAe;AACf;;;;;;;ACnBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D;;;;;;;ACFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B,GAAG,8BAA8B,GAAG,6BAA6B,GAAG,yBAAyB,GAAG,4BAA4B,GAAG,6BAA6B,GAAG,sBAAsB,GAAG,yBAAyB,GAAG,kBAAkB,GAAG,cAAc,GAAG,2BAA2B,GAAG,sBAAsB,GAAG,8BAA8B,GAAG,oBAAoB,GAAG,0BAA0B,GAAG,2CAA2C,GAAG,qBAAqB,GAAG,2BAA2B,GAAG,qBAAqB,GAAG,0BAA0B,GAAG,gBAAgB,GAAG,kBAAkB,GAAG,4BAA4B,GAAG,uBAAuB,GAAG,cAAc,GAAG,gBAAgB;AAC3rB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC,iCAAiC,YAAY;AAC7C;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,sCAAsC,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AO,CAAC,IAAe;AACzC,gCAAgC,mBAAO,CAAC,GAA0C;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,+BAA+B;AAC/B,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA,WAAW,gBAAgB;AAC3B;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;;;;;;;;;;ACzXA,iEAAe,+NAA+N,wBAAwB,yBAAyB,qCAAqC,WAAW,0BAA0B,yDAAyD,wCAAwC,6BAA6B,4BAA4B,0BAA0B,+BAA+B,iCAAiC,WAAW,gEAAgE,0BAA0B,iCAAiC,0BAA0B,2BAA2B,uGAAuG,yCAAyC,yBAAyB,2BAA2B,WAAW,gCAAgC,4BAA4B,qCAAqC,kCAAkC,sCAAsC,2BAA2B,iCAAiC,yBAAyB,0BAA0B,+BAA+B,8BAA8B,4CAA4C,4CAA4C,yBAAyB,WAAW,iCAAiC,yBAAyB,WAAW,6BAA6B,4BAA4B,6CAA6C,kCAAkC,0BAA0B,iCAAiC,qBAAqB,iCAAiC,WAAW,2BAA2B,4BAA4B,kCAAkC,8BAA8B,+BAA+B,6BAA6B,WAAW,iCAAiC,gDAAgD,gCAAgC,mDAAmD,iCAAiC,qDAAqD,6BAA6B,wCAAwC,WAAW,+BAA+B,+CAA+C,kCAAkC,iCAAiC,mDAAmD,6BAA6B,wCAAwC,WAAW,mCAAmC,iCAAiC,+BAA+B,8BAA8B,WAAW,sCAAsC,+BAA+B,gDAAgD,WAAW,sCAAsC,mDAAmD,8BAA8B,6BAA6B,WAAW,kCAAkC,4BAA4B,0CAA0C,gDAAgD,WAAW,iCAAiC,4BAA4B,qCAAqC,kCAAkC,oCAAoC,6BAA6B,8BAA8B,WAAW,sEAAsE,2BAA2B,4BAA4B,iCAAiC,mDAAmD,WAAW,iCAAiC,0BAA0B,2BAA2B,mRAAmR,iCAAiC,iCAAiC,uBAAuB,wBAAwB,+CAA+C,kIAAkI,uFAAuF,2BAA2B,WAAW,wCAAwC,0BAA0B,iCAAiC,wBAAwB,yBAAyB,0BAA0B,2BAA2B,iCAAiC,yNAAyN,0BAA0B,0DAA0D,WAAW,uCAAuC,0BAA0B,iCAAiC,yBAAyB,0BAA0B,uBAAuB,wBAAwB,+CAA+C,qLAAqL,iCAAiC,4DAA4D,gEAAgE,WAAW,4CAA4C,kBAAkB,8DAA8D,eAAe,oBAAoB,8DAA8D,eAAe,WAAW,2CAA2C,kBAAkB,+BAA+B,gEAAgE,eAAe,oBAAoB,+BAA+B,gEAAgE,eAAe,WAAW,+CAA+C,kBAAkB,+BAA+B,6BAA6B,8BAA8B,eAAe,oBAAoB,6BAA6B,6BAA6B,8BAA8B,eAAe,WAAW,uCAAuC,kBAAkB,6CAA6C,eAAe,oBAAoB,iDAAiD,eAAe,WAAW,oCAAoC,8BAA8B,wCAAwC,kCAAkC,WAAW,6BAA6B,0BAA0B,iCAAiC,iDAAiD,iCAAiC,WAAW,+BAA+B,4BAA4B,sCAAsC,kCAAkC,wBAAwB,WAAW,oCAAoC,0BAA0B,2BAA2B,yDAAyD,iCAAiC,WAAW,2CAA2C,yDAAyD,WAAW,sBAAsB,0BAA0B,2BAA2B,4CAA4C,yDAAyD,uCAAuC,oCAAoC,4EAA4E,sCAAsC,iCAAiC,iFAAiF,iCAAiC,oCAAoC,yBAAyB,0BAA0B,yDAAyD,WAAW,6BAA6B,8BAA8B,0BAA0B,wCAAwC,kCAAkC,WAAW,+GAA+G,4BAA4B,qCAAqC,kCAAkC,8BAA8B,iDAAiD,WAAW,gHAAgH,4BAA4B,gFAAgF,eAAe,uCAAuC,gFAAgF,eAAe,WAAW,89EAA89E;;;;;;;;;;;;;;;;ACA5sW;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP,SAAS,kDAAS;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtEa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,eAAe,IAAI,4BAA4B,wCAAwC;;;;;;;;;;;ACHvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;;;;;;ACvCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,sBAAsB,GAAG,oBAAoB,GAAG,yBAAyB,GAAG,yBAAyB;AACjI,kBAAkB,mBAAO,CAAC,IAA6B;AACvD,2BAA2B,mBAAO,CAAC,GAAsC;AACzE;AACA,qBAAqB,mBAAO,CAAC,IAAkB;AAC/C,sBAAsB;AACtB,mBAAmB,mBAAO,CAAC,IAAgB;AAC3C,oBAAoB;AACpB,wBAAwB,mBAAO,CAAC,IAAqB;AACrD,yBAAyB;AACzB,2BAA2B,mBAAO,CAAC,IAAsB;AACzD,6BAA6B,KAAK,GAAG,OAAO,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yBAAyB;AACzB;;;;;;;AC/Na;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB,sCAAsC,kBAAkB;AACvF,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,CAAC;AACD,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mCAAmC,GAAG,mCAAmC,GAAG,gCAAgC,GAAG,2BAA2B,GAAG,yBAAyB,GAAG,mBAAmB;AAC5L;AACA,0BAA0B,mBAAO,CAAC,IAA0C;AAC5E,wCAAwC,mBAAO,CAAC,IAAiC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gBAAgB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,mCAAmC;AACnC;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClXa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C,oBAAoB,KAAK;AACpE;;;;;;;ACxCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,GAAG,qBAAqB;AACtC,mBAAmB,mBAAO,CAAC,IAAc;AACzC,qBAAqB;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC8D;AACtB;AACxC;AACO;AACP;AACA;AACA;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA,YAAY,+DAAsB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA,eAAe,qDAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,+DAAsB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;AACrD;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kDAAkD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACO;AACP;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,6BAA6B,eAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,0BAA0B,QAAQ;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,wBAAwB,UAAU;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzRa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB,GAAG,sBAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA,aAAa;AACb;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,SAAS;AACT;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;;;;;;;;;;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;;;;;;AClCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qCAAqC,GAAG,uBAAuB,GAAG,oBAAoB,GAAG,qBAAqB,GAAG,+BAA+B,GAAG,uBAAuB,GAAG,+BAA+B,GAAG,iCAAiC,GAAG,cAAc,GAAG,cAAc,GAAG,0BAA0B,GAAG,8BAA8B,GAAG,wBAAwB,GAAG,yBAAyB,GAAG,0BAA0B,GAAG,yBAAyB,GAAG,4BAA4B,GAAG,4BAA4B;AAC9f,0BAA0B,mBAAO,CAAC,IAAuC;AACzE,8BAA8B,mBAAO,CAAC,IAA2C;AACjF,uBAAuB,mBAAO,CAAC,IAAoB;AACnD,0BAA0B,mBAAO,CAAC,IAAuC;AACzE,yBAAyB,mBAAO,CAAC,IAAyB;AAC1D,wCAAwC,mBAAO,CAAC,IAAiC;AACjF,4CAA4C,mBAAO,CAAC,IAAqC;AACzF;AACA;AACA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,WAAW,OAAO;AAClB;AACA,4BAA4B;AAC5B,4BAA4B;AAC5B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE,GAAG,EAAE;AACjC,gCAAgC,GAAG,KAAK,EAAE;AAC1C,+BAA+B,GAAG,IAAI,EAAE;AACxC;AACA;AACA,0CAA0C,EAAE;AAC5C;AACA,0CAA0C,EAAE;AAC5C;AACA,0CAA0C,EAAE;AAC5C;AACA,2CAA2C,EAAE;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,EAAE;AACvC;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0BAA0B;AAC5D,oCAAoC,gCAAgC;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,cAAc;AACd;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,wBAAwB;AACnC,WAAW,kCAAkC;AAC7C,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;;;;;;;;;;;;;AC7fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;ACxDO;AACP;AACA;AACA;AACA;AACA;AACA,wDAAwD,SAAS;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA,kDAAkD,UAAU;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA,0FAA0F;AAC1F;AACO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACzea;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB,GAAG,uBAAuB,GAAG,iBAAiB,GAAG,mBAAmB,GAAG,YAAY;AACvG;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;AACA;AACA,mDAAmD,UAAU;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,sCAAsC,qBAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA;AACA;AACA,sCAAsC,qBAAqB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;;;;;;;;;;;;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;;;;;;;AChDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc,GAAG,iBAAiB;AAClC,mBAAmB,mBAAO,CAAC,IAAiB;AAC5C,wBAAwB,mBAAO,CAAC,IAAqB;AACrD,uBAAuB,mBAAO,CAAC,IAAuB;AACtD,kBAAkB,mBAAO,CAAC,IAA6B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E;AAC7E,6EAA6E;AAC7E;AACA;AACA;;;;;;;AChJa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,GAAG,wBAAwB,GAAG,sBAAsB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,6BAA6B;AAC7B;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;;;;;;;;;;;ACvFqD;AAC9C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,4DAA8B;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjE2E;AACpE;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kFAAa;AACjD;AACA,4DAA4D,+EAAU;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,+EAAU;AAC3D;AACA,iCAAiC,gBAAgB;AACjD,sCAAsC,gBAAgB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,wGAAwG;AAC7J;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,oGAAoG;AACrJ;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B,kDAAkD;AAC9E;AACA,yEAAyE,gBAAgB;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,oBAAoB,GAAG,uBAAuB;AAC3F;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,kFAAa;AACzC;AACA,oDAAoD,+EAAU;AAC9D,6BAA6B,gBAAgB;AAC7C,kCAAkC,gBAAgB;AAClD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iEAAe,yBAAyB,EAAC;AACzC;;;;;;;AChMa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,oEAAoE,yDAAyD;AAC7H;AACA;AACA,CAAC;AACD,kBAAkB;AAClB;;;;;;;AChFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B,GAAG,gCAAgC,GAAG,cAAc,GAAG,wBAAwB,GAAG,iBAAiB,GAAG,qBAAqB,GAAG,2BAA2B,GAAG,2BAA2B,GAAG,wBAAwB,GAAG,uCAAuC;AAC3R;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,IAA6B;AACvD;AACA,wCAAwC,mBAAO,CAAC,IAAiC;AACjF;AACA,uBAAuB,mBAAO,CAAC,IAAuB;AACtD,wBAAwB,mBAAO,CAAC,IAAqB;AACrD,0BAA0B,mBAAO,CAAC,IAAqB;AACvD,mCAAmC,IAAI;AACvC;AACA,oCAAoC,IAAI,KAAK;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,KAAK;AAC5C;AACA;AACA;AACA,sBAAsB,wBAAwB;AAC9C,gCAAgC,EAAE;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,yEAAyE;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,WAAW;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,QAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,SAAS;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtuBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,gBAAgB,mBAAO,CAAC,IAAa;AACrC;AACA,wCAAwC,mBAAO,CAAC,IAAiC;AACjF;AACA;AACA;AACA,2BAA2B,mBAAO,CAAC,IAA2C;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,8BAA8B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,wBAAwB;AACxB;;;;;;;;;;;;;AChUqE;AACD;AACX;AACzD;;;;;;;ACHa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,4BAA4B,GAAG,kBAAkB,GAAG,kBAAkB,GAAG,cAAc,GAAG,sBAAsB,GAAG,oBAAoB,GAAG,kBAAkB,GAAG,oBAAoB,GAAG,4BAA4B,GAAG,eAAe,GAAG,YAAY,GAAG,kBAAkB,GAAG,gBAAgB,GAAG,kBAAkB,GAAG,eAAe,GAAG,cAAc,GAAG,gBAAgB,GAAG,oBAAoB,GAAG,iBAAiB,GAAG,uBAAuB,GAAG,qBAAqB,GAAG,gBAAgB,GAAG,iBAAiB;AAC1e;AACA,iBAAiB;AACjB;AACA;AACA,0BAA0B;AAC1B,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,8CAA8C;AAC9C,6BAAgC;AAChC,iCAAiC;AACjC;AACA;AACA;AACA,gBAAgB;AAChB,qBAAqB;AACrB,uBAAuB;AACvB,iBAAiB;AACjB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,2CAA2C,YAAY;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,cAAc;AACd,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA,kBAAkB;AAClB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,kBAAkB;AAClB;AACA;AACA,YAAY;AACZ;AACA;AACA,eAAe;AACf;AACA,yBAAyB,WAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,oBAAoB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,sBAAsB;AACtB;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,OAAO;AAC/C;AACA;AACA;AACA;AACA,IAAI,kBAAkB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,kCAAkC;AAClC;AACA;AACA,oCAAoC;AACpC;AACA;AACA,oCAAoC;AACpC;AACA;AACA,sCAAsC;AACtC;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA,SAAS;AACT;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7yCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,GAAG,kBAAkB,GAAG,kBAAkB,GAAG,gBAAgB,GAAG,eAAe,GAAG,gBAAgB,GAAG,iBAAiB,GAAG,gBAAgB;AAChK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;;;;;;;;;;;ACnJO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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ACA;AACA,6CAA6C,2BAA2B;AACxE;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,wBAAwB,kFAAsC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB,qFAAyC;AAC9D;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,gEAAgE;AAC5J;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,oFAAoF;AAChL;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,uBAAuB;AACnH;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,qKAAqK;AACjQ;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,mBAAmB;AAC/G;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,gEAAgE;AAC5J;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,6BAA6B;AACzH;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,6BAA6B;AACzH;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,4EAA4E;AACxK;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,mBAAmB;AAC/G;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,+BAA+B;AAC3H;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,yDAAyD;AACrJ;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,2BAA2B;AACxE;AACA;AACA,eAAe;AACf;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACO,4BAA4B,2DAAW;AAC9C;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACpTqD;AACF;AACA;AACE;AACY;AACR;AACF;AACiF;AACxI;;;;;;UCRA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACN0C;AAK1C,IAAI,uBAAU,GAAQ,SAAS,CAAC;AAChC,IAAI,oBAAO,GAAQ,MAAM,CAAC,uBAAU,CAAC,CAAC;AACtC,IAAI,iCAAoB,GAAkB;IACtC,IAAI,EAAE,sBAAsB;IAC5B,WAAW,EAAE,UAAU;IACvB,KAAK,EAAE,QAAQ;IACf,UAAU,EAAE,QAAQ;IACpB,MAAM,EAAE,CAAC,OAAkC,EAAE,EAAE;QAC3C,IAAI,kEAAM,EAAE,CAAC;YACT,OAAO,IAAI,kEAAM,CAAC,OAAO,CAAC,CAAC;QAC/B,CAAC;QACD,MAAM,2BAA2B,CAAC;IACtC,CAAC;IACD,iBAAiB,EAAE,CAAC,QAAgB,EAAE,OAAiC,EAAE,YAAoB,EAAE,EAAE;QAC7F,MAAM,cAAc,GAAS,UAAW,CAAC,cAAc,CAAC;QACxD,IAAI,QAAQ,IAAI,cAAc,EAAE,CAAC;YAC7B,IAAI,cAAc,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;QACxD,CAAC;IACL,CAAC;IACD,MAAM,EAAE,IAAI;CACf,CAAC;AACF,IAAI,OAAO,oBAAO,KAAK,WAAW,EAAE,CAAC;IACjC,oBAAO,CAAC,OAAO,GAAG,oBAAO,CAAC,OAAO,IAAI,EAAE,CAAC;IACxC,oBAAO,CAAC,OAAO,CAAC,OAAO,GAAG,oBAAO,CAAC,OAAO,CAAC,OAAO,IAAI,EAAE,CAAC;IACxD,oBAAO,CAAC,OAAO,CAAC,OAAO,CAAC,sBAAsB,CAAC,GAAG,iCAAoB,CAAC;AAC3E,CAAC;AACD,mDAAe,iCAAoB,EAAC","sources":["webpack:///./style/landingPage3.html","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/numericSequence/numericSequenceRange.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/storageService/ephemeralStorageService.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/numericSequence/numericSequence.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/prototype.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/extensions/stringExtensions.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/textUtil.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/dataViewWildcard.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/globalize/globalize.cultures.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/interfaces.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/stringExtensions.js","webpack:///./src/settings.ts","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/displayUnitSystem/displayUnitSystemType.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/index.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/index.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/textMeasurementService.js","webpack:///./style/landingPage2.html","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/extensions/enumExtensions.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/globalize/powerbiGlobalizeLocales.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/extensions/regExpExtensions.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/formattingService/formattingService.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/displayUnitSystem/displayUnitSystem.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/formattingService/iFormattingService.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/font/family.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/valueType.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/extensions/logicExtensions.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/extensions/arrayExtensions.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/formatting.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/jsonComparer.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/valueFormatter.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/pixelConverter.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/dataRoleHelper.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/double.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/wordBreaker.js","webpack:///./node_modules/powerbi-visuals-utils-typeutils/lib/textSizeDefaults.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/formattingService/dateTimeFormat.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/formattingService/formattingEncoder.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/dataViewObjectsParser.js","webpack:///./node_modules/powerbi-visuals-utils-formattingmodel/lib/FormattingSettingsService.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/font/familyInfo.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/formattingService/numberFormat.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/date/dateTimeSequence.js","webpack:///./node_modules/powerbi-visuals-utils-formattingmodel/lib/index.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/globalize/globalize.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/lib/src/date/dateUtils.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/dataViewObject.js","webpack:///./node_modules/powerbi-visuals-utils-formattingmodel/lib/utils/FormattingSettingsUtils.js","webpack:///./src/visual.ts","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/dataViewObjects.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/dataViewTransform.js","webpack:///./style/landingPage1.html","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/converterHelper.js","webpack:///./node_modules/powerbi-visuals-utils-formattingmodel/lib/FormattingSettingsComponents.js","webpack:///./node_modules/powerbi-visuals-utils-formattingutils/node_modules/powerbi-visuals-utils-dataviewutils/lib/index.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./.tmp/precompile/visualPlugin.ts"],"sourcesContent":["export default \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Nova Matrix - Instructions</title>\\n    <style>\\n        * {\\n            margin: 0;\\n            padding: 0;\\n            box-sizing: border-box;\\n        }\\n        \\n        body {\\n            font-family: 'Segoe UI', Arial, sans-serif;\\n            background-color: #13141a;\\n            color: #ffffff;\\n            height: 100vh;\\n            width: 100%;\\n            overflow: hidden;\\n            position: relative;\\n        }\\n        \\n        /* Star background */\\n        body:before {\\n            content: '';\\n            position: absolute;\\n            width: 100%;\\n            height: 100%;\\n            background-image: radial-gradient(circle, rgba(255, 255, 255, 0.3) 1px, transparent 1px);\\n            background-size: 50px 50px;\\n            z-index: 0;\\n            opacity: 0.3;\\n        }\\n        \\n        .container {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            justify-content: center;\\n            height: 100%;\\n            position: relative;\\n            z-index: 1;\\n            padding: 10;\\n            overflow-y: auto;\\n            min-height: 250;\\n            gap: clamp(10px, 2.5vh, 25px);\\n            transition: opacity 0.5s ease;\\n            opacity: 1;\\n        }\\n\\n        .container.fade-out {\\n            opacity: 0;\\n        }\\n        \\n        .header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            width: 100%;\\n            position: absolute;\\n            top: 0;\\n            padding: 10px 10px;\\n        }\\n        \\n        .logo {\\n            display: flex;\\n            align-items: center;\\n            font-size: 14px;\\n            font-weight: 500;\\n            color: #ffffff;\\n        }\\n        \\n        .main-title {\\n            font-size: clamp(12px, 5vw, 36px);\\n            font-weight: bold;\\n            letter-spacing: clamp(4px, 1vw, 8px);\\n            text-align: center;\\n            margin-bottom: clamp(5px, 1.5vh, 10px);\\n            color: #ffffff;\\n            text-transform: uppercase;\\n        }\\n        \\n        .subtitle {\\n            font-size: clamp(8px, 5vw, 14px);\\n            letter-spacing: 2px;\\n            text-align: center;\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n            color: #b0b0b0;\\n            text-transform: uppercase;\\n        }\\n        \\n        .feature-list {\\n            text-align: center;\\n            max-width: 600px;\\n            padding: 0 10px;\\n        }\\n        \\n        .feature-list ul {\\n            list-style: none;\\n            margin-top: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .feature-list li {\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n            font-size: 14px;\\n            color: #d0d0d0;\\n        }\\n        \\n        .nav-buttons {\\n            display: flex;\\n            gap: clamp(15px, 4vw, 30px);\\n            margin-top: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .nav-button {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            text-decoration: none;\\n            color: #ffffff;\\n            cursor: pointer;\\n        }\\n        \\n        /* Button orbs */\\n        .button-orb-container {\\n            width: 100px;\\n            height: 100px;\\n            position: relative;\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .button-orb {\\n            width: 75px;\\n            height: 75px;\\n            background: radial-gradient(circle, \\n                rgba(255, 255, 255, 0.9) 15%, \\n                rgba(255, 234, 130, 0.8) 30%, \\n                rgba(255, 183, 101, 0.7) 45%, \\n                rgba(255, 100, 80, 0.5) 60%,\\n                transparent 75%);\\n            border-radius: 50%;\\n            position: absolute;\\n            top: 50%;\\n            left: 50%;\\n            transform: translate(-50%, -50%);\\n            box-shadow: \\n                0 0 15px rgba(255, 234, 130, 0.4),\\n                0 0 25px rgba(255, 183, 101, 0.2);\\n            animation: buttonPulse 2s infinite alternate, rotate 15s infinite linear;\\n            opacity: 0.9;\\n        }\\n        \\n        .button-orb:before {\\n            content: '';\\n            position: absolute;\\n            top: -15%;\\n            left: -15%;\\n            right: -15%;\\n            bottom: -15%;\\n            border-radius: 50%;\\n            background: radial-gradient(circle, \\n                transparent 60%, \\n                rgba(255, 234, 130, 0.1) 70%, \\n                rgba(255, 183, 101, 0.1) 80%, \\n                transparent 100%);\\n            z-index: -1;\\n            animation: buttonGlow 3s infinite alternate;\\n        }\\n        \\n        .button-orb:after {\\n            content: '';\\n            position: absolute;\\n            width: 40%;\\n            height: 40%;\\n            top: 50%;\\n            left: 50%;\\n            transform: translate(-50%, -50%);\\n            background: radial-gradient(circle, \\n                rgba(255, 255, 255, 0.9) 0%, \\n                rgba(255, 240, 180, 0.8) 50%, \\n                transparent 100%);\\n            border-radius: 50%;\\n            box-shadow: 0 0 10px rgba(255, 240, 180, 0.5);\\n            animation: buttonCoreGlow 1.5s infinite alternate;\\n        }\\n        \\n        @keyframes buttonPulse {\\n            0% {\\n                transform: translate(-50%, -50%) scale(0.9);\\n            }\\n            100% {\\n                transform: translate(-50%, -50%) scale(1.1);\\n            }\\n        }\\n        \\n        @keyframes buttonGlow {\\n            0% {\\n                opacity: 0.3;\\n                box-shadow: 0 0 15px rgba(255, 234, 130, 0.2);\\n            }\\n            100% {\\n                opacity: 0.6;\\n                box-shadow: 0 0 25px rgba(255, 183, 101, 0.4);\\n            }\\n        }\\n        \\n        @keyframes buttonCoreGlow {\\n            0% {\\n                opacity: 0.7;\\n                width: 36%;\\n                height: 36%;\\n            }\\n            100% {\\n                opacity: 1;\\n                width: 43%;\\n                height: 43%;\\n            }\\n        }\\n        \\n        @keyframes rotate {\\n            0% {\\n                background-position: 0% 0%;\\n            }\\n            100% {\\n                background-position: 100% 100%;\\n            }\\n        }\\n        \\n        .continue-text {\\n            font-size: 12px;\\n            text-transform: uppercase;\\n            letter-spacing: 2px;\\n        }\\n        \\n        .footer {\\n            width: 100%;\\n            text-align: center;\\n            margin-top: clamp(10px, 2vh, 20px);\\n            position: relative;\\n        }\\n        \\n        .progress {\\n            display: flex;\\n            justify-content: center;\\n            align-items: center;\\n            gap: 15px;\\n        }\\n        \\n        .progress-item {\\n            width: 12px;\\n            height: 12px;\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\n            border-radius: 50%;\\n        }\\n        \\n        .progress-item.active {\\n            background-color: rgba(255, 255, 255, 0.5);\\n        }\\n\\n        .diamond {\\n            width: 10px;\\n            height: 10px;\\n            background-color: transparent;\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\n            transform: rotate(45deg);\\n            display: inline-flex; /* Changed from 'flex' to 'inline-flex' */\\n            align-items: center;\\n            justify-content: center;\\n            margin-right: 8px; /* Adds spacing instead of margin-bottom */\\n            vertical-align: middle; /* Aligns with text */\\n        }\\n        \\n        .diamond-inner {\\n            width: 4px;\\n            height: 4px;\\n            background-color: rgba(255, 255, 255, 0.5);\\n        }\\n        \\n        .credit {\\n            font-size: 10px;\\n            color: #666;\\n            text-transform: uppercase;\\n            letter-spacing: 1px;\\n        }\\n        \\n        /* Content wrapper to maintain consistent vertical centering */\\n        .content-wrapper {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            max-width: 100%;\\n            padding-top: clamp(0px, 5vh, 60px);\\n        }\\n        \\n        /* Smoother responsive approach with no sudden jumps */\\n        @media (max-width: 768px) {\\n            .nav-buttons {\\n                gap: calc(15px + (30 - 15) * ((100vw - 320px) / (768 - 320)));\\n            }\\n            \\n            .progress {\\n                gap: calc(10px + (15 - 10) * ((100vw - 320px) / (768 - 320)));\\n            }\\n        }\\n    </style>\\n</head>\\n<body>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"header\\\">\\n            <div class=\\\"logo\\\">\\n                <div>NOVA MATRIX</div>\\n            </div>\\n            <div class=\\\"progress\\\">\\n                <div class=\\\"progress-item\\\"></div>\\n                <div class=\\\"progress-item\\\"></div>\\n                <div class=\\\"progress-item active\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"content-wrapper\\\">\\n            <h1 class=\\\"main-title\\\">INSTRUCTIONS</h1>\\n            \\n            <div class=\\\"feature-list\\\">\\n                <p class=\\\"subtitle\\\">Begin presenting your data to viewers by:</p>\\n                <ul>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Adding a Matrix visual to your report\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Configure the Rows, Columns, and Values fields\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Use the formatting panel to customize your matrix\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Enjoy the power of interactive data exploration!\\n                    </li>\\n                </ul>\\n            </div>\\n            \\n            \\n            <div class=\\\"nav-buttons\\\">\\n                <a href=\\\"#\\\" class=\\\"nav-button\\\" data-action=\\\"back\\\">\\n                    <div class=\\\"button-orb-container\\\">\\n                        <div class=\\\"button-orb\\\"></div>\\n                    </div>\\n                    <span class=\\\"continue-text\\\">Back</span>\\n                </a>\\n                <a href=\\\"#\\\" class=\\\"nav-button\\\" data-action=\\\"finish\\\">\\n                    <div class=\\\"button-orb-container\\\">\\n                        <div class=\\\"button-orb\\\"></div>\\n                    </div>\\n                    <span class=\\\"continue-text\\\">Get Started</span>\\n                </a>\\n            </div>\\n            \\n            <div class=\\\"footer\\\">\\n                <div class=\\\"credit\\\">Developed by Joshua Biondo</div>\\n            </div>\\n        </div>\\n    </div>\\n</body>\\n</html>\";","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nimport * as Double from \"../double\";\nexport class NumericSequenceRange {\n    _ensureIncludeZero() {\n        if (this.includeZero) {\n            // fixed min and max has higher priority than includeZero\n            if (this.min > 0 && !this.hasFixedMin) {\n                this.min = 0;\n            }\n            if (this.max < 0 && !this.hasFixedMax) {\n                this.max = 0;\n            }\n        }\n    }\n    _ensureNotEmpty() {\n        if (this.min === this.max) {\n            if (!this.min) {\n                this.min = 0;\n                this.max = NumericSequenceRange.DEFAULT_MAX;\n                this.hasFixedMin = true;\n                this.hasFixedMax = true;\n            }\n            else {\n                // We are dealing with a single data value (includeZero is not set)\n                // In order to fix the range we need to extend it in both directions by half of the interval.\n                // Interval is calculated based on the number:\n                // 1. Integers below 10,000 are extended by 0.5: so the [2006-2006] empty range is extended to [2005.5-2006.5] range and the ForsedSingleStop=2006\n                // 2. Other numbers are extended by half of their power: [700,001-700,001] => [650,001-750,001] and the ForsedSingleStop=null as we want the intervals to be calculated to cover the range.\n                const value = this.min;\n                const exp = Double.log10(Math.abs(value));\n                let step;\n                if (exp >= 0 && exp < 4) {\n                    step = 0.5;\n                    this.forcedSingleStop = value;\n                }\n                else {\n                    step = Double.pow10(exp) / 2;\n                    this.forcedSingleStop = null;\n                }\n                this.min = value - step;\n                this.max = value + step;\n            }\n        }\n    }\n    _ensureDirection() {\n        if (this.min > this.max) {\n            const temp = this.min;\n            this.min = this.max;\n            this.max = temp;\n        }\n    }\n    getSize() {\n        return this.max - this.min;\n    }\n    shrinkByStep(range, step) {\n        let oldCount = this.min / step;\n        let newCount = range.min / step;\n        let deltaCount = Math.floor(newCount - oldCount);\n        this.min += deltaCount * step;\n        oldCount = this.max / step;\n        newCount = range.max / step;\n        deltaCount = Math.ceil(newCount - oldCount);\n        this.max += deltaCount * step;\n    }\n    static calculate(dataMin, dataMax, fixedMin, fixedMax, includeZero) {\n        const result = new NumericSequenceRange();\n        result.includeZero = includeZero ? true : false;\n        result.hasDataRange = hasValue(dataMin) && hasValue(dataMax);\n        result.hasFixedMin = hasValue(fixedMin);\n        result.hasFixedMax = hasValue(fixedMax);\n        dataMin = Double.ensureInRange(dataMin, NumericSequenceRange.MIN_SUPPORTED_DOUBLE, NumericSequenceRange.MAX_SUPPORTED_DOUBLE);\n        dataMax = Double.ensureInRange(dataMax, NumericSequenceRange.MIN_SUPPORTED_DOUBLE, NumericSequenceRange.MAX_SUPPORTED_DOUBLE);\n        // Calculate the range using the min, max, dataRange\n        if (result.hasFixedMin && result.hasFixedMax) {\n            result.min = fixedMin;\n            result.max = fixedMax;\n        }\n        else if (result.hasFixedMin) {\n            result.min = fixedMin;\n            result.max = dataMax > fixedMin ? dataMax : fixedMin;\n        }\n        else if (result.hasFixedMax) {\n            result.min = dataMin < fixedMax ? dataMin : fixedMax;\n            result.max = fixedMax;\n        }\n        else if (result.hasDataRange) {\n            result.min = dataMin;\n            result.max = dataMax;\n        }\n        else {\n            result.min = 0;\n            result.max = 0;\n        }\n        result._ensureIncludeZero();\n        result._ensureNotEmpty();\n        result._ensureDirection();\n        if (result.min === 0) {\n            result.hasFixedMin = true; // If the range starts from zero we should prevent extending the intervals into the negative range\n        }\n        else if (result.max === 0) {\n            result.hasFixedMax = true; // If the range ends at zero we should prevent extending the intervals into the positive range\n        }\n        return result;\n    }\n    static calculateDataRange(dataMin, dataMax, includeZero) {\n        if (!hasValue(dataMin) || !hasValue(dataMax)) {\n            return NumericSequenceRange.calculateFixedRange(0, NumericSequenceRange.DEFAULT_MAX);\n        }\n        else {\n            return NumericSequenceRange.calculate(dataMin, dataMax, null, null, includeZero);\n        }\n    }\n    static calculateFixedRange(fixedMin, fixedMax, includeZero) {\n        const result = new NumericSequenceRange();\n        result.hasDataRange = false;\n        result.includeZero = includeZero;\n        result.min = fixedMin;\n        result.max = fixedMax;\n        result._ensureIncludeZero();\n        result._ensureNotEmpty();\n        result._ensureDirection();\n        result.hasFixedMin = true;\n        result.hasFixedMax = true;\n        return result;\n    }\n}\nNumericSequenceRange.DEFAULT_MAX = 10;\nNumericSequenceRange.MIN_SUPPORTED_DOUBLE = -1E307;\nNumericSequenceRange.MAX_SUPPORTED_DOUBLE = 1E307;\n/** Note: Exported for testability */\nexport function hasValue(value) {\n    return value !== undefined && value !== null;\n}\n//# sourceMappingURL=numericSequenceRange.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ephemeralStorageService = exports.EphemeralStorageService = void 0;\nvar EphemeralStorageService = /** @class */ (function () {\n    function EphemeralStorageService(clearCacheInterval) {\n        this.cache = {};\n        this.clearCacheInterval = (clearCacheInterval != null)\n            ? clearCacheInterval\n            : EphemeralStorageService.defaultClearCacheInterval;\n        this.clearCache();\n    }\n    EphemeralStorageService.prototype.getData = function (key) {\n        return this.cache[key];\n    };\n    EphemeralStorageService.prototype.setData = function (key, data) {\n        var _this = this;\n        this.cache[key] = data;\n        if (this.clearCacheTimerId == null) {\n            this.clearCacheTimerId = setTimeout(function () { return _this.clearCache(); }, this.clearCacheInterval);\n        }\n    };\n    EphemeralStorageService.prototype.clearCache = function () {\n        this.cache = {};\n        this.clearCacheTimerId = undefined;\n    };\n    EphemeralStorageService.defaultClearCacheInterval = (1000 * 60 * 60 * 24); // 1 day\n    return EphemeralStorageService;\n}());\nexports.EphemeralStorageService = EphemeralStorageService;\nexports.ephemeralStorageService = new EphemeralStorageService();\n//# sourceMappingURL=ephemeralStorageService.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nimport * as Double from \"../double\";\nimport { NumericSequenceRange } from \"./numericSequenceRange\";\nexport class NumericSequence {\n    // eslint-disable-next-line max-lines-per-function\n    static calculate(range, expectedCount, maxAllowedMargin, minPower, useZeroRefPoint, steps) {\n        const result = new NumericSequence();\n        if (expectedCount === undefined)\n            expectedCount = 10;\n        else\n            expectedCount = Double.ensureInRange(expectedCount, NumericSequence.MIN_COUNT, NumericSequence.MAX_COUNT);\n        if (minPower === undefined)\n            minPower = Double.MIN_EXP;\n        if (useZeroRefPoint === undefined)\n            useZeroRefPoint = false;\n        if (maxAllowedMargin === undefined)\n            maxAllowedMargin = 1;\n        if (steps === undefined)\n            steps = [1, 2, 5];\n        // Handle single stop case\n        if (range.forcedSingleStop) {\n            result.interval = range.getSize();\n            result.intervalOffset = result.interval - (range.forcedSingleStop - range.min);\n            result.min = range.min;\n            result.max = range.max;\n            result.sequence = [range.forcedSingleStop];\n            return result;\n        }\n        let interval = 0;\n        let min = 0;\n        let max = 9;\n        const canExtendMin = maxAllowedMargin > 0 && !range.hasFixedMin;\n        const canExtendMax = maxAllowedMargin > 0 && !range.hasFixedMax;\n        const size = range.getSize();\n        let exp = Double.log10(size);\n        // Account for Exp of steps\n        const stepExp = Double.log10(steps[0]);\n        exp = exp - stepExp;\n        // Account for MaxCount\n        const expectedCountExp = Double.log10(expectedCount);\n        exp = exp - expectedCountExp;\n        // Account for MinPower\n        exp = Math.max(exp, minPower - stepExp + 1);\n        let count = undefined;\n        // Create array of \"good looking\" numbers\n        if (interval !== 0) {\n            // If explicit interval is defined - use it instead of the steps array.\n            const power = Double.pow10(exp);\n            const roundMin = Double.floorToPrecision(range.min, power);\n            const roundMax = Double.ceilToPrecision(range.max, power);\n            const roundRange = NumericSequenceRange.calculateFixedRange(roundMin, roundMax);\n            roundRange.shrinkByStep(range, interval);\n            min = roundRange.min;\n            max = roundRange.max;\n            count = Math.floor(roundRange.getSize() / interval);\n        }\n        else {\n            // No interval defined -> find optimal interval\n            let dexp;\n            for (dexp = 0; dexp < 3; dexp++) {\n                const e = exp + dexp;\n                const power = Double.pow10(e);\n                const roundMin = Double.floorToPrecision(range.min, power);\n                const roundMax = Double.ceilToPrecision(range.max, power);\n                // Go throught the steps array looking for the smallest step that produces the right interval count.\n                const stepsCount = steps.length;\n                const stepPower = Double.pow10(e - 1);\n                for (let i = 0; i < stepsCount; i++) {\n                    const step = steps[i] * stepPower;\n                    const roundRange = NumericSequenceRange.calculateFixedRange(roundMin, roundMax, useZeroRefPoint);\n                    roundRange.shrinkByStep(range, step);\n                    // If the range is based on Data we might need to extend it to provide nice data margins.\n                    if (canExtendMin && range.min === roundRange.min && maxAllowedMargin >= 1)\n                        roundRange.min -= step;\n                    if (canExtendMax && range.max === roundRange.max && maxAllowedMargin >= 1)\n                        roundRange.max += step;\n                    // Count the intervals\n                    count = Double.ceilWithPrecision(roundRange.getSize() / step, Double.DEFAULT_PRECISION);\n                    if (count <= expectedCount || (dexp === 2 && i === stepsCount - 1) || (expectedCount === 1 && count === 2 && (step > range.getSize() || (range.min < 0 && range.max > 0 && step * 2 >= range.getSize())))) {\n                        interval = step;\n                        min = roundRange.min;\n                        max = roundRange.max;\n                        break;\n                    }\n                }\n                // Increase the scale power until the interval is found\n                if (interval !== 0)\n                    break;\n            }\n        }\n        // Avoid extreme count cases (>1000 ticks)\n        if (count > expectedCount * 32 || count > NumericSequence.MAX_COUNT) {\n            count = Math.min(expectedCount * 32, NumericSequence.MAX_COUNT);\n            interval = (max - min) / count;\n        }\n        result.min = min;\n        result.max = max;\n        result.interval = interval;\n        result.intervalOffset = min - range.min;\n        result.maxAllowedMargin = maxAllowedMargin;\n        result.canExtendMin = canExtendMin;\n        result.canExtendMax = canExtendMax;\n        // Fill in the Sequence\n        const precision = Double.getPrecision(interval, 0);\n        result.precision = precision;\n        const sequence = [];\n        let x = Double.roundToPrecision(min, precision);\n        sequence.push(x);\n        for (let i = 0; i < count; i++) {\n            x = Double.roundToPrecision(x + interval, precision);\n            sequence.push(x);\n        }\n        result.sequence = sequence;\n        result.trimMinMax(range.min, range.max);\n        return result;\n    }\n    /**\n     * Calculates the sequence of int numbers which are mapped to the multiples of the units grid.\n     * @min - The minimum of the range.\n     * @max - The maximum of the range.\n     * @maxCount - The max count of intervals.\n     * @steps - array of intervals.\n     */\n    static calculateUnits(min, max, maxCount, steps) {\n        // Initialization actions\n        maxCount = Double.ensureInRange(maxCount, NumericSequence.MIN_COUNT, NumericSequence.MAX_COUNT);\n        if (min === max) {\n            max = min + 1;\n        }\n        let stepCount = 0;\n        let step = 0;\n        // Calculate step\n        for (let i = 0; i < steps.length; i++) {\n            step = steps[i];\n            const maxStepCount = Double.ceilWithPrecision(max / step);\n            const minStepCount = Double.floorWithPrecision(min / step);\n            stepCount = maxStepCount - minStepCount;\n            if (stepCount <= maxCount) {\n                break;\n            }\n        }\n        // Calculate the offset\n        let offset = -min;\n        offset = offset % step;\n        // Create sequence\n        const result = new NumericSequence();\n        result.sequence = [];\n        for (let x = min + offset;; x += step) {\n            result.sequence.push(x);\n            if (x >= max)\n                break;\n        }\n        result.interval = step;\n        result.intervalOffset = offset;\n        result.min = result.sequence[0];\n        result.max = result.sequence[result.sequence.length - 1];\n        return result;\n    }\n    trimMinMax(min, max) {\n        const minMargin = (min - this.min) / this.interval;\n        const maxMargin = (this.max - max) / this.interval;\n        const marginPrecision = 0.001;\n        if (!this.canExtendMin || (minMargin > this.maxAllowedMargin && minMargin > marginPrecision)) {\n            this.min = min;\n        }\n        if (!this.canExtendMax || (maxMargin > this.maxAllowedMargin && maxMargin > marginPrecision)) {\n            this.max = max;\n        }\n    }\n}\nNumericSequence.MIN_COUNT = 1;\nNumericSequence.MAX_COUNT = 1000;\n//# sourceMappingURL=numericSequence.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n/**\n * Returns a new object with the provided obj as its prototype.\n */\nexport function inherit(obj, extension) {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    function wrapCtor() { }\n    wrapCtor.prototype = obj;\n    const inherited = new wrapCtor();\n    if (extension)\n        extension(inherited);\n    return inherited;\n}\n/**\n * Returns a new object with the provided obj as its prototype\n * if, and only if, the prototype has not been previously set\n */\nexport function inheritSingle(obj) {\n    const proto = Object.getPrototypeOf(obj);\n    if (proto === Object.prototype || proto === Array.prototype)\n        obj = inherit(obj);\n    return obj;\n}\n/**\n * Uses the provided callback function to selectively replace contents in the provided array.\n * @return A new array with those values overriden\n * or undefined if no overrides are necessary.\n */\nexport function overrideArray(prototype, override) {\n    if (!prototype)\n        return;\n    let overwritten;\n    for (let i = 0, len = prototype.length; i < len; i++) {\n        const value = override(prototype[i]);\n        if (value) {\n            if (!overwritten)\n                overwritten = inherit(prototype);\n            overwritten[i] = value;\n        }\n    }\n    return overwritten;\n}\n//# sourceMappingURL=prototype.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n/**\n * Extensions to String class.\n */\n/**\n * Checks if a string ends with a sub-string.\n */\nexport function endsWith(str, suffix) {\n    return str.indexOf(suffix, str.length - suffix.length) !== -1;\n}\n//# sourceMappingURL=stringExtensions.js.map","\"use strict\";\n/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.replaceSpaceWithNBSP = exports.removeEllipses = exports.removeBreakingSpaces = void 0;\n/**\n * Contains functions/constants to aid in text manupilation.\n */\n/**\n * Remove breaking spaces from given string and replace by none breaking space (&nbsp).\n */\nfunction removeBreakingSpaces(str) {\n    return str.toString().replace(new RegExp(\" \", \"g\"), \"&nbsp\");\n}\nexports.removeBreakingSpaces = removeBreakingSpaces;\n/**\n * Remove ellipses from a given string\n */\nfunction removeEllipses(str) {\n    return str.replace(/()|(\\.\\.\\.)/g, \"\");\n}\nexports.removeEllipses = removeEllipses;\n/**\n* Replace every whitespace (0x20) with Non-Breaking Space (0xA0)\n    * @param {string} txt String to replace White spaces\n    * @returns Text after replcing white spaces\n    */\nfunction replaceSpaceWithNBSP(txt) {\n    if (txt != null) {\n        return txt.replace(/ /g, \"\\xA0\");\n    }\n}\nexports.replaceSpaceWithNBSP = replaceSpaceWithNBSP;\n//# sourceMappingURL=textUtil.js.map","/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\nexport function createDataViewWildcardSelector(dataViewWildcardMatchingOption) {\n    if (dataViewWildcardMatchingOption == null) {\n        dataViewWildcardMatchingOption = 0 /* DataViewWildcardMatchingOption.InstancesAndTotals */;\n    }\n    const selector = {\n        data: [\n            {\n                dataViewWildcard: {\n                    matchingOption: dataViewWildcardMatchingOption\n                }\n            }\n        ]\n    };\n    return selector;\n}\n//# sourceMappingURL=dataViewWildcard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Globalize Cultures\n *\n * http://github.com/jquery/globalize\n *\n * Copyright Software Freedom Conservancy, Inc.\n * Dual licensed under the MIT or GPL Version 2 licenses.\n * http://jquery.org/license\n *\n * This file was generated by the Globalize Culture Generator\n * Translation: bugs found in this file need to be fixed in the generator\n */\nvar powerbiGlobalizeLocales_1 = require(\"./powerbiGlobalizeLocales\");\nfunction injectCultures(Globalize) {\n    Object.keys(powerbiGlobalizeLocales_1.locales).forEach(function (locale) { return Globalize.addCultureInfo.apply(Globalize, powerbiGlobalizeLocales_1.locales[locale]); });\n}\nexports.default = injectCultures;\n//# sourceMappingURL=globalize.cultures.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=interfaces.js.map","\"use strict\";\n/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stripTagDelimiters = exports.deriveClsCompliantName = exports.stringifyAsPrettyJSON = exports.normalizeFileName = exports.escapeStringForRegex = exports.constructNameFromList = exports.findUniqueName = exports.ensureUniqueNames = exports.replaceAll = exports.repeat = exports.getLengthDifference = exports.trimWhitespace = exports.trimTrailingWhitespace = exports.isWhitespace = exports.containsWhitespace = exports.isNullOrUndefinedOrWhiteSpaceString = exports.isNullOrEmpty = exports.stringToArrayBuffer = exports.normalizeCase = exports.containsIgnoreCase = exports.contains = exports.startsWith = exports.startsWithIgnoreCase = exports.equalIgnoreCase = exports.format = exports.endsWith = void 0;\n/* eslint-disable no-useless-escape */\nvar HtmlTagRegex = new RegExp(\"[<>]\", \"g\");\n/**\n * Checks if a string ends with a sub-string.\n */\nfunction endsWith(str, suffix) {\n    return str.indexOf(suffix, str.length - suffix.length) !== -1;\n}\nexports.endsWith = endsWith;\nfunction format() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var s = args[0];\n    if (isNullOrUndefinedOrWhiteSpaceString(s))\n        return s;\n    for (var i = 0; i < args.length - 1; i++) {\n        var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n        s = s.replace(reg, args[i + 1]);\n    }\n    return s;\n}\nexports.format = format;\n/**\n * Compares two strings for equality, ignoring case.\n */\nfunction equalIgnoreCase(a, b) {\n    return normalizeCase(a) === normalizeCase(b);\n}\nexports.equalIgnoreCase = equalIgnoreCase;\nfunction startsWithIgnoreCase(a, b) {\n    var normalizedSearchString = normalizeCase(b);\n    return normalizeCase(a).indexOf(normalizedSearchString) === 0;\n}\nexports.startsWithIgnoreCase = startsWithIgnoreCase;\nfunction startsWith(a, b) {\n    return a.indexOf(b) === 0;\n}\nexports.startsWith = startsWith;\n// Determines whether a string contains a specified substring (by case-sensitive comparison).\nfunction contains(source, substring) {\n    if (source == null)\n        return false;\n    return source.indexOf(substring) !== -1;\n}\nexports.contains = contains;\n// Determines whether a string contains a specified substring (while ignoring case).\nfunction containsIgnoreCase(source, substring) {\n    if (source == null)\n        return false;\n    return contains(normalizeCase(source), normalizeCase(substring));\n}\nexports.containsIgnoreCase = containsIgnoreCase;\n/**\n * Normalizes case for a string.\n * Used by equalIgnoreCase method.\n */\nfunction normalizeCase(value) {\n    return value.toUpperCase();\n}\nexports.normalizeCase = normalizeCase;\n/**\n * Receives a string and returns an ArrayBuffer of its characters.\n * @return An ArrayBuffer of the string's characters.\n * If the string is empty or null or undefined - returns null.\n */\nfunction stringToArrayBuffer(str) {\n    if (isNullOrEmpty(str)) {\n        return null;\n    }\n    var buffer = new ArrayBuffer(str.length);\n    var bufferView = new Uint8Array(buffer);\n    for (var i = 0, strLen = str.length; i < strLen; i++) {\n        bufferView[i] = str.charCodeAt(i);\n    }\n    return bufferView;\n}\nexports.stringToArrayBuffer = stringToArrayBuffer;\n/**\n * Is string null or empty or undefined?\n * @return True if the value is null or undefined or empty string,\n * otherwise false.\n */\nfunction isNullOrEmpty(value) {\n    return (value == null) || (value.length === 0);\n}\nexports.isNullOrEmpty = isNullOrEmpty;\n/**\n * Returns true if the string is null, undefined, empty, or only includes white spaces.\n * @return True if the str is null, undefined, empty, or only includes white spaces,\n * otherwise false.\n */\nfunction isNullOrUndefinedOrWhiteSpaceString(str) {\n    return isNullOrEmpty(str) || isNullOrEmpty(str.trim());\n}\nexports.isNullOrUndefinedOrWhiteSpaceString = isNullOrUndefinedOrWhiteSpaceString;\n/**\n * Returns a value indicating whether the str contains any whitespace.\n */\nfunction containsWhitespace(str) {\n    var expr = /\\s/;\n    return expr.test(str);\n}\nexports.containsWhitespace = containsWhitespace;\n/**\n * Returns a value indicating whether the str is a whitespace string.\n */\nfunction isWhitespace(str) {\n    return str.trim() === \"\";\n}\nexports.isWhitespace = isWhitespace;\n/**\n * Returns the string with any trailing whitespace from str removed.\n */\nfunction trimTrailingWhitespace(str) {\n    return str.replace(/\\s+$/, \"\");\n}\nexports.trimTrailingWhitespace = trimTrailingWhitespace;\n/**\n * Returns the string with any leading and trailing whitespace from str removed.\n */\nfunction trimWhitespace(str) {\n    return str.replace(/^\\s+/, \"\").replace(/\\s+$/, \"\");\n}\nexports.trimWhitespace = trimWhitespace;\n/**\n * Returns length difference between the two provided strings.\n */\nfunction getLengthDifference(left, right) {\n    return Math.abs(left.length - right.length);\n}\nexports.getLengthDifference = getLengthDifference;\n/**\n * Repeat char or string several times.\n * @param char The string to repeat.\n * @param count How many times to repeat the string.\n */\nfunction repeat(char, count) {\n    var result = \"\";\n    for (var i = 0; i < count; i++) {\n        result += char;\n    }\n    return result;\n}\nexports.repeat = repeat;\n/**\n * Replace all the occurrences of the textToFind in the text with the textToReplace.\n * @param text The original string.\n * @param textToFind Text to find in the original string.\n * @param textToReplace New text replacing the textToFind.\n */\nfunction replaceAll(text, textToFind, textToReplace) {\n    if (!textToFind)\n        return text;\n    var pattern = escapeStringForRegex(textToFind);\n    return text.replace(new RegExp(pattern, \"gi\"), textToReplace);\n}\nexports.replaceAll = replaceAll;\nfunction ensureUniqueNames(names) {\n    var usedNames = {};\n    // Make sure we are giving fair chance for all columns to stay with their original name\n    // First we fill the used names map to contain all the original unique names from the list.\n    for (var _i = 0, names_1 = names; _i < names_1.length; _i++) {\n        var name_1 = names_1[_i];\n        usedNames[name_1] = false;\n    }\n    var uniqueNames = [];\n    // Now we go over all names and find a unique name for each\n    for (var _a = 0, names_2 = names; _a < names_2.length; _a++) {\n        var name_2 = names_2[_a];\n        var uniqueName = name_2;\n        // If the (original) column name is already taken lets try to find another name\n        if (usedNames[uniqueName]) {\n            var counter = 0;\n            // Find a name that is not already in the map\n            while (usedNames[uniqueName] !== undefined) {\n                uniqueName = name_2 + \".\" + (++counter);\n            }\n        }\n        uniqueNames.push(uniqueName);\n        usedNames[uniqueName] = true;\n    }\n    return uniqueNames;\n}\nexports.ensureUniqueNames = ensureUniqueNames;\n/**\n * Returns a name that is not specified in the values.\n */\nfunction findUniqueName(usedNames, baseName) {\n    // Find a unique name\n    var i = 0, uniqueName = baseName;\n    while (usedNames[uniqueName]) {\n        uniqueName = baseName + (++i);\n    }\n    return uniqueName;\n}\nexports.findUniqueName = findUniqueName;\nfunction constructNameFromList(list, separator, maxCharacter) {\n    var labels = [];\n    var exceeded;\n    var length = 0;\n    for (var _i = 0, list_1 = list; _i < list_1.length; _i++) {\n        var item = list_1[_i];\n        if (length + item.length > maxCharacter && labels.length > 0) {\n            exceeded = true;\n            break;\n        }\n        labels.push(item);\n        length += item.length;\n    }\n    var separatorWithSpace = \" \" + separator + \" \";\n    var name = labels.join(separatorWithSpace);\n    if (exceeded)\n        name += separatorWithSpace + \"...\";\n    return name;\n}\nexports.constructNameFromList = constructNameFromList;\nfunction escapeStringForRegex(s) {\n    return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\");\n}\nexports.escapeStringForRegex = escapeStringForRegex;\n/**\n * Remove file name reserved characters <>:\"/\\|?* from input string.\n */\nfunction normalizeFileName(fileName) {\n    return fileName.replace(/[\\<\\>\\:\"\\/\\\\\\|\\?*]/g, \"\");\n}\nexports.normalizeFileName = normalizeFileName;\n/**\n * Similar to JSON.stringify, but strips away escape sequences so that the resulting\n * string is human-readable (and parsable by JSON formatting/validating tools).\n */\nfunction stringifyAsPrettyJSON(object) {\n    // let specialCharacterRemover = (key: string, value: string) => value.replace(/[^\\w\\s]/gi, \"\");\n    return JSON.stringify(object /*, specialCharacterRemover*/);\n}\nexports.stringifyAsPrettyJSON = stringifyAsPrettyJSON;\n/**\n * Derive a CLS-compliant name from a specified string.  If no allowed characters are present, return a fallback string instead.\n * (6708134): this should have a fully Unicode-aware implementation\n */\nfunction deriveClsCompliantName(input, fallback) {\n    var result = input.replace(/^[^A-Za-z]*/g, \"\").replace(/[ :\\.\\/\\\\\\-\\u00a0\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]/g, \"_\").replace(/[\\W]/g, \"\");\n    return result.length > 0 ? result : fallback;\n}\nexports.deriveClsCompliantName = deriveClsCompliantName;\n// Performs cheap sanitization by stripping away HTML tag (<>) characters.\nfunction stripTagDelimiters(s) {\n    return s.replace(HtmlTagRegex, \"\");\n}\nexports.stripTagDelimiters = stripTagDelimiters;\n//# sourceMappingURL=stringExtensions.js.map","/*\r\n *  Power BI Visualizations\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n */\r\n\r\n\"use strict\";\r\n\r\nimport { formattingSettings } from \"powerbi-visuals-utils-formattingmodel\";\r\nimport powerbi from \"powerbi-visuals-api\";\r\n\r\nimport FormattingSettingsCard = formattingSettings.SimpleCard;\r\nimport FormattingSettingsSlice = formattingSettings.Slice;\r\nimport FormattingSettingsModel = formattingSettings.Model;\r\n\r\n/**\r\n * General Settings Card\r\n */\r\nclass GeneralSettings extends FormattingSettingsCard {\r\n    fontFamily = new formattingSettings.TextInput({\r\n        name: \"fontFamily\",\r\n        displayName: \"Font Family\",\r\n        value: \"Segoe UI, sans-serif\",\r\n        placeholder: \"Enter font family\"\r\n    });\r\n\r\n    fontSize = new formattingSettings.NumUpDown({\r\n        name: \"fontSize\",\r\n        displayName: \"Font Size\",\r\n        value: 10\r\n    });\r\n\r\n    columnWidth = new formattingSettings.NumUpDown({\r\n        name: \"columnWidth\",\r\n        displayName: \"Column Width\",\r\n        value: 0\r\n    });\r\n\r\n    rowHeaderWidth = new formattingSettings.NumUpDown({\r\n        name: \"rowHeaderWidth\",\r\n        displayName: \"Row Header Width\",\r\n        value: 200 // Default width\r\n    });\r\n\r\n    name: string = \"general\";\r\n    displayName: string = \"General\";\r\n    slices: Array<FormattingSettingsSlice> = [\r\n        this.fontFamily,\r\n        this.columnWidth, \r\n        this.fontSize,\r\n        this.rowHeaderWidth\r\n    ];\r\n}\r\n\r\n/**\r\n * Border Settings Card\r\n */\r\nclass BorderSettings extends FormattingSettingsCard {\r\n    show = new formattingSettings.ToggleSwitch({\r\n        name: \"show\",\r\n        displayName: \"Show Borders\",\r\n        value: true\r\n    });\r\n\r\n    color = new formattingSettings.ColorPicker({\r\n        name: \"color\",\r\n        displayName: \"Border Color\",\r\n        value: { value: \"#FFFFF\" },\r\n        instanceKind: powerbi.VisualEnumerationInstanceKinds.ConstantOrRule\r\n    });\r\n\r\n    width = new formattingSettings.NumUpDown({\r\n        name: \"width\",\r\n        displayName: \"Border Width\",\r\n        value: 1\r\n    });\r\n\r\n    horizontalBorders = new formattingSettings.ToggleSwitch({\r\n        name: \"horizontalBorders\",\r\n        displayName: \"Horizontal Borders\",\r\n        value: true\r\n    });\r\n\r\n    verticalBorders = new formattingSettings.ToggleSwitch({\r\n        name: \"verticalBorders\",\r\n        displayName: \"Vertical Borders\",\r\n        value: true\r\n    });\r\n\r\n    name: string = \"borderSettings\";\r\n    displayName: string = \"Borders\";\r\n    slices: Array<FormattingSettingsSlice> = [\r\n        this.show, \r\n        this.color, \r\n        this.width, \r\n        this.horizontalBorders, \r\n        this.verticalBorders\r\n    ];\r\n}\r\n\r\n/**\r\n * Shared formatting options base class\r\n */\r\nclass BaseFormatSettings extends FormattingSettingsCard {\r\n    color = new formattingSettings.ColorPicker({\r\n        name: \"color\",\r\n        displayName: \"Font Color\",\r\n        value: { value: \"#000000\" },\r\n        instanceKind: powerbi.VisualEnumerationInstanceKinds.ConstantOrRule\r\n    });\r\n\r\n    fontSize = new formattingSettings.NumUpDown({\r\n        name: \"fontSize\",\r\n        displayName: \"Font Size\",\r\n        value: 10\r\n    });\r\n\r\n    bold = new formattingSettings.ToggleSwitch({\r\n        name: \"bold\",\r\n        displayName: \"Bold\",\r\n        value: false\r\n    });\r\n\r\n    italic = new formattingSettings.ToggleSwitch({\r\n        name: \"italic\",\r\n        displayName: \"Italic\",\r\n        value: false\r\n    });\r\n\r\n    underline = new formattingSettings.ToggleSwitch({\r\n        name: \"underline\",\r\n        displayName: \"Underline\",\r\n        value: false\r\n    });\r\n    \r\n    backgroundColor = new formattingSettings.ColorPicker({\r\n        name: \"backgroundColor\",\r\n        displayName: \"Background Color\",\r\n        value: { value: \"#FFFFFF\" },\r\n        instanceKind: powerbi.VisualEnumerationInstanceKinds.ConstantOrRule\r\n    });\r\n\r\n    alignment = new formattingSettings.ItemDropdown({\r\n        name: \"alignment\",\r\n        displayName: \"Text Alignment\",\r\n        items: [\r\n            { displayName: \"Left\", value: \"left\" },\r\n            { displayName: \"Center\", value: \"center\" },\r\n            { displayName: \"Right\", value: \"right\" }\r\n        ],\r\n        value: { value: \"right\", displayName: \"Right\" }\r\n    });\r\n\r\n    get formattingSlices(): Array<FormattingSettingsSlice> {\r\n        return [\r\n            this.color, \r\n            this.fontSize,\r\n            this.bold, \r\n            this.italic, \r\n            this.underline,\r\n            this.backgroundColor, \r\n            this.alignment\r\n        ];\r\n    }\r\n}\r\n\r\n/**\r\n * Values Formatting Card\r\n */\r\nclass FontFormatSettings extends BaseFormatSettings {\r\n    name: string = \"fontFormat\";\r\n    displayName: string = \"Data Values\";\r\n    slices: Array<FormattingSettingsSlice> = this.formattingSlices;\r\n\r\n    constructor() {\r\n        super();\r\n        // Default values for data values\r\n        this.alignment.value = { value: \"right\", displayName: \"Right\" };\r\n        this.backgroundColor.value = { value: \"#FFFFFF\" };\r\n    }\r\n}\r\n\r\n/**\r\n * Column Header Formatting Card\r\n */\r\nclass ColumnHeaderFormatSettings extends BaseFormatSettings {\r\n    name: string = \"columnHeaderFormat\";\r\n    displayName: string = \"Column Headers\";\r\n    slices: Array<FormattingSettingsSlice> = this.formattingSlices;\r\n\r\n    constructor() {\r\n        super();\r\n        // Default values for column headers\r\n        this.alignment.value = { value: \"center\", displayName: \"Center\" };\r\n        this.backgroundColor.value = { value: \"#E0E0E0\" };\r\n        this.bold.value = true;\r\n    }\r\n}\r\n\r\n/**\r\n * Row Header Formatting Card\r\n */\r\nclass RowHeaderFormatSettings extends BaseFormatSettings {\r\n    name: string = \"rowHeaderFormat\";\r\n    displayName: string = \"Row Headers\";\r\n    slices: Array<FormattingSettingsSlice> = this.formattingSlices;\r\n\r\n    constructor() {\r\n        super();\r\n        // Default values for row headers\r\n        this.alignment.value = { value: \"left\", displayName: \"Left\" };\r\n        this.backgroundColor.value = { value: \"#E8E8E8\" };\r\n        this.bold.value = true;\r\n    }\r\n}\r\n\r\n/**\r\n * Subtotal Formatting Card\r\n */\r\nclass SubtotalFormatSettings extends BaseFormatSettings {\r\n    name: string = \"subtotalFormat\";\r\n    displayName: string = \"Subtotals\";\r\n    slices: Array<FormattingSettingsSlice> = this.formattingSlices;\r\n\r\n    constructor() {\r\n        super();\r\n        // Default values for subtotals\r\n        this.alignment.value = { value: \"right\", displayName: \"Right\" };\r\n        this.backgroundColor.value = { value: \"#F0F0F0\" };\r\n        this.bold.value = true;\r\n    }\r\n}\r\n\r\n/**\r\n * Blank Rows Settings Card\r\n */\r\nclass BlankRowSettings extends FormattingSettingsCard {\r\n    enableBlankRows = new formattingSettings.ToggleSwitch({\r\n        name: \"enableBlankRows\",\r\n        displayName: \"Add Blank Rows\",\r\n        value: false\r\n    });\r\n\r\n    backgroundColor = new formattingSettings.ColorPicker({\r\n        name: \"backgroundColor\",\r\n        displayName: \"Background Color\",\r\n        value: { value: \"#F0F0F0\" },\r\n        instanceKind: powerbi.VisualEnumerationInstanceKinds.ConstantOrRule\r\n    });\r\n\r\n    height = new formattingSettings.NumUpDown({\r\n        name: \"height\",\r\n        displayName: \"Row Height\",\r\n        value: 10\r\n    });\r\n\r\n    name: string = \"blankRowSettings\";\r\n    displayName: string = \"Blank Rows\";\r\n    slices: Array<FormattingSettingsSlice> = [\r\n        this.enableBlankRows,\r\n        this.backgroundColor,\r\n        this.height\r\n    ];\r\n}\r\n\r\n/**\r\n * Grand Total Settings Card\r\n */\r\nclass GrandTotalSettings extends BaseFormatSettings {\r\n    show = new formattingSettings.ToggleSwitch({\r\n        name: \"show\",\r\n        displayName: \"Show Grand Total\",\r\n        value: true\r\n    });\r\n\r\n    label = new formattingSettings.TextInput({\r\n        name: \"label\",\r\n        displayName: \"Total Label\",\r\n        value: \"Grand Total\",\r\n        placeholder: \"Enter label for total\"\r\n    });\r\n\r\n    name: string = \"grandTotalSettings\";\r\n    displayName: string = \"Grand Total\";\r\n    slices: Array<FormattingSettingsSlice> = [\r\n        this.show,\r\n        this.label,\r\n        ...this.formattingSlices // Get the common formatting options\r\n    ];\r\n\r\n    constructor() {\r\n        super();\r\n        // Default values for grand total\r\n        this.alignment.value = { value: \"right\", displayName: \"Right\" };\r\n        this.backgroundColor.value = { value: \"#EEEEEE\" };\r\n        this.bold.value = true;\r\n    }\r\n}\r\n\r\n/**\r\n * Visual settings model class\r\n */\r\nexport class VisualFormattingSettingsModel extends FormattingSettingsModel {\r\n    // Create formatting settings model formatting cards\r\n    generalSettings = new GeneralSettings();\r\n    borderSettings = new BorderSettings();\r\n    fontFormatSettings = new FontFormatSettings();\r\n    columnHeaderFormatSettings = new ColumnHeaderFormatSettings();\r\n    rowHeaderFormatSettings = new RowHeaderFormatSettings();\r\n    subtotalFormatSettings = new SubtotalFormatSettings();\r\n    blankRowSettings = new BlankRowSettings();\r\n    grandTotalSettings = new GrandTotalSettings();\r\n\r\n    cards = [\r\n        this.generalSettings,\r\n        this.borderSettings,\r\n        this.fontFormatSettings,\r\n        this.columnHeaderFormatSettings,\r\n        this.rowHeaderFormatSettings,\r\n        this.subtotalFormatSettings,\r\n        this.blankRowSettings,\r\n        this.grandTotalSettings\r\n    ];\r\n}","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DisplayUnitSystemType = void 0;\n// The system used to determine display units used during formatting\nvar DisplayUnitSystemType;\n(function (DisplayUnitSystemType) {\n    // Default display unit system, which saves space by using units such as K, M, bn with PowerView rules for when to pick a unit. Suitable for chart axes.\n    DisplayUnitSystemType[DisplayUnitSystemType[\"Default\"] = 0] = \"Default\";\n    // A verbose display unit system that will only respect the formatting defined in the model. Suitable for explore mode single-value cards.\n    DisplayUnitSystemType[DisplayUnitSystemType[\"Verbose\"] = 1] = \"Verbose\";\n    /**\n     * A display unit system that uses units such as K, M, bn if we have at least one of those units (e.g. 0.9M is not valid as it's less than 1 million).\n     * Suitable for dashboard tile cards\n     */\n    DisplayUnitSystemType[DisplayUnitSystemType[\"WholeUnits\"] = 2] = \"WholeUnits\";\n    // A display unit system that also contains Auto and None units for data labels\n    DisplayUnitSystemType[DisplayUnitSystemType[\"DataLabels\"] = 3] = \"DataLabels\";\n})(DisplayUnitSystemType = exports.DisplayUnitSystemType || (exports.DisplayUnitSystemType = {}));\n//# sourceMappingURL=displayUnitSystemType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.familyInfo = exports.font = exports.formattingService = exports.displayUnitSystemType = exports.dateTimeSequence = exports.displayUnitSystem = exports.dateUtils = exports.wordBreaker = exports.textUtil = exports.textMeasurementService = exports.stringExtensions = exports.valueFormatter = exports.formatting = exports.interfaces = void 0;\nvar formatting = require(\"./formatting\");\nexports.formatting = formatting;\nvar valueFormatter = require(\"./valueFormatter\");\nexports.valueFormatter = valueFormatter;\nvar stringExtensions = require(\"./stringExtensions\");\nexports.stringExtensions = stringExtensions;\nvar textMeasurementService = require(\"./textMeasurementService\");\nexports.textMeasurementService = textMeasurementService;\nvar interfaces = require(\"./interfaces\");\nexports.interfaces = interfaces;\nvar font = require(\"./font/family\");\nexports.font = font;\nvar familyInfo = require(\"./font/familyInfo\");\nexports.familyInfo = familyInfo;\nvar textUtil = require(\"./textUtil\");\nexports.textUtil = textUtil;\nvar dateUtils = require(\"./date/dateUtils\");\nexports.dateUtils = dateUtils;\nvar dateTimeSequence = require(\"./date/dateTimeSequence\");\nexports.dateTimeSequence = dateTimeSequence;\nvar displayUnitSystem = require(\"./displayUnitSystem/displayUnitSystem\");\nexports.displayUnitSystem = displayUnitSystem;\nvar displayUnitSystemType = require(\"./displayUnitSystem/displayUnitSystemType\");\nexports.displayUnitSystemType = displayUnitSystemType;\nvar formattingService = require(\"./formattingService/formattingService\");\nexports.formattingService = formattingService;\nvar wordBreaker = require(\"./wordBreaker\");\nexports.wordBreaker = wordBreaker;\n//# sourceMappingURL=index.js.map","import * as arrayExtensions from \"./extensions/arrayExtensions\";\nimport * as enumExtensions from \"./extensions/enumExtensions\";\nimport * as logicExtensions from \"./extensions/logicExtensions\";\nimport * as regExpExtensions from \"./extensions/regExpExtensions\";\nimport * as stringExtensions from \"./extensions/stringExtensions\";\nimport * as numericSequence from \"./numericSequence/numericSequence\";\nimport * as numericSequenceRange from \"./numericSequence/numericSequenceRange\";\nimport * as double from \"./double\";\nimport * as jsonComparer from \"./jsonComparer\";\nimport * as pixelConverter from \"./pixelConverter\";\nimport * as prototype from \"./prototype\";\nimport * as textSizeDefaults from \"./textSizeDefaults\";\nimport * as valueType from \"./valueType\";\nexport { arrayExtensions, enumExtensions, logicExtensions, regExpExtensions, stringExtensions, numericSequence, numericSequenceRange, double, jsonComparer, pixelConverter, prototype, textSizeDefaults, valueType };\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wordBreakOverflowingText = exports.wordBreak = exports.svgEllipsis = exports.getTailoredTextOrDefault = exports.getDivElementWidth = exports.getSvgMeasurementProperties = exports.getMeasurementProperties = exports.measureSvgTextElementWidth = exports.estimateSvgTextHeight = exports.estimateSvgTextBaselineDelta = exports.measureSvgTextHeight = exports.measureSvgTextRect = exports.measureSvgTextWidth = exports.removeSpanElement = void 0;\n// powerbi.extensibility.utils.type\nvar powerbi_visuals_utils_typeutils_1 = require(\"powerbi-visuals-utils-typeutils\");\n// powerbi.extensibility.utils.formatting\nvar wordBreaker = require(\"./wordBreaker\");\nvar ephemeralStorageService_1 = require(\"./storageService/ephemeralStorageService\");\nvar ellipsis = \"...\";\nvar spanElement;\nvar svgTextElement;\nvar canvasCtx;\nvar fallbackFontFamily;\n/**\n * Idempotent function for adding the elements to the DOM.\n */\nfunction ensureDOM() {\n    if (spanElement) {\n        return;\n    }\n    spanElement = document.createElement(\"span\");\n    document.body.appendChild(spanElement);\n    // The style hides the svg element from the canvas, preventing canvas from scrolling down to show svg black square.\n    /* eslint-disable-next-line powerbi-visuals/no-http-string */\n    var svgElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    svgElement.setAttribute(\"height\", \"0\");\n    svgElement.setAttribute(\"width\", \"0\");\n    svgElement.setAttribute(\"position\", \"absolute\");\n    svgElement.style.top = \"0px\";\n    svgElement.style.left = \"0px\";\n    svgElement.style.position = \"absolute\";\n    svgElement.style.height = \"0px\";\n    svgElement.style.width = \"0px\";\n    /* eslint-disable-next-line powerbi-visuals/no-http-string */\n    svgTextElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    svgElement.appendChild(svgTextElement);\n    document.body.appendChild(svgElement);\n    var canvasElement = document.createElement(\"canvas\");\n    canvasCtx = canvasElement.getContext(\"2d\");\n    var style = window.getComputedStyle(svgTextElement);\n    if (style) {\n        fallbackFontFamily = style.fontFamily;\n    }\n    else {\n        fallbackFontFamily = \"\";\n    }\n}\n/**\n * Removes spanElement from DOM.\n */\nfunction removeSpanElement() {\n    if (spanElement && spanElement.remove) {\n        spanElement.remove();\n    }\n    spanElement = null;\n}\nexports.removeSpanElement = removeSpanElement;\n/**\n * Measures the width of the text with the given SVG text properties.\n * @param textProperties The text properties to use for text measurement.\n * @param text The text to measure.\n */\nfunction measureSvgTextWidth(textProperties, text) {\n    ensureDOM();\n    canvasCtx.font =\n        (textProperties.fontStyle || \"\") + \" \" +\n            (textProperties.fontVariant || \"\") + \" \" +\n            (textProperties.fontWeight || \"\") + \" \" +\n            textProperties.fontSize + \" \" +\n            (textProperties.fontFamily || fallbackFontFamily);\n    return canvasCtx.measureText(text || textProperties.text).width;\n}\nexports.measureSvgTextWidth = measureSvgTextWidth;\n/**\n * Return the rect with the given SVG text properties.\n * @param textProperties The text properties to use for text measurement.\n * @param text The text to measure.\n */\nfunction measureSvgTextRect(textProperties, text) {\n    ensureDOM();\n    // Removes DOM elements faster than innerHTML\n    while (svgTextElement.firstChild) {\n        svgTextElement.removeChild(svgTextElement.firstChild);\n    }\n    svgTextElement.setAttribute(\"style\", null);\n    svgTextElement.style.visibility = \"hidden\";\n    svgTextElement.style.fontFamily = textProperties.fontFamily || fallbackFontFamily;\n    svgTextElement.style.fontVariant = textProperties.fontVariant;\n    svgTextElement.style.fontSize = textProperties.fontSize;\n    svgTextElement.style.fontWeight = textProperties.fontWeight;\n    svgTextElement.style.fontStyle = textProperties.fontStyle;\n    svgTextElement.style.whiteSpace = textProperties.whiteSpace || \"nowrap\";\n    svgTextElement.appendChild(document.createTextNode(text || textProperties.text));\n    // We're expecting the browser to give a synchronous measurement here\n    // We're using SVGTextElement because it works across all browsers\n    return svgTextElement.getBBox();\n}\nexports.measureSvgTextRect = measureSvgTextRect;\n/**\n * Measures the height of the text with the given SVG text properties.\n * @param textProperties The text properties to use for text measurement.\n * @param text The text to measure.\n */\nfunction measureSvgTextHeight(textProperties, text) {\n    return measureSvgTextRect(textProperties, text).height;\n}\nexports.measureSvgTextHeight = measureSvgTextHeight;\n/**\n * Returns the text Rect with the given SVG text properties.\n * Does NOT return text width; obliterates text value\n * @param {TextProperties} textProperties - The text properties to use for text measurement\n */\nfunction estimateSvgTextRect(textProperties) {\n    var propertiesKey = textProperties.fontFamily + textProperties.fontSize;\n    var rect = ephemeralStorageService_1.ephemeralStorageService.getData(propertiesKey);\n    if (rect == null) {\n        // To estimate we check the height of a particular character, once it is cached, subsequent\n        // calls should always get the height from the cache (regardless of the text).\n        var estimatedTextProperties = {\n            fontFamily: textProperties.fontFamily,\n            fontSize: textProperties.fontSize,\n            text: \"M\",\n        };\n        rect = exports.measureSvgTextRect(estimatedTextProperties);\n        // NOTE: In some cases (disconnected/hidden DOM) we may provide incorrect measurement results (zero sized bounding-box), so\n        // we only store values in the cache if we are confident they are correct.\n        if (rect.height > 0)\n            ephemeralStorageService_1.ephemeralStorageService.setData(propertiesKey, rect);\n    }\n    return rect;\n}\n/**\n * Returns the text Rect with the given SVG text properties.\n * @param {TextProperties} textProperties - The text properties to use for text measurement\n */\nfunction estimateSvgTextBaselineDelta(textProperties) {\n    var rect = estimateSvgTextRect(textProperties);\n    return rect.y + rect.height;\n}\nexports.estimateSvgTextBaselineDelta = estimateSvgTextBaselineDelta;\n/**\n * Estimates the height of the text with the given SVG text properties.\n * @param {TextProperties} textProperties - The text properties to use for text measurement\n */\nfunction estimateSvgTextHeight(textProperties, tightFightForNumeric) {\n    if (tightFightForNumeric === void 0) { tightFightForNumeric = false; }\n    var height = estimateSvgTextRect(textProperties).height;\n    // replace it with new baseline calculation\n    if (tightFightForNumeric)\n        height *= 0.7;\n    return height;\n}\nexports.estimateSvgTextHeight = estimateSvgTextHeight;\n/**\n * Measures the width of the svgElement.\n * @param svgElement The SVGTextElement to be measured.\n */\nfunction measureSvgTextElementWidth(svgElement) {\n    return measureSvgTextWidth(getSvgMeasurementProperties(svgElement));\n}\nexports.measureSvgTextElementWidth = measureSvgTextElementWidth;\n/**\n * Fetches the text measurement properties of the given DOM element.\n * @param element The selector for the DOM Element.\n */\nfunction getMeasurementProperties(element) {\n    var style = window.getComputedStyle(element);\n    return {\n        text: element.value || element.textContent,\n        fontFamily: style.fontFamily,\n        fontSize: style.fontSize,\n        fontWeight: style.fontWeight,\n        fontStyle: style.fontStyle,\n        fontVariant: style.fontVariant,\n        whiteSpace: style.whiteSpace\n    };\n}\nexports.getMeasurementProperties = getMeasurementProperties;\n/**\n * Fetches the text measurement properties of the given SVG text element.\n * @param element The SVGTextElement to be measured.\n */\nfunction getSvgMeasurementProperties(element) {\n    var style = window.getComputedStyle(element);\n    if (style) {\n        return {\n            text: element.textContent,\n            fontFamily: style.fontFamily,\n            fontSize: style.fontSize,\n            fontWeight: style.fontWeight,\n            fontStyle: style.fontStyle,\n            fontVariant: style.fontVariant,\n            whiteSpace: style.whiteSpace\n        };\n    }\n    else {\n        return {\n            text: element.textContent,\n            fontFamily: \"\",\n            fontSize: \"0\",\n        };\n    }\n}\nexports.getSvgMeasurementProperties = getSvgMeasurementProperties;\n/**\n * Returns the width of a div element.\n * @param element The div element.\n */\nfunction getDivElementWidth(element) {\n    var style = window.getComputedStyle(element);\n    if (style)\n        return style.width;\n    else\n        return \"0\";\n}\nexports.getDivElementWidth = getDivElementWidth;\n/**\n * Compares labels text size to the available size and renders ellipses when the available size is smaller.\n * @param textProperties The text properties (including text content) to use for text measurement.\n * @param maxWidth The maximum width available for rendering the text.\n */\nfunction getTailoredTextOrDefault(textProperties, maxWidth) {\n    ensureDOM();\n    var strLength = textProperties.text.length;\n    if (strLength === 0) {\n        return textProperties.text;\n    }\n    var width = measureSvgTextWidth(textProperties);\n    if (width < maxWidth) {\n        return textProperties.text;\n    }\n    var ellipsesWidth = measureSvgTextWidth(textProperties, ellipsis);\n    if (ellipsesWidth >= width) {\n        return textProperties.text;\n    }\n    // Create a copy of the textProperties so we don't modify the one that's passed in.\n    var copiedTextProperties = powerbi_visuals_utils_typeutils_1.prototype.inherit(textProperties);\n    // Take the properties and apply them to svgTextElement\n    // Then, do the binary search to figure out the substring we want\n    // Set the substring on textElement argument\n    var text = copiedTextProperties.text = ellipsis + copiedTextProperties.text;\n    var min = 1;\n    var max = text.length;\n    var i = ellipsis.length;\n    while (min <= max) {\n        // num | 0 preferred to Math.floor(num) for performance benefits\n        i = (min + max) / 2 | 0;\n        copiedTextProperties.text = text.substring(0, i);\n        width = measureSvgTextWidth(copiedTextProperties);\n        if (maxWidth > width) {\n            min = i + 1;\n        }\n        else if (maxWidth < width) {\n            max = i - 1;\n        }\n        else {\n            break;\n        }\n    }\n    // Since the search algorithm almost never finds an exact match,\n    // it will pick one of the closest two, which could result in a\n    // value bigger with than 'maxWidth' thus we need to go back by\n    // one to guarantee a smaller width than 'maxWidth'.\n    copiedTextProperties.text = text.substring(0, i);\n    width = measureSvgTextWidth(copiedTextProperties);\n    if (width > maxWidth) {\n        i--;\n    }\n    return textProperties.text.substring(0, i - ellipsis.length) + ellipsis;\n}\nexports.getTailoredTextOrDefault = getTailoredTextOrDefault;\n/**\n * Compares labels text size to the available size and renders ellipses when the available size is smaller.\n * @param textElement The SVGTextElement containing the text to render.\n * @param maxWidth The maximum width available for rendering the text.\n */\nfunction svgEllipsis(textElement, maxWidth) {\n    var properties = getSvgMeasurementProperties(textElement);\n    var originalText = properties.text;\n    var tailoredText = getTailoredTextOrDefault(properties, maxWidth);\n    if (originalText !== tailoredText) {\n        textElement.textContent = tailoredText;\n    }\n}\nexports.svgEllipsis = svgEllipsis;\n/**\n * Word break textContent of <text> SVG element into <tspan>s\n * Each tspan will be the height of a single line of text\n * @param textElement - the SVGTextElement containing the text to wrap\n * @param maxWidth - the maximum width available\n * @param maxHeight - the maximum height available (defaults to single line)\n * @param linePadding - (optional) padding to add to line height\n */\nfunction wordBreak(textElement, maxWidth, maxHeight, linePadding) {\n    if (linePadding === void 0) { linePadding = 0; }\n    var properties = getSvgMeasurementProperties(textElement);\n    var height = estimateSvgTextHeight(properties) + linePadding;\n    var maxNumLines = Math.max(1, Math.floor(maxHeight / height));\n    // Save y of parent textElement to apply as first tspan dy\n    var firstDY = textElement ? textElement.getAttribute(\"y\") : null;\n    // Store and clear text content\n    var labelText = textElement ? textElement.textContent : null;\n    textElement.textContent = null;\n    // Append a tspan for each word broken section\n    var words = wordBreaker.splitByWidth(labelText, properties, measureSvgTextWidth, maxWidth, maxNumLines);\n    var fragment = document.createDocumentFragment();\n    for (var i = 0, ilen = words.length; i < ilen; i++) {\n        var dy = i === 0 ? firstDY : height;\n        properties.text = words[i];\n        /* eslint-disable-next-line powerbi-visuals/no-http-string */\n        var textElement_1 = document.createElementNS(\"http://www.w3.org/2000/svg\", \"tspan\");\n        textElement_1.setAttribute(\"x\", \"0\");\n        textElement_1.setAttribute(\"dy\", dy ? dy.toString() : null);\n        textElement_1.appendChild(document.createTextNode(getTailoredTextOrDefault(properties, maxWidth)));\n        fragment.appendChild(textElement_1);\n    }\n    textElement.appendChild(fragment);\n}\nexports.wordBreak = wordBreak;\n/**\n * Word break textContent of span element into <span>s\n * Each span will be the height of a single line of text\n * @param textElement - the element containing the text to wrap\n * @param maxWidth - the maximum width available\n * @param maxHeight - the maximum height available (defaults to single line)\n * @param linePadding - (optional) padding to add to line height\n */\nfunction wordBreakOverflowingText(textElement, maxWidth, maxHeight, linePadding) {\n    if (linePadding === void 0) { linePadding = 0; }\n    var properties = getSvgMeasurementProperties(textElement);\n    var height = estimateSvgTextHeight(properties) + linePadding;\n    var maxNumLines = Math.max(1, Math.floor(maxHeight / height));\n    // Store and clear text content\n    var labelText = textElement.textContent;\n    textElement.textContent = null;\n    // Append a span for each word broken section\n    var words = wordBreaker.splitByWidth(labelText, properties, measureSvgTextWidth, maxWidth, maxNumLines);\n    var fragment = document.createDocumentFragment();\n    for (var i = 0; i < words.length; i++) {\n        var span = document.createElement(\"span\");\n        span.style.overflow = \"hidden\";\n        span.style.whiteSpace = \"nowrap\";\n        span.style.textOverflow = \"ellipsis\";\n        span.style.display = \"block\";\n        span.style.width = powerbi_visuals_utils_typeutils_1.pixelConverter.toString(maxWidth);\n        span.appendChild(document.createTextNode(words[i]));\n        span.appendChild(document.createTextNode(getTailoredTextOrDefault(properties, maxWidth)));\n        fragment.appendChild(span);\n    }\n    textElement.appendChild(fragment);\n}\nexports.wordBreakOverflowingText = wordBreakOverflowingText;\n//# sourceMappingURL=textMeasurementService.js.map","export default \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Nova Matrix - Features</title>\\n    <style>\\n        * {\\n            margin: 0;\\n            padding: 0;\\n            box-sizing: border-box;\\n        }\\n        \\n        body {\\n            font-family: 'Segoe UI', Arial, sans-serif;\\n            background-color: #13141a;\\n            color: #ffffff;\\n            height: 100vh;\\n            width: 100%;\\n            overflow: hidden;\\n            position: relative;\\n        }\\n        \\n        /* Star background */\\n        body:before {\\n            content: '';\\n            position: absolute;\\n            width: 100%;\\n            height: 100%;\\n            background-image: radial-gradient(circle, rgba(255, 255, 255, 0.3) 1px, transparent 1px);\\n            background-size: 50px 50px;\\n            z-index: 0;\\n            opacity: 0.3;\\n        }\\n        \\n        .container {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            justify-content: center;\\n            height: 100%;\\n            position: relative;\\n            z-index: 1;\\n            padding: 10;\\n            overflow-y: auto;\\n            min-height: 250;\\n            gap: clamp(10px, 2.5vh, 25px);\\n            transition: opacity 0.5s ease;\\n            opacity: 1;\\n        }\\n\\n        .container.fade-out {\\n            opacity: 0;\\n        }\\n        \\n        .header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            width: 100%;\\n            position: absolute;\\n            top: 0;\\n            padding: 10px 10px;\\n        }\\n        \\n        .logo {\\n            display: flex;\\n            align-items: center;\\n            font-size: 14px;\\n            font-weight: 500;\\n            color: #ffffff;\\n        }\\n        \\n        .main-title {\\n            font-size: clamp(12px, 5vw, 36px);\\n            font-weight: bold;\\n            letter-spacing: clamp(4px, 1vw, 8px);\\n            text-align: center;\\n            margin-bottom: clamp(5px, 1.5vh, 10px);\\n            color: #ffffff;\\n            text-transform: uppercase;\\n        }\\n        \\n        .subtitle {\\n            font-size: clamp(8px, 5vw, 14px);\\n            letter-spacing: 2px;\\n            text-align: center;\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n            color: #b0b0b0;\\n            text-transform: uppercase;\\n        }\\n        \\n        .feature-list {\\n            text-align: center;\\n            max-width: 600px;\\n            padding: 0 10px;\\n        }\\n        \\n        .feature-list ul {\\n            list-style: none;\\n            margin-top: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .feature-list li {\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n            font-size: 14px;\\n            color: #d0d0d0;\\n        }\\n        \\n        .nav-buttons {\\n            display: flex;\\n            gap: clamp(15px, 4vw, 30px);\\n            margin-top: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .nav-button {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            text-decoration: none;\\n            color: #ffffff;\\n            cursor: pointer;\\n        }\\n        \\n        /* Button orbs */\\n        .button-orb-container {\\n            width: 100px;\\n            height: 100px;\\n            position: relative;\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .button-orb {\\n            width: 75px;\\n            height: 75px;\\n            background: radial-gradient(circle, \\n                rgba(255, 255, 255, 0.9) 15%, \\n                rgba(255, 234, 130, 0.8) 30%, \\n                rgba(255, 183, 101, 0.7) 45%, \\n                rgba(255, 100, 80, 0.5) 60%,\\n                transparent 75%);\\n            border-radius: 50%;\\n            position: absolute;\\n            top: 50%;\\n            left: 50%;\\n            transform: translate(-50%, -50%);\\n            box-shadow: \\n                0 0 15px rgba(255, 234, 130, 0.4),\\n                0 0 25px rgba(255, 183, 101, 0.2);\\n            animation: buttonPulse 2s infinite alternate, rotate 15s infinite linear;\\n            opacity: 0.9;\\n        }\\n        \\n        .button-orb:before {\\n            content: '';\\n            position: absolute;\\n            top: -15%;\\n            left: -15%;\\n            right: -15%;\\n            bottom: -15%;\\n            border-radius: 50%;\\n            background: radial-gradient(circle, \\n                transparent 60%, \\n                rgba(255, 234, 130, 0.1) 70%, \\n                rgba(255, 183, 101, 0.1) 80%, \\n                transparent 100%);\\n            z-index: -1;\\n            animation: buttonGlow 3s infinite alternate;\\n        }\\n        \\n        .button-orb:after {\\n            content: '';\\n            position: absolute;\\n            width: 40%;\\n            height: 40%;\\n            top: 50%;\\n            left: 50%;\\n            transform: translate(-50%, -50%);\\n            background: radial-gradient(circle, \\n                rgba(255, 255, 255, 0.9) 0%, \\n                rgba(255, 240, 180, 0.8) 50%, \\n                transparent 100%);\\n            border-radius: 50%;\\n            box-shadow: 0 0 10px rgba(255, 240, 180, 0.5);\\n            animation: buttonCoreGlow 1.5s infinite alternate;\\n        }\\n        \\n        @keyframes buttonPulse {\\n            0% {\\n                transform: translate(-50%, -50%) scale(0.9);\\n            }\\n            100% {\\n                transform: translate(-50%, -50%) scale(1.1);\\n            }\\n        }\\n        \\n        @keyframes buttonGlow {\\n            0% {\\n                opacity: 0.3;\\n                box-shadow: 0 0 15px rgba(255, 234, 130, 0.2);\\n            }\\n            100% {\\n                opacity: 0.6;\\n                box-shadow: 0 0 25px rgba(255, 183, 101, 0.4);\\n            }\\n        }\\n        \\n        @keyframes buttonCoreGlow {\\n            0% {\\n                opacity: 0.7;\\n                width: 36%;\\n                height: 36%;\\n            }\\n            100% {\\n                opacity: 1;\\n                width: 43%;\\n                height: 43%;\\n            }\\n        }\\n        \\n        @keyframes rotate {\\n            0% {\\n                background-position: 0% 0%;\\n            }\\n            100% {\\n                background-position: 100% 100%;\\n            }\\n        }\\n        \\n        .continue-text {\\n            font-size: 12px;\\n            text-transform: uppercase;\\n            letter-spacing: 2px;\\n        }\\n        \\n        .footer {\\n            width: 100%;\\n            text-align: center;\\n            margin-top: clamp(10px, 2vh, 20px);\\n            position: relative;\\n        }\\n        \\n        .progress {\\n            display: flex;\\n            justify-content: center;\\n            align-items: center;\\n            gap: 15px;\\n        }\\n        \\n        .progress-item {\\n            width: 12px;\\n            height: 12px;\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\n            border-radius: 50%;\\n        }\\n        \\n        .progress-item.active {\\n            background-color: rgba(255, 255, 255, 0.5);\\n        }\\n\\n        .diamond {\\n            width: 10px;\\n            height: 10px;\\n            background-color: transparent;\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\n            transform: rotate(45deg);\\n            display: inline-flex; /* Changed from 'flex' to 'inline-flex' */\\n            align-items: center;\\n            justify-content: center;\\n            margin-right: 8px; /* Adds spacing instead of margin-bottom */\\n            vertical-align: middle; /* Aligns with text */\\n        }\\n        \\n        .diamond-inner {\\n            width: 4px;\\n            height: 4px;\\n            background-color: rgba(255, 255, 255, 0.5);\\n        }\\n        \\n        .credit {\\n            font-size: 10px;\\n            color: #666;\\n            text-transform: uppercase;\\n            letter-spacing: 1px;\\n        }\\n        \\n        /* Content wrapper to maintain consistent vertical centering */\\n        .content-wrapper {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            max-width: 100%;\\n            padding-top: clamp(0px, 5vh, 60px);\\n        }\\n        \\n        /* Smoother responsive approach with no sudden jumps */\\n        @media (max-width: 768px) {\\n            .nav-buttons {\\n                gap: calc(15px + (30 - 15) * ((100vw - 320px) / (768 - 320)));\\n            }\\n            \\n            .progress {\\n                gap: calc(10px + (15 - 10) * ((100vw - 320px) / (768 - 320)));\\n            }\\n        }\\n    </style>\\n</head>\\n<body>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"header\\\">\\n            <div class=\\\"logo\\\">\\n                <div>NOVA MATRIX</div>\\n            </div>\\n            <div class=\\\"progress\\\">\\n                <div class=\\\"progress-item\\\"></div>\\n                <div class=\\\"progress-item active\\\"></div>\\n                <div class=\\\"progress-item\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"content-wrapper\\\">\\n            <h1 class=\\\"main-title\\\">FEATURES</h1>\\n            \\n            <div class=\\\"feature-list\\\">\\n                <p class=\\\"subtitle\\\">Nova Matrix offers powerful features for your data</p>\\n                <ul>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Highly customizable styling and formatting\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Interactive expand/collapse functionality\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Advanced subtotal calculations\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Dynamic row and column sizing\\n                    </li>\\n                    <li>\\n                        <div class=\\\"diamond\\\"><div class=\\\"diamond-inner\\\"></div></div> Smart context menu for quick actions\\n                    </li>\\n                </ul>\\n            </div>            \\n            \\n            <div class=\\\"nav-buttons\\\">\\n                <a href=\\\"#\\\" class=\\\"nav-button\\\" data-action=\\\"back\\\">\\n                    <div class=\\\"button-orb-container\\\">\\n                        <div class=\\\"button-orb\\\"></div>\\n                    </div>\\n                    <span class=\\\"continue-text\\\">Back</span>\\n                </a>\\n                <a href=\\\"#\\\" class=\\\"nav-button\\\" data-action=\\\"next\\\">\\n                    <div class=\\\"button-orb-container\\\">\\n                        <div class=\\\"button-orb\\\"></div>\\n                    </div>\\n                    <span class=\\\"continue-text\\\">Next</span>\\n                </a>\\n            </div>\\n            \\n            <div class=\\\"footer\\\">\\n                <div class=\\\"credit\\\">Developed by Joshua Biondo</div>\\n            </div>\\n        </div>\\n    </div>\\n</body>\\n</html>\";","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n// NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\nimport { isInteger } from \"../double\";\n/**\n * Extensions for Enumerations.\n */\n/**\n * Gets a value indicating whether the value has the bit flags set.\n */\nexport function hasFlag(value, flag) {\n    return (value & flag) === flag;\n}\n/**\n * Sets a value of a flag without modifying any other flags.\n */\nexport function setFlag(value, flag) {\n    return value |= flag;\n}\n/**\n * Resets a value of a flag without modifying any other flags.\n */\nexport function resetFlag(value, flag) {\n    return value &= ~flag;\n}\n/**\n * According to the TypeScript Handbook, this is safe to do.\n */\nexport function toString(enumType, value) {\n    return enumType[value];\n}\n/**\n * Returns the number of 1's in the specified value that is a set of binary bit flags.\n */\nexport function getBitCount(value) {\n    if (!isInteger(value))\n        return 0;\n    let bitCount = 0;\n    let shiftingValue = value;\n    while (shiftingValue !== 0) {\n        if ((shiftingValue & 1) === 1) {\n            bitCount++;\n        }\n        shiftingValue = shiftingValue >>> 1;\n    }\n    return bitCount;\n}\n//# sourceMappingURL=enumExtensions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.locales = void 0;\nexports.locales = {\"en-US\":[\"en-US\",\"default\",{\"englishName\":\"English (United States)\"}]}","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n// NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\n/**\n * Runs exec on regex starting from 0 index\n * This is the expected behavior but RegExp actually remember\n * the last index they stopped at (found match at) and will\n * return unexpected results when run in sequence.\n * @param regex - regular expression object\n * @param value - string to search wiht regex\n * @param start - index within value to start regex\n */\nexport function run(regex, value, start) {\n    regex.lastIndex = start || 0;\n    return regex.exec(value);\n}\n//# sourceMappingURL=regExpExtensions.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n/* eslint-disable no-useless-escape */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formattingEncoder = exports.dateTimeFormat = exports.numberFormat = exports.formattingService = exports.FormattingService = void 0;\nvar globalize_1 = require(\"./../../globalize/globalize\");\nvar globalize_cultures_1 = require(\"./../../globalize/globalize.cultures\");\n(0, globalize_cultures_1.default)(globalize_1.Globalize);\nvar dateTimeFormat = require(\"./dateTimeFormat\");\nexports.dateTimeFormat = dateTimeFormat;\nvar numberFormat = require(\"./numberFormat\");\nexports.numberFormat = numberFormat;\nvar formattingEncoder = require(\"./formattingEncoder\");\nexports.formattingEncoder = formattingEncoder;\nvar iFormattingService_1 = require(\"./iFormattingService\");\nvar IndexedTokensRegex = /({{)|(}})|{(\\d+[^}]*)}/g;\n// Formatting Service\nvar FormattingService = /** @class */ (function () {\n    function FormattingService() {\n    }\n    FormattingService.prototype.formatValue = function (value, formatValue, cultureSelector) {\n        // Handle special cases\n        if (value === undefined || value === null) {\n            return \"\";\n        }\n        var gculture = this.getCulture(cultureSelector);\n        if (dateTimeFormat.canFormat(value)) {\n            // Dates\n            return dateTimeFormat.format(value, formatValue, gculture);\n        }\n        else if (numberFormat.canFormat(value)) {\n            // Numbers\n            return numberFormat.format(value, formatValue, gculture);\n        }\n        // Other data types - return as string\n        return value.toString();\n    };\n    FormattingService.prototype.format = function (formatWithIndexedTokens, args, culture) {\n        var _this = this;\n        if (!formatWithIndexedTokens) {\n            return \"\";\n        }\n        return formatWithIndexedTokens.replace(IndexedTokensRegex, function (match, left, right, argToken) {\n            if (left) {\n                return \"{\";\n            }\n            else if (right) {\n                return \"}\";\n            }\n            else {\n                var parts = argToken.split(\":\");\n                var argIndex = parseInt(parts[0], 10);\n                var argFormat = parts[1];\n                return _this.formatValue(args[argIndex], argFormat, culture);\n            }\n        });\n    };\n    FormattingService.prototype.isStandardNumberFormat = function (format) {\n        return numberFormat.isStandardFormat(format);\n    };\n    FormattingService.prototype.formatNumberWithCustomOverride = function (value, format, nonScientificOverrideFormat, culture) {\n        var gculture = this.getCulture(culture);\n        return numberFormat.formatWithCustomOverride(value, format, nonScientificOverrideFormat, gculture);\n    };\n    FormattingService.prototype.dateFormatString = function (unit) {\n        if (!this._dateTimeScaleFormatInfo)\n            this.initialize();\n        return this._dateTimeScaleFormatInfo.getFormatString(unit);\n    };\n    /**\n     * Sets the current localization culture\n     * @param cultureSelector - name of a culture: \"en\", \"en-UK\", \"fr-FR\" etc. (See National Language Support (NLS) for full lists. Use \"default\" for invariant culture).\n     */\n    FormattingService.prototype.setCurrentCulture = function (cultureSelector) {\n        if (this._currentCultureSelector !== cultureSelector) {\n            this._currentCulture = this.getCulture(cultureSelector);\n            this._currentCultureSelector = cultureSelector;\n            this._dateTimeScaleFormatInfo = new DateTimeScaleFormatInfo(this._currentCulture);\n        }\n    };\n    /**\n     * Gets the culture assotiated with the specified cultureSelector (\"en\", \"en-US\", \"fr-FR\" etc).\n     * @param cultureSelector - name of a culture: \"en\", \"en-UK\", \"fr-FR\" etc. (See National Language Support (NLS) for full lists. Use \"default\" for invariant culture).\n     * Exposing this function for testability of unsupported cultures\n     */\n    FormattingService.prototype.getCulture = function (cultureSelector) {\n        if (cultureSelector == null) {\n            if (this._currentCulture == null) {\n                this.initialize();\n            }\n            return this._currentCulture;\n        }\n        else {\n            var culture = globalize_1.Globalize.findClosestCulture(cultureSelector);\n            if (!culture)\n                culture = globalize_1.Globalize.culture(\"en-US\");\n            return culture;\n        }\n    };\n    // By default the Globalization module initializes to the culture/calendar provided in the language/culture URL params\n    FormattingService.prototype.initialize = function () {\n        var cultureName = this.getCurrentCulture();\n        this.setCurrentCulture(cultureName);\n        var calendarName = this.getUrlParam(\"calendar\");\n        if (calendarName) {\n            var culture = this._currentCulture;\n            var c = culture.calendars[calendarName];\n            if (c) {\n                culture.calendar = c;\n            }\n        }\n    };\n    /**\n     *  Exposing this function for testability\n     */\n    FormattingService.prototype.getCurrentCulture = function () {\n        if (window === null || window === void 0 ? void 0 : window.navigator) {\n            return window.navigator.userLanguage || window.navigator[\"language\"];\n        }\n        return \"en-US\";\n    };\n    /**\n     *  Exposing this function for testability\n     *  @param name: queryString name\n     */\n    FormattingService.prototype.getUrlParam = function (name) {\n        var param = window.location.search.match(RegExp(\"[?&]\" + name + \"=([^&]*)\"));\n        return param ? param[1] : undefined;\n    };\n    return FormattingService;\n}());\nexports.FormattingService = FormattingService;\n// DateTimeScaleFormatInfo is used to calculate and keep the Date formats used for different units supported by the DateTimeScaleModel\nvar DateTimeScaleFormatInfo = /** @class */ (function () {\n    // Constructor\n    /**\n     * Creates new instance of the DateTimeScaleFormatInfo class.\n     * @param culture - culture which calendar info is going to be used to derive the formats.\n     */\n    function DateTimeScaleFormatInfo(culture) {\n        var calendar = culture.calendar;\n        var patterns = calendar.patterns;\n        var monthAbbreviations = calendar[\"months\"][\"namesAbbr\"];\n        var cultureHasMonthAbbr = monthAbbreviations && monthAbbreviations[0];\n        var yearMonthPattern = patterns[\"Y\"];\n        var monthDayPattern = patterns[\"M\"];\n        var fullPattern = patterns[\"f\"];\n        var longTimePattern = patterns[\"T\"];\n        var shortTimePattern = patterns[\"t\"];\n        var separator = fullPattern.indexOf(\",\") > -1 ? \", \" : \" \";\n        var hasYearSymbol = yearMonthPattern.indexOf(\"yyyy'\") === 0 && yearMonthPattern.length > 6 && yearMonthPattern[6] === \"\\'\";\n        this.YearPattern = hasYearSymbol ? yearMonthPattern.substring(0, 7) : \"yyyy\";\n        var yearPos = fullPattern.indexOf(\"yy\");\n        var monthPos = fullPattern.indexOf(\"MMMM\");\n        this.MonthPattern = cultureHasMonthAbbr && monthPos > -1 ? (yearPos > monthPos ? \"MMM yyyy\" : \"yyyy MMM\") : yearMonthPattern;\n        this.DayPattern = cultureHasMonthAbbr ? monthDayPattern.replace(\"MMMM\", \"MMM\") : monthDayPattern;\n        var minutePos = fullPattern.indexOf(\"mm\");\n        var pmPos = fullPattern.indexOf(\"tt\");\n        var shortHourPattern = pmPos > -1 ? shortTimePattern.replace(\":mm \", \"\") : shortTimePattern;\n        this.HourPattern = yearPos < minutePos ? this.DayPattern + separator + shortHourPattern : shortHourPattern + separator + this.DayPattern;\n        this.MinutePattern = shortTimePattern;\n        this.SecondPattern = longTimePattern;\n        this.MillisecondPattern = longTimePattern.replace(\"ss\", \"ss.fff\");\n        // Special cases\n        switch (culture.name) {\n            case \"fi-FI\":\n                this.DayPattern = this.DayPattern.replace(\"'ta'\", \"\"); // Fix for finish 'ta' suffix for month names.\n                this.HourPattern = this.HourPattern.replace(\"'ta'\", \"\");\n                break;\n        }\n    }\n    // Methods\n    /**\n     * Returns the format string of the provided DateTimeUnit.\n     * @param unit - date or time unit\n     */\n    DateTimeScaleFormatInfo.prototype.getFormatString = function (unit) {\n        switch (unit) {\n            case iFormattingService_1.DateTimeUnit.Year:\n                return this.YearPattern;\n            case iFormattingService_1.DateTimeUnit.Month:\n                return this.MonthPattern;\n            case iFormattingService_1.DateTimeUnit.Week:\n            case iFormattingService_1.DateTimeUnit.Day:\n                return this.DayPattern;\n            case iFormattingService_1.DateTimeUnit.Hour:\n                return this.HourPattern;\n            case iFormattingService_1.DateTimeUnit.Minute:\n                return this.MinutePattern;\n            case iFormattingService_1.DateTimeUnit.Second:\n                return this.SecondPattern;\n            case iFormattingService_1.DateTimeUnit.Millisecond:\n                return this.MillisecondPattern;\n        }\n    };\n    return DateTimeScaleFormatInfo;\n}());\nvar formattingService = new FormattingService();\nexports.formattingService = formattingService;\n//# sourceMappingURL=formattingService.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataLabelsDisplayUnitSystem = exports.WholeUnitsDisplayUnitSystem = exports.DefaultDisplayUnitSystem = exports.NoDisplayUnitSystem = exports.DisplayUnitSystem = exports.DisplayUnit = void 0;\n/* eslint-disable no-useless-escape */\nvar formattingService_1 = require(\"./../formattingService/formattingService\");\nvar powerbi_visuals_utils_typeutils_1 = require(\"powerbi-visuals-utils-typeutils\");\n// Constants\nvar maxExponent = 24;\nvar defaultScientificBigNumbersBoundary = 1E15;\nvar scientificSmallNumbersBoundary = 1E-4;\nvar PERCENTAGE_FORMAT = \"%\";\nvar SCIENTIFIC_FORMAT = \"E+0\";\nvar DEFAULT_SCIENTIFIC_FORMAT = \"0.##\" + SCIENTIFIC_FORMAT;\n// Regular expressions\n/**\n * This regex looks for strings that match one of the following conditions:\n *   - Optionally contain \"0\", \"#\", followed by a period, followed by at least one \"0\" or \"#\" (Ex. ###,000.###)\n *   - Contains at least one of \"0\", \"#\", or \",\" (Ex. ###,000)\n *   - Contain a \"g\" (indicates to use the general .NET numeric format string)\n * The entire string (start to end) must match, and the match is not case-sensitive.\n */\nvar SUPPORTED_SCIENTIFIC_FORMATS = /^([0\\#,]*\\.[0\\#]+|[0\\#,]+|g)$/i;\nvar DisplayUnit = /** @class */ (function () {\n    function DisplayUnit() {\n    }\n    // Methods\n    DisplayUnit.prototype.project = function (value) {\n        if (this.value) {\n            return powerbi_visuals_utils_typeutils_1.double.removeDecimalNoise(value / this.value);\n        }\n        else {\n            return value;\n        }\n    };\n    DisplayUnit.prototype.reverseProject = function (value) {\n        if (this.value) {\n            return value * this.value;\n        }\n        else {\n            return value;\n        }\n    };\n    DisplayUnit.prototype.isApplicableTo = function (value) {\n        value = Math.abs(value);\n        var precision = powerbi_visuals_utils_typeutils_1.double.getPrecision(value, 3);\n        return powerbi_visuals_utils_typeutils_1.double.greaterOrEqualWithPrecision(value, this.applicableRangeMin, precision) && powerbi_visuals_utils_typeutils_1.double.lessWithPrecision(value, this.applicableRangeMax, precision);\n    };\n    DisplayUnit.prototype.isScaling = function () {\n        return this.value > 1;\n    };\n    return DisplayUnit;\n}());\nexports.DisplayUnit = DisplayUnit;\nvar DisplayUnitSystem = /** @class */ (function () {\n    // Constructor\n    function DisplayUnitSystem(units) {\n        this.units = units ? units : [];\n    }\n    Object.defineProperty(DisplayUnitSystem.prototype, \"title\", {\n        // Properties\n        get: function () {\n            return this.displayUnit ? this.displayUnit.title : undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Methods\n    DisplayUnitSystem.prototype.update = function (value) {\n        if (value === undefined)\n            return;\n        this.unitBaseValue = value;\n        this.displayUnit = this.findApplicableDisplayUnit(value);\n    };\n    DisplayUnitSystem.prototype.findApplicableDisplayUnit = function (value) {\n        for (var _i = 0, _a = this.units; _i < _a.length; _i++) {\n            var unit = _a[_i];\n            if (unit.isApplicableTo(value))\n                return unit;\n        }\n        return undefined;\n    };\n    DisplayUnitSystem.prototype.format = function (value, format, decimals, trailingZeros, cultureSelector) {\n        decimals = this.getNumberOfDecimalsForFormatting(format, decimals);\n        var nonScientificFormat = \"\";\n        if (this.isFormatSupported(format)\n            && !this.hasScientitifcFormat(format)\n            && this.isScalingUnit()\n            && this.shouldRespectScalingUnit(format)) {\n            value = this.displayUnit.project(value);\n            nonScientificFormat = this.displayUnit.labelFormat;\n        }\n        return this.formatHelper({\n            value: value,\n            nonScientificFormat: nonScientificFormat,\n            format: format,\n            decimals: decimals,\n            trailingZeros: trailingZeros,\n            cultureSelector: cultureSelector\n        });\n    };\n    DisplayUnitSystem.prototype.isFormatSupported = function (format) {\n        return !DisplayUnitSystem.UNSUPPORTED_FORMATS.test(format);\n    };\n    DisplayUnitSystem.prototype.isPercentageFormat = function (format) {\n        return format && format.indexOf(PERCENTAGE_FORMAT) >= 0;\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\n    DisplayUnitSystem.prototype.shouldRespectScalingUnit = function (format) {\n        return true;\n    };\n    DisplayUnitSystem.prototype.getNumberOfDecimalsForFormatting = function (format, decimals) {\n        return decimals;\n    };\n    DisplayUnitSystem.prototype.isScalingUnit = function () {\n        return this.displayUnit && this.displayUnit.isScaling();\n    };\n    DisplayUnitSystem.prototype.formatHelper = function (options) {\n        var value = options.value, cultureSelector = options.cultureSelector, decimals = options.decimals, trailingZeros = options.trailingZeros;\n        var nonScientificFormat = options.nonScientificFormat, format = options.format;\n        // If the format is \"general\" and we want to override the number of decimal places then use the default numeric format string.\n        if ((format === \"g\" || format === \"G\") && decimals != null) {\n            format = \"#,0.00\";\n        }\n        format = formattingService_1.numberFormat.addDecimalsToFormat(format, decimals, trailingZeros);\n        if (format && !formattingService_1.formattingService.isStandardNumberFormat(format)) {\n            return formattingService_1.formattingService.formatNumberWithCustomOverride(value, format, nonScientificFormat, cultureSelector);\n        }\n        if (!format) {\n            format = \"G\";\n        }\n        if (!nonScientificFormat) {\n            nonScientificFormat = \"{0}\";\n        }\n        var text = formattingService_1.formattingService.formatValue(value, format, cultureSelector);\n        return formattingService_1.formattingService.format(nonScientificFormat, [text]);\n    };\n    //  Formats a single value by choosing an appropriate base for the DisplayUnitSystem before formatting.\n    DisplayUnitSystem.prototype.formatSingleValue = function (value, format, decimals, trailingZeros, cultureSelector) {\n        // Change unit base to a value appropriate for this value\n        this.update(this.shouldUseValuePrecision(value) ? powerbi_visuals_utils_typeutils_1.double.getPrecision(value, 8) : value);\n        return this.format(value, format, decimals, trailingZeros, cultureSelector);\n    };\n    DisplayUnitSystem.prototype.shouldUseValuePrecision = function (value) {\n        if (this.units.length === 0)\n            return true;\n        // Check if the value is big enough to have a valid unit by checking against the smallest unit (that it's value bigger than 1).\n        var applicableRangeMin = 0;\n        for (var i = 0; i < this.units.length; i++) {\n            if (this.units[i].isScaling()) {\n                applicableRangeMin = this.units[i].applicableRangeMin;\n                break;\n            }\n        }\n        return Math.abs(value) < applicableRangeMin;\n    };\n    DisplayUnitSystem.prototype.isScientific = function (value) {\n        return value < -defaultScientificBigNumbersBoundary || value > defaultScientificBigNumbersBoundary ||\n            (-scientificSmallNumbersBoundary < value && value < scientificSmallNumbersBoundary && value !== 0);\n    };\n    DisplayUnitSystem.prototype.hasScientitifcFormat = function (format) {\n        return format && format.toUpperCase().indexOf(\"E\") !== -1;\n    };\n    DisplayUnitSystem.prototype.supportsScientificFormat = function (format) {\n        if (format)\n            return SUPPORTED_SCIENTIFIC_FORMATS.test(format);\n        return true;\n    };\n    DisplayUnitSystem.prototype.shouldFallbackToScientific = function (value, format) {\n        return !this.hasScientitifcFormat(format)\n            && this.supportsScientificFormat(format)\n            && this.isScientific(value);\n    };\n    DisplayUnitSystem.prototype.getScientificFormat = function (data, format, decimals, trailingZeros) {\n        // Use scientific format outside of the range\n        if (this.isFormatSupported(format) && this.shouldFallbackToScientific(data, format)) {\n            var numericFormat = formattingService_1.numberFormat.getNumericFormat(data, format);\n            if (decimals)\n                numericFormat = formattingService_1.numberFormat.addDecimalsToFormat(numericFormat ? numericFormat : \"0\", Math.abs(decimals), trailingZeros);\n            if (numericFormat)\n                return numericFormat + SCIENTIFIC_FORMAT;\n            else\n                return DEFAULT_SCIENTIFIC_FORMAT;\n        }\n        return format;\n    };\n    DisplayUnitSystem.UNSUPPORTED_FORMATS = /^(p\\d*)|(e\\d*)$/i;\n    return DisplayUnitSystem;\n}());\nexports.DisplayUnitSystem = DisplayUnitSystem;\n// Provides a unit system that is defined by formatting in the model, and is suitable for visualizations shown in single number visuals in explore mode.\nvar NoDisplayUnitSystem = /** @class */ (function (_super) {\n    __extends(NoDisplayUnitSystem, _super);\n    // Constructor\n    function NoDisplayUnitSystem() {\n        return _super.call(this, []) || this;\n    }\n    return NoDisplayUnitSystem;\n}(DisplayUnitSystem));\nexports.NoDisplayUnitSystem = NoDisplayUnitSystem;\n/** Provides a unit system that creates a more concise format for displaying values. This is suitable for most of the cases where\n    we are showing values (chart axes) and as such it is the default unit system. */\nvar DefaultDisplayUnitSystem = /** @class */ (function (_super) {\n    __extends(DefaultDisplayUnitSystem, _super);\n    // Constructor\n    function DefaultDisplayUnitSystem(unitLookup) {\n        return _super.call(this, DefaultDisplayUnitSystem.getUnits(unitLookup)) || this;\n    }\n    // Methods\n    DefaultDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\n        format = this.getScientificFormat(data, format, decimals, trailingZeros);\n        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\n    };\n    DefaultDisplayUnitSystem.RESET = function () {\n        DefaultDisplayUnitSystem.units = null;\n    };\n    DefaultDisplayUnitSystem.getUnits = function (unitLookup) {\n        if (!DefaultDisplayUnitSystem.units) {\n            DefaultDisplayUnitSystem.units = createDisplayUnits(unitLookup, function (value, previousUnitValue, min) {\n                // When dealing with millions/billions/trillions we need to switch to millions earlier: for example instead of showing 100K 200K 300K we should show 0.1M 0.2M 0.3M etc\n                if (value - previousUnitValue >= 1000) {\n                    return value / 10;\n                }\n                return min;\n            });\n            // Ensure last unit has max of infinity\n            DefaultDisplayUnitSystem.units[DefaultDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\n        }\n        return DefaultDisplayUnitSystem.units;\n    };\n    return DefaultDisplayUnitSystem;\n}(DisplayUnitSystem));\nexports.DefaultDisplayUnitSystem = DefaultDisplayUnitSystem;\n/** Provides a unit system that creates a more concise format for displaying values, but only allows showing a unit if we have at least\n    one of those units (e.g. 0.9M is not allowed since it's less than 1 million). This is suitable for cases such as dashboard tiles\n    where we have restricted space but do not want to show partial units. */\nvar WholeUnitsDisplayUnitSystem = /** @class */ (function (_super) {\n    __extends(WholeUnitsDisplayUnitSystem, _super);\n    // Constructor\n    function WholeUnitsDisplayUnitSystem(unitLookup) {\n        return _super.call(this, WholeUnitsDisplayUnitSystem.getUnits(unitLookup)) || this;\n    }\n    WholeUnitsDisplayUnitSystem.RESET = function () {\n        WholeUnitsDisplayUnitSystem.units = null;\n    };\n    WholeUnitsDisplayUnitSystem.getUnits = function (unitLookup) {\n        if (!WholeUnitsDisplayUnitSystem.units) {\n            WholeUnitsDisplayUnitSystem.units = createDisplayUnits(unitLookup);\n            // Ensure last unit has max of infinity\n            WholeUnitsDisplayUnitSystem.units[WholeUnitsDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\n        }\n        return WholeUnitsDisplayUnitSystem.units;\n    };\n    WholeUnitsDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\n        format = this.getScientificFormat(data, format, decimals, trailingZeros);\n        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\n    };\n    return WholeUnitsDisplayUnitSystem;\n}(DisplayUnitSystem));\nexports.WholeUnitsDisplayUnitSystem = WholeUnitsDisplayUnitSystem;\nvar DataLabelsDisplayUnitSystem = /** @class */ (function (_super) {\n    __extends(DataLabelsDisplayUnitSystem, _super);\n    function DataLabelsDisplayUnitSystem(unitLookup) {\n        return _super.call(this, DataLabelsDisplayUnitSystem.getUnits(unitLookup)) || this;\n    }\n    DataLabelsDisplayUnitSystem.prototype.isFormatSupported = function (format) {\n        return !DataLabelsDisplayUnitSystem.UNSUPPORTED_FORMATS.test(format);\n    };\n    DataLabelsDisplayUnitSystem.getUnits = function (unitLookup) {\n        if (!DataLabelsDisplayUnitSystem.units) {\n            var units = [];\n            var adjustMinBasedOnPreviousUnit = function (value, previousUnitValue, min) {\n                // Never returns true, we are always ignoring\n                // We do not early switch (e.g. 100K instead of 0.1M)\n                // Intended? If so, remove this function, otherwise, remove if statement\n                if (value === -1)\n                    if (value - previousUnitValue >= 1000) {\n                        return value / 10;\n                    }\n                return min;\n            };\n            // Add Auto & None\n            var names = unitLookup(-1);\n            addUnitIfNonEmpty(units, DataLabelsDisplayUnitSystem.AUTO_DISPLAYUNIT_VALUE, names.title, names.format, adjustMinBasedOnPreviousUnit);\n            names = unitLookup(0);\n            addUnitIfNonEmpty(units, DataLabelsDisplayUnitSystem.NONE_DISPLAYUNIT_VALUE, names.title, names.format, adjustMinBasedOnPreviousUnit);\n            // Add normal units\n            DataLabelsDisplayUnitSystem.units = units.concat(createDisplayUnits(unitLookup, adjustMinBasedOnPreviousUnit));\n            // Ensure last unit has max of infinity\n            DataLabelsDisplayUnitSystem.units[DataLabelsDisplayUnitSystem.units.length - 1].applicableRangeMax = Infinity;\n        }\n        return DataLabelsDisplayUnitSystem.units;\n    };\n    DataLabelsDisplayUnitSystem.prototype.format = function (data, format, decimals, trailingZeros, cultureSelector) {\n        format = this.getScientificFormat(data, format, decimals, trailingZeros);\n        return _super.prototype.format.call(this, data, format, decimals, trailingZeros, cultureSelector);\n    };\n    // Constants\n    DataLabelsDisplayUnitSystem.AUTO_DISPLAYUNIT_VALUE = 0;\n    DataLabelsDisplayUnitSystem.NONE_DISPLAYUNIT_VALUE = 1;\n    DataLabelsDisplayUnitSystem.UNSUPPORTED_FORMATS = /^(e\\d*)$/i;\n    return DataLabelsDisplayUnitSystem;\n}(DisplayUnitSystem));\nexports.DataLabelsDisplayUnitSystem = DataLabelsDisplayUnitSystem;\nfunction createDisplayUnits(unitLookup, adjustMinBasedOnPreviousUnit) {\n    var units = [];\n    for (var i = 3; i < maxExponent; i++) {\n        var names = unitLookup(i);\n        if (names)\n            addUnitIfNonEmpty(units, powerbi_visuals_utils_typeutils_1.double.pow10(i), names.title, names.format, adjustMinBasedOnPreviousUnit);\n    }\n    return units;\n}\nfunction addUnitIfNonEmpty(units, value, title, labelFormat, adjustMinBasedOnPreviousUnit) {\n    if (title || labelFormat) {\n        var min = value;\n        if (units.length > 0) {\n            var previousUnit = units[units.length - 1];\n            if (adjustMinBasedOnPreviousUnit)\n                min = adjustMinBasedOnPreviousUnit(value, previousUnit.value, min);\n            previousUnit.applicableRangeMax = min;\n        }\n        var unit = new DisplayUnit();\n        unit.value = value;\n        unit.applicableRangeMin = min;\n        unit.applicableRangeMax = min * 1000;\n        unit.title = title;\n        unit.labelFormat = labelFormat;\n        units.push(unit);\n    }\n}\n//# sourceMappingURL=displayUnitSystem.js.map","\"use strict\";\n/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DateTimeUnit = void 0;\n// Enumeration of DateTimeUnits\nvar DateTimeUnit;\n(function (DateTimeUnit) {\n    DateTimeUnit[DateTimeUnit[\"Year\"] = 0] = \"Year\";\n    DateTimeUnit[DateTimeUnit[\"Month\"] = 1] = \"Month\";\n    DateTimeUnit[DateTimeUnit[\"Week\"] = 2] = \"Week\";\n    DateTimeUnit[DateTimeUnit[\"Day\"] = 3] = \"Day\";\n    DateTimeUnit[DateTimeUnit[\"Hour\"] = 4] = \"Hour\";\n    DateTimeUnit[DateTimeUnit[\"Minute\"] = 5] = \"Minute\";\n    DateTimeUnit[DateTimeUnit[\"Second\"] = 6] = \"Second\";\n    DateTimeUnit[DateTimeUnit[\"Millisecond\"] = 7] = \"Millisecond\";\n})(DateTimeUnit = exports.DateTimeUnit || (exports.DateTimeUnit = {}));\n//# sourceMappingURL=iFormattingService.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Family = exports.fallbackFonts = void 0;\nvar familyInfo_1 = require(\"./familyInfo\");\nexports.fallbackFonts = [\"helvetica\", \"arial\", \"sans-serif\"];\nexports.Family = {\n    light: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    semilight: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    regular: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    semibold: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    bold: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    lightSecondary: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    regularSecondary: new familyInfo_1.FamilyInfo(exports.fallbackFonts),\n    boldSecondary: new familyInfo_1.FamilyInfo(exports.fallbackFonts)\n};\n//# sourceMappingURL=family.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n// powerbi.extensibility.utils.type\nimport * as EnumExtensions from \"./extensions/enumExtensions\";\nimport { equals } from \"./jsonComparer\";\n/** Describes a data value type, including a primitive type and extended type if any (derived from data category). */\nexport class ValueType {\n    /** Do not call the ValueType constructor directly. Use the ValueType.fromXXX methods. */\n    constructor(underlyingType, category, enumType, variantTypes) {\n        this.underlyingType = underlyingType;\n        this.category = category;\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Temporal)) {\n            this.temporalType = new TemporalType(underlyingType);\n        }\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Geography)) {\n            this.geographyType = new GeographyType(underlyingType);\n        }\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Miscellaneous)) {\n            this.miscType = new MiscellaneousType(underlyingType);\n        }\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Formatting)) {\n            this.formattingType = new FormattingType(underlyingType);\n        }\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Enumeration)) {\n            this.enumType = enumType;\n        }\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Scripting)) {\n            this.scriptingType = new ScriptType(underlyingType);\n        }\n        if (EnumExtensions.hasFlag(underlyingType, ExtendedType.Variant)) {\n            this.variationTypes = variantTypes;\n        }\n    }\n    /** Creates or retrieves a ValueType object based on the specified ValueTypeDescriptor. */\n    static fromDescriptor(descriptor) {\n        descriptor = descriptor || {};\n        // Simplified primitive types\n        if (descriptor.text)\n            return ValueType.fromExtendedType(ExtendedType.Text);\n        if (descriptor.integer)\n            return ValueType.fromExtendedType(ExtendedType.Integer);\n        if (descriptor.numeric)\n            return ValueType.fromExtendedType(ExtendedType.Double);\n        if (descriptor.bool)\n            return ValueType.fromExtendedType(ExtendedType.Boolean);\n        if (descriptor.dateTime)\n            return ValueType.fromExtendedType(ExtendedType.DateTime);\n        if (descriptor.duration)\n            return ValueType.fromExtendedType(ExtendedType.Duration);\n        if (descriptor.binary)\n            return ValueType.fromExtendedType(ExtendedType.Binary);\n        if (descriptor.none)\n            return ValueType.fromExtendedType(ExtendedType.None);\n        // Extended types\n        if (descriptor.scripting) {\n            if (descriptor.scripting.source)\n                return ValueType.fromExtendedType(ExtendedType.ScriptSource);\n        }\n        if (descriptor.enumeration)\n            return ValueType.fromEnum(descriptor.enumeration);\n        if (descriptor.temporal) {\n            if (descriptor.temporal.year)\n                return ValueType.fromExtendedType(ExtendedType.Years_Integer);\n            if (descriptor.temporal.quarter)\n                return ValueType.fromExtendedType(ExtendedType.Quarters_Integer);\n            if (descriptor.temporal.month)\n                return ValueType.fromExtendedType(ExtendedType.Months_Integer);\n            if (descriptor.temporal.day)\n                return ValueType.fromExtendedType(ExtendedType.DayOfMonth_Integer);\n            if (descriptor.temporal.paddedDateTableDate)\n                return ValueType.fromExtendedType(ExtendedType.PaddedDateTableDates);\n        }\n        if (descriptor.geography) {\n            if (descriptor.geography.address)\n                return ValueType.fromExtendedType(ExtendedType.Address);\n            if (descriptor.geography.city)\n                return ValueType.fromExtendedType(ExtendedType.City);\n            if (descriptor.geography.continent)\n                return ValueType.fromExtendedType(ExtendedType.Continent);\n            if (descriptor.geography.country)\n                return ValueType.fromExtendedType(ExtendedType.Country);\n            if (descriptor.geography.county)\n                return ValueType.fromExtendedType(ExtendedType.County);\n            if (descriptor.geography.region)\n                return ValueType.fromExtendedType(ExtendedType.Region);\n            if (descriptor.geography.postalCode)\n                return ValueType.fromExtendedType(ExtendedType.PostalCode_Text);\n            if (descriptor.geography.stateOrProvince)\n                return ValueType.fromExtendedType(ExtendedType.StateOrProvince);\n            if (descriptor.geography.place)\n                return ValueType.fromExtendedType(ExtendedType.Place);\n            if (descriptor.geography.latitude)\n                return ValueType.fromExtendedType(ExtendedType.Latitude_Double);\n            if (descriptor.geography.longitude)\n                return ValueType.fromExtendedType(ExtendedType.Longitude_Double);\n        }\n        if (descriptor.misc) {\n            if (descriptor.misc.image)\n                return ValueType.fromExtendedType(ExtendedType.Image);\n            if (descriptor.misc.imageUrl)\n                return ValueType.fromExtendedType(ExtendedType.ImageUrl);\n            if (descriptor.misc.webUrl)\n                return ValueType.fromExtendedType(ExtendedType.WebUrl);\n            if (descriptor.misc.barcode)\n                return ValueType.fromExtendedType(ExtendedType.Barcode_Text);\n        }\n        if (descriptor.formatting) {\n            if (descriptor.formatting.color)\n                return ValueType.fromExtendedType(ExtendedType.Color);\n            if (descriptor.formatting.formatString)\n                return ValueType.fromExtendedType(ExtendedType.FormatString);\n            if (descriptor.formatting.alignment)\n                return ValueType.fromExtendedType(ExtendedType.Alignment);\n            if (descriptor.formatting.labelDisplayUnits)\n                return ValueType.fromExtendedType(ExtendedType.LabelDisplayUnits);\n            if (descriptor.formatting.fontSize)\n                return ValueType.fromExtendedType(ExtendedType.FontSize);\n            if (descriptor.formatting.labelDensity)\n                return ValueType.fromExtendedType(ExtendedType.LabelDensity);\n        }\n        if (descriptor.extendedType) {\n            return ValueType.fromExtendedType(descriptor.extendedType);\n        }\n        if (descriptor.operations) {\n            if (descriptor.operations.searchEnabled)\n                return ValueType.fromExtendedType(ExtendedType.SearchEnabled);\n        }\n        if (descriptor.variant) {\n            const variantTypes = descriptor.variant.map((variantType) => ValueType.fromDescriptor(variantType));\n            return ValueType.fromVariant(variantTypes);\n        }\n        return ValueType.fromExtendedType(ExtendedType.Null);\n    }\n    /** Advanced: Generally use fromDescriptor instead. Creates or retrieves a ValueType object for the specified ExtendedType. */\n    static fromExtendedType(extendedType) {\n        extendedType = extendedType || ExtendedType.Null;\n        const primitiveType = getPrimitiveType(extendedType), category = getCategoryFromExtendedType(extendedType);\n        return ValueType.fromPrimitiveTypeAndCategory(primitiveType, category);\n    }\n    /** Creates or retrieves a ValueType object for the specified PrimitiveType and data category. */\n    static fromPrimitiveTypeAndCategory(primitiveType, category) {\n        primitiveType = primitiveType || PrimitiveType.Null;\n        category = category || null;\n        let id = primitiveType.toString();\n        if (category)\n            id += \"|\" + category;\n        return ValueType.typeCache[id] || (ValueType.typeCache[id] = new ValueType(toExtendedType(primitiveType, category), category));\n    }\n    /** Creates a ValueType to describe the given IEnumType. */\n    static fromEnum(enumType) {\n        return new ValueType(ExtendedType.Enumeration, null, enumType);\n    }\n    /** Creates a ValueType to describe the given Variant type. */\n    static fromVariant(variantTypes) {\n        return new ValueType(ExtendedType.Variant, /* category */ null, /* enumType */ null, variantTypes);\n    }\n    /** Determines if the specified type is compatible from at least one of the otherTypes. */\n    static isCompatibleTo(typeDescriptor, otherTypes) {\n        const valueType = ValueType.fromDescriptor(typeDescriptor);\n        for (const otherType of otherTypes) {\n            const otherValueType = ValueType.fromDescriptor(otherType);\n            if (otherValueType.isCompatibleFrom(valueType))\n                return true;\n        }\n        return false;\n    }\n    /** Determines if the instance ValueType is convertable from the 'other' ValueType. */\n    isCompatibleFrom(other) {\n        const otherPrimitiveType = other.primitiveType;\n        if (this === other ||\n            this.primitiveType === otherPrimitiveType ||\n            otherPrimitiveType === PrimitiveType.Null ||\n            // Return true if both types are numbers\n            (this.numeric && other.numeric))\n            return true;\n        return false;\n    }\n    /**\n     * Determines if the instance ValueType is equal to the 'other' ValueType\n     * @param {ValueType} other the other ValueType to check equality against\n     * @returns True if the instance ValueType is equal to the 'other' ValueType\n     */\n    equals(other) {\n        return equals(this, other);\n    }\n    /** Gets the exact primitive type of this ValueType. */\n    get primitiveType() {\n        return getPrimitiveType(this.underlyingType);\n    }\n    /** Gets the exact extended type of this ValueType. */\n    get extendedType() {\n        return this.underlyingType;\n    }\n    /** Gets the data category string (if any) for this ValueType. */\n    get categoryString() {\n        return this.category;\n    }\n    // Simplified primitive types\n    /** Indicates whether the type represents text values. */\n    get text() {\n        return this.primitiveType === PrimitiveType.Text;\n    }\n    /** Indicates whether the type represents any numeric value. */\n    get numeric() {\n        return EnumExtensions.hasFlag(this.underlyingType, ExtendedType.Numeric);\n    }\n    /** Indicates whether the type represents integer numeric values. */\n    get integer() {\n        return this.primitiveType === PrimitiveType.Integer;\n    }\n    /** Indicates whether the type represents Boolean values. */\n    get bool() {\n        return this.primitiveType === PrimitiveType.Boolean;\n    }\n    /** Indicates whether the type represents any date/time values. */\n    get dateTime() {\n        return this.primitiveType === PrimitiveType.DateTime ||\n            this.primitiveType === PrimitiveType.Date ||\n            this.primitiveType === PrimitiveType.Time;\n    }\n    /** Indicates whether the type represents duration values. */\n    get duration() {\n        return this.primitiveType === PrimitiveType.Duration;\n    }\n    /** Indicates whether the type represents binary values. */\n    get binary() {\n        return this.primitiveType === PrimitiveType.Binary;\n    }\n    /** Indicates whether the type represents none values. */\n    get none() {\n        return this.primitiveType === PrimitiveType.None;\n    }\n    // Extended types\n    /** Returns an object describing temporal values represented by the type, if it represents a temporal type. */\n    get temporal() {\n        return this.temporalType;\n    }\n    /** Returns an object describing geographic values represented by the type, if it represents a geographic type. */\n    get geography() {\n        return this.geographyType;\n    }\n    /** Returns an object describing the specific values represented by the type, if it represents a miscellaneous extended type. */\n    get misc() {\n        return this.miscType;\n    }\n    /** Returns an object describing the formatting values represented by the type, if it represents a formatting type. */\n    get formatting() {\n        return this.formattingType;\n    }\n    /** Returns an object describing the enum values represented by the type, if it represents an enumeration type. */\n    get enumeration() {\n        return this.enumType;\n    }\n    get scripting() {\n        return this.scriptingType;\n    }\n    /** Returns an array describing the variant values represented by the type, if it represents an Variant type. */\n    get variant() {\n        return this.variationTypes;\n    }\n}\nValueType.typeCache = {};\nexport class ScriptType {\n    constructor(underlyingType) {\n        this.underlyingType = underlyingType;\n    }\n    get source() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.ScriptSource);\n    }\n}\nexport class TemporalType {\n    constructor(underlyingType) {\n        this.underlyingType = underlyingType;\n    }\n    get year() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Years);\n    }\n    get quarter() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Quarters);\n    }\n    get month() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Months);\n    }\n    get day() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.DayOfMonth);\n    }\n    get paddedDateTableDate() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.PaddedDateTableDates);\n    }\n}\nexport class GeographyType {\n    constructor(underlyingType) {\n        this.underlyingType = underlyingType;\n    }\n    get address() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Address);\n    }\n    get city() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.City);\n    }\n    get continent() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Continent);\n    }\n    get country() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Country);\n    }\n    get county() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.County);\n    }\n    get region() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Region);\n    }\n    get postalCode() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.PostalCode);\n    }\n    get stateOrProvince() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.StateOrProvince);\n    }\n    get place() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Place);\n    }\n    get latitude() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Latitude);\n    }\n    get longitude() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Longitude);\n    }\n}\nexport class MiscellaneousType {\n    constructor(underlyingType) {\n        this.underlyingType = underlyingType;\n    }\n    get image() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Image);\n    }\n    get imageUrl() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.ImageUrl);\n    }\n    get webUrl() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.WebUrl);\n    }\n    get barcode() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Barcode);\n    }\n}\nexport class FormattingType {\n    constructor(underlyingType) {\n        this.underlyingType = underlyingType;\n    }\n    get color() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Color);\n    }\n    get formatString() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.FormatString);\n    }\n    get alignment() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.Alignment);\n    }\n    get labelDisplayUnits() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.LabelDisplayUnits);\n    }\n    get fontSize() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.FontSize);\n    }\n    get labelDensity() {\n        return matchesExtendedTypeWithAnyPrimitive(this.underlyingType, ExtendedType.LabelDensity);\n    }\n}\n/** Defines primitive value types. Must be consistent with types defined by server conceptual schema. */\nexport var PrimitiveType;\n(function (PrimitiveType) {\n    PrimitiveType[PrimitiveType[\"Null\"] = 0] = \"Null\";\n    PrimitiveType[PrimitiveType[\"Text\"] = 1] = \"Text\";\n    PrimitiveType[PrimitiveType[\"Decimal\"] = 2] = \"Decimal\";\n    PrimitiveType[PrimitiveType[\"Double\"] = 3] = \"Double\";\n    PrimitiveType[PrimitiveType[\"Integer\"] = 4] = \"Integer\";\n    PrimitiveType[PrimitiveType[\"Boolean\"] = 5] = \"Boolean\";\n    PrimitiveType[PrimitiveType[\"Date\"] = 6] = \"Date\";\n    PrimitiveType[PrimitiveType[\"DateTime\"] = 7] = \"DateTime\";\n    PrimitiveType[PrimitiveType[\"DateTimeZone\"] = 8] = \"DateTimeZone\";\n    PrimitiveType[PrimitiveType[\"Time\"] = 9] = \"Time\";\n    PrimitiveType[PrimitiveType[\"Duration\"] = 10] = \"Duration\";\n    PrimitiveType[PrimitiveType[\"Binary\"] = 11] = \"Binary\";\n    PrimitiveType[PrimitiveType[\"None\"] = 12] = \"None\";\n    PrimitiveType[PrimitiveType[\"Variant\"] = 13] = \"Variant\";\n})(PrimitiveType || (PrimitiveType = {}));\nvar PrimitiveTypeStrings;\n(function (PrimitiveTypeStrings) {\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Null\"] = 0] = \"Null\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Text\"] = 1] = \"Text\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Decimal\"] = 2] = \"Decimal\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Double\"] = 3] = \"Double\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Integer\"] = 4] = \"Integer\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Boolean\"] = 5] = \"Boolean\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Date\"] = 6] = \"Date\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"DateTime\"] = 7] = \"DateTime\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"DateTimeZone\"] = 8] = \"DateTimeZone\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Time\"] = 9] = \"Time\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Duration\"] = 10] = \"Duration\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Binary\"] = 11] = \"Binary\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"None\"] = 12] = \"None\";\n    PrimitiveTypeStrings[PrimitiveTypeStrings[\"Variant\"] = 13] = \"Variant\";\n})(PrimitiveTypeStrings || (PrimitiveTypeStrings = {}));\n/** Defines extended value types, which include primitive types and known data categories constrained to expected primitive types. */\nexport var ExtendedType;\n(function (ExtendedType) {\n    // Flags (1 << 8-15 range [0xFF00])\n    // Important: Enum members must be declared before they are used in TypeScript.\n    ExtendedType[ExtendedType[\"Numeric\"] = 256] = \"Numeric\";\n    ExtendedType[ExtendedType[\"Temporal\"] = 512] = \"Temporal\";\n    ExtendedType[ExtendedType[\"Geography\"] = 1024] = \"Geography\";\n    ExtendedType[ExtendedType[\"Miscellaneous\"] = 2048] = \"Miscellaneous\";\n    ExtendedType[ExtendedType[\"Formatting\"] = 4096] = \"Formatting\";\n    ExtendedType[ExtendedType[\"Scripting\"] = 8192] = \"Scripting\";\n    // Primitive types (0-255 range [0xFF] | flags)\n    // The member names and base values must match those in PrimitiveType.\n    ExtendedType[ExtendedType[\"Null\"] = 0] = \"Null\";\n    ExtendedType[ExtendedType[\"Text\"] = 1] = \"Text\";\n    ExtendedType[ExtendedType[\"Decimal\"] = 258] = \"Decimal\";\n    ExtendedType[ExtendedType[\"Double\"] = 259] = \"Double\";\n    ExtendedType[ExtendedType[\"Integer\"] = 260] = \"Integer\";\n    ExtendedType[ExtendedType[\"Boolean\"] = 5] = \"Boolean\";\n    ExtendedType[ExtendedType[\"Date\"] = 518] = \"Date\";\n    ExtendedType[ExtendedType[\"DateTime\"] = 519] = \"DateTime\";\n    ExtendedType[ExtendedType[\"DateTimeZone\"] = 520] = \"DateTimeZone\";\n    ExtendedType[ExtendedType[\"Time\"] = 521] = \"Time\";\n    ExtendedType[ExtendedType[\"Duration\"] = 10] = \"Duration\";\n    ExtendedType[ExtendedType[\"Binary\"] = 11] = \"Binary\";\n    ExtendedType[ExtendedType[\"None\"] = 12] = \"None\";\n    ExtendedType[ExtendedType[\"Variant\"] = 13] = \"Variant\";\n    // Extended types (0-32767 << 16 range [0xFFFF0000] | corresponding primitive type | flags)\n    // Temporal\n    ExtendedType[ExtendedType[\"Years\"] = 66048] = \"Years\";\n    ExtendedType[ExtendedType[\"Years_Text\"] = 66049] = \"Years_Text\";\n    ExtendedType[ExtendedType[\"Years_Integer\"] = 66308] = \"Years_Integer\";\n    ExtendedType[ExtendedType[\"Years_Date\"] = 66054] = \"Years_Date\";\n    ExtendedType[ExtendedType[\"Years_DateTime\"] = 66055] = \"Years_DateTime\";\n    ExtendedType[ExtendedType[\"Months\"] = 131584] = \"Months\";\n    ExtendedType[ExtendedType[\"Months_Text\"] = 131585] = \"Months_Text\";\n    ExtendedType[ExtendedType[\"Months_Integer\"] = 131844] = \"Months_Integer\";\n    ExtendedType[ExtendedType[\"Months_Date\"] = 131590] = \"Months_Date\";\n    ExtendedType[ExtendedType[\"Months_DateTime\"] = 131591] = \"Months_DateTime\";\n    ExtendedType[ExtendedType[\"PaddedDateTableDates\"] = 197127] = \"PaddedDateTableDates\";\n    ExtendedType[ExtendedType[\"Quarters\"] = 262656] = \"Quarters\";\n    ExtendedType[ExtendedType[\"Quarters_Text\"] = 262657] = \"Quarters_Text\";\n    ExtendedType[ExtendedType[\"Quarters_Integer\"] = 262916] = \"Quarters_Integer\";\n    ExtendedType[ExtendedType[\"Quarters_Date\"] = 262662] = \"Quarters_Date\";\n    ExtendedType[ExtendedType[\"Quarters_DateTime\"] = 262663] = \"Quarters_DateTime\";\n    ExtendedType[ExtendedType[\"DayOfMonth\"] = 328192] = \"DayOfMonth\";\n    ExtendedType[ExtendedType[\"DayOfMonth_Text\"] = 328193] = \"DayOfMonth_Text\";\n    ExtendedType[ExtendedType[\"DayOfMonth_Integer\"] = 328452] = \"DayOfMonth_Integer\";\n    ExtendedType[ExtendedType[\"DayOfMonth_Date\"] = 328198] = \"DayOfMonth_Date\";\n    ExtendedType[ExtendedType[\"DayOfMonth_DateTime\"] = 328199] = \"DayOfMonth_DateTime\";\n    // Geography\n    ExtendedType[ExtendedType[\"Address\"] = 6554625] = \"Address\";\n    ExtendedType[ExtendedType[\"City\"] = 6620161] = \"City\";\n    ExtendedType[ExtendedType[\"Continent\"] = 6685697] = \"Continent\";\n    ExtendedType[ExtendedType[\"Country\"] = 6751233] = \"Country\";\n    ExtendedType[ExtendedType[\"County\"] = 6816769] = \"County\";\n    ExtendedType[ExtendedType[\"Region\"] = 6882305] = \"Region\";\n    ExtendedType[ExtendedType[\"PostalCode\"] = 6947840] = \"PostalCode\";\n    ExtendedType[ExtendedType[\"PostalCode_Text\"] = 6947841] = \"PostalCode_Text\";\n    ExtendedType[ExtendedType[\"PostalCode_Integer\"] = 6948100] = \"PostalCode_Integer\";\n    ExtendedType[ExtendedType[\"StateOrProvince\"] = 7013377] = \"StateOrProvince\";\n    ExtendedType[ExtendedType[\"Place\"] = 7078913] = \"Place\";\n    ExtendedType[ExtendedType[\"Latitude\"] = 7144448] = \"Latitude\";\n    ExtendedType[ExtendedType[\"Latitude_Decimal\"] = 7144706] = \"Latitude_Decimal\";\n    ExtendedType[ExtendedType[\"Latitude_Double\"] = 7144707] = \"Latitude_Double\";\n    ExtendedType[ExtendedType[\"Longitude\"] = 7209984] = \"Longitude\";\n    ExtendedType[ExtendedType[\"Longitude_Decimal\"] = 7210242] = \"Longitude_Decimal\";\n    ExtendedType[ExtendedType[\"Longitude_Double\"] = 7210243] = \"Longitude_Double\";\n    // Miscellaneous\n    ExtendedType[ExtendedType[\"Image\"] = 13109259] = \"Image\";\n    ExtendedType[ExtendedType[\"ImageUrl\"] = 13174785] = \"ImageUrl\";\n    ExtendedType[ExtendedType[\"WebUrl\"] = 13240321] = \"WebUrl\";\n    ExtendedType[ExtendedType[\"Barcode\"] = 13305856] = \"Barcode\";\n    ExtendedType[ExtendedType[\"Barcode_Text\"] = 13305857] = \"Barcode_Text\";\n    ExtendedType[ExtendedType[\"Barcode_Integer\"] = 13306116] = \"Barcode_Integer\";\n    // Formatting\n    ExtendedType[ExtendedType[\"Color\"] = 19664897] = \"Color\";\n    ExtendedType[ExtendedType[\"FormatString\"] = 19730433] = \"FormatString\";\n    ExtendedType[ExtendedType[\"Alignment\"] = 20058113] = \"Alignment\";\n    ExtendedType[ExtendedType[\"LabelDisplayUnits\"] = 20123649] = \"LabelDisplayUnits\";\n    ExtendedType[ExtendedType[\"FontSize\"] = 20189443] = \"FontSize\";\n    ExtendedType[ExtendedType[\"LabelDensity\"] = 20254979] = \"LabelDensity\";\n    // Enumeration\n    ExtendedType[ExtendedType[\"Enumeration\"] = 26214401] = \"Enumeration\";\n    // Scripting\n    ExtendedType[ExtendedType[\"ScriptSource\"] = 32776193] = \"ScriptSource\";\n    // NOTE: To avoid confusion, underscores should be used only to delimit primitive type variants of an extended type\n    // (e.g. Year_Integer or Latitude_Double above)\n    // Operations\n    ExtendedType[ExtendedType[\"SearchEnabled\"] = 65541] = \"SearchEnabled\";\n})(ExtendedType || (ExtendedType = {}));\nvar ExtendedTypeStrings;\n(function (ExtendedTypeStrings) {\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Numeric\"] = 256] = \"Numeric\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Temporal\"] = 512] = \"Temporal\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Geography\"] = 1024] = \"Geography\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Miscellaneous\"] = 2048] = \"Miscellaneous\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Formatting\"] = 4096] = \"Formatting\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Scripting\"] = 8192] = \"Scripting\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Null\"] = 0] = \"Null\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Text\"] = 1] = \"Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Decimal\"] = 258] = \"Decimal\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Double\"] = 259] = \"Double\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Integer\"] = 260] = \"Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Boolean\"] = 5] = \"Boolean\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Date\"] = 518] = \"Date\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DateTime\"] = 519] = \"DateTime\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DateTimeZone\"] = 520] = \"DateTimeZone\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Time\"] = 521] = \"Time\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Duration\"] = 10] = \"Duration\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Binary\"] = 11] = \"Binary\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"None\"] = 12] = \"None\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Variant\"] = 13] = \"Variant\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Years\"] = 66048] = \"Years\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Years_Text\"] = 66049] = \"Years_Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Years_Integer\"] = 66308] = \"Years_Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Years_Date\"] = 66054] = \"Years_Date\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Years_DateTime\"] = 66055] = \"Years_DateTime\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Months\"] = 131584] = \"Months\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Months_Text\"] = 131585] = \"Months_Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Months_Integer\"] = 131844] = \"Months_Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Months_Date\"] = 131590] = \"Months_Date\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Months_DateTime\"] = 131591] = \"Months_DateTime\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"PaddedDateTableDates\"] = 197127] = \"PaddedDateTableDates\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Quarters\"] = 262656] = \"Quarters\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Quarters_Text\"] = 262657] = \"Quarters_Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Quarters_Integer\"] = 262916] = \"Quarters_Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Quarters_Date\"] = 262662] = \"Quarters_Date\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Quarters_DateTime\"] = 262663] = \"Quarters_DateTime\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DayOfMonth\"] = 328192] = \"DayOfMonth\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DayOfMonth_Text\"] = 328193] = \"DayOfMonth_Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DayOfMonth_Integer\"] = 328452] = \"DayOfMonth_Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DayOfMonth_Date\"] = 328198] = \"DayOfMonth_Date\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"DayOfMonth_DateTime\"] = 328199] = \"DayOfMonth_DateTime\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Address\"] = 6554625] = \"Address\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"City\"] = 6620161] = \"City\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Continent\"] = 6685697] = \"Continent\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Country\"] = 6751233] = \"Country\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"County\"] = 6816769] = \"County\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Region\"] = 6882305] = \"Region\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"PostalCode\"] = 6947840] = \"PostalCode\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"PostalCode_Text\"] = 6947841] = \"PostalCode_Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"PostalCode_Integer\"] = 6948100] = \"PostalCode_Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"StateOrProvince\"] = 7013377] = \"StateOrProvince\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Place\"] = 7078913] = \"Place\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Latitude\"] = 7144448] = \"Latitude\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Latitude_Decimal\"] = 7144706] = \"Latitude_Decimal\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Latitude_Double\"] = 7144707] = \"Latitude_Double\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Longitude\"] = 7209984] = \"Longitude\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Longitude_Decimal\"] = 7210242] = \"Longitude_Decimal\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Longitude_Double\"] = 7210243] = \"Longitude_Double\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Image\"] = 13109259] = \"Image\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"ImageUrl\"] = 13174785] = \"ImageUrl\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"WebUrl\"] = 13240321] = \"WebUrl\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Barcode\"] = 13305856] = \"Barcode\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Barcode_Text\"] = 13305857] = \"Barcode_Text\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Barcode_Integer\"] = 13306116] = \"Barcode_Integer\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Color\"] = 19664897] = \"Color\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"FormatString\"] = 19730433] = \"FormatString\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Alignment\"] = 20058113] = \"Alignment\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"LabelDisplayUnits\"] = 20123649] = \"LabelDisplayUnits\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"FontSize\"] = 20189443] = \"FontSize\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"LabelDensity\"] = 20254979] = \"LabelDensity\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"Enumeration\"] = 26214401] = \"Enumeration\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"ScriptSource\"] = 32776193] = \"ScriptSource\";\n    ExtendedTypeStrings[ExtendedTypeStrings[\"SearchEnabled\"] = 65541] = \"SearchEnabled\";\n})(ExtendedTypeStrings || (ExtendedTypeStrings = {}));\nconst PrimitiveTypeMask = 0xFF;\nconst PrimitiveTypeWithFlagsMask = 0xFFFF;\nconst PrimitiveTypeFlagsExcludedMask = 0xFFFF0000;\nfunction getPrimitiveType(extendedType) {\n    return extendedType & PrimitiveTypeMask;\n}\nfunction isPrimitiveType(extendedType) {\n    return (extendedType & PrimitiveTypeWithFlagsMask) === extendedType;\n}\nfunction getCategoryFromExtendedType(extendedType) {\n    if (isPrimitiveType(extendedType))\n        return null;\n    let category = ExtendedTypeStrings[extendedType];\n    if (category) {\n        // Check for ExtendedType declaration without a primitive type.\n        // If exists, use it as category (e.g. Longitude rather than Longitude_Double)\n        // Otherwise use the ExtendedType declaration with a primitive type (e.g. Address)\n        const delimIdx = category.lastIndexOf(\"_\");\n        if (delimIdx > 0) {\n            const baseCategory = category.slice(0, delimIdx);\n            if (ExtendedTypeStrings[baseCategory]) {\n                category = baseCategory;\n            }\n        }\n    }\n    return category || null;\n}\nfunction toExtendedType(primitiveType, category) {\n    const primitiveString = PrimitiveTypeStrings[primitiveType];\n    let t = ExtendedTypeStrings[primitiveString];\n    if (t == null) {\n        t = ExtendedType.Null;\n    }\n    if (primitiveType && category) {\n        let categoryType = ExtendedTypeStrings[category];\n        if (categoryType) {\n            const categoryPrimitiveType = getPrimitiveType(categoryType);\n            if (categoryPrimitiveType === PrimitiveType.Null) {\n                // Category supports multiple primitive types, check if requested primitive type is supported\n                // (note: important to use t here rather than primitiveType as it may include primitive type flags)\n                categoryType = t | categoryType;\n                if (ExtendedTypeStrings[categoryType]) {\n                    t = categoryType;\n                }\n            }\n            else if (categoryPrimitiveType === primitiveType) {\n                // Primitive type matches the single supported type for the category\n                t = categoryType;\n            }\n        }\n    }\n    return t;\n}\nfunction matchesExtendedTypeWithAnyPrimitive(a, b) {\n    return (a & PrimitiveTypeFlagsExcludedMask) === (b & PrimitiveTypeFlagsExcludedMask);\n}\n//# sourceMappingURL=valueType.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n// NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\nexport function XOR(a, b) {\n    return (a || b) && !(a && b);\n}\n//# sourceMappingURL=logicExtensions.js.map","/**\n * Returns items that exist in target and other.\n */\nexport function intersect(target, other) {\n    const result = [];\n    for (let i = target.length - 1; i >= 0; --i) {\n        if (other.indexOf(target[i]) !== -1) {\n            result.push(target[i]);\n        }\n    }\n    return result;\n}\n/**\n * Return elements exists in target but not exists in other.\n */\nexport function diff(target, other) {\n    const result = [];\n    for (let i = target.length - 1; i >= 0; --i) {\n        const value = target[i];\n        if (other.indexOf(value) === -1) {\n            result.push(value);\n        }\n    }\n    return result;\n}\n/**\n * Return an array with only the distinct items in the source.\n */\nexport function distinct(source) {\n    const result = [];\n    for (let i = 0, len = source.length; i < len; i++) {\n        const value = source[i];\n        if (result.indexOf(value) === -1) {\n            result.push(value);\n        }\n    }\n    return result;\n}\n/**\n * Pushes content of source onto target,\n * for parts of course that do not already exist in target.\n */\nexport function union(target, source) {\n    for (let i = 0, len = source.length; i < len; ++i) {\n        unionSingle(target, source[i]);\n    }\n}\n/**\n * Pushes value onto target, if value does not already exist in target.\n */\nexport function unionSingle(target, value) {\n    if (target.indexOf(value) < 0) {\n        target.push(value);\n    }\n}\n/**\n * Returns an array with a range of items from source,\n * including the startIndex & endIndex.\n */\nexport function range(source, startIndex, endIndex) {\n    const result = [];\n    for (let i = startIndex; i <= endIndex; ++i) {\n        result.push(source[i]);\n    }\n    return result;\n}\n/**\n * Returns an array that includes items from source, up to the specified count.\n */\nexport function take(source, count) {\n    const result = [];\n    for (let i = 0; i < count; ++i) {\n        result.push(source[i]);\n    }\n    return result;\n}\nexport function copy(source) {\n    return take(source, source.length);\n}\n/**\n  * Returns a value indicating whether the arrays have the same values in the same sequence.\n  */\nexport function sequenceEqual(left, right, comparison) {\n    // Normalize falsy to null\n    if (!left) {\n        left = null;\n    }\n    if (!right) {\n        right = null;\n    }\n    // T can be same as U, and it is possible for left and right to be the same array object...\n    if (left === right) {\n        return true;\n    }\n    if (!!left !== !!right) {\n        return false;\n    }\n    const len = left.length;\n    if (len !== right.length) {\n        return false;\n    }\n    let i = 0;\n    while (i < len && comparison(left[i], right[i])) {\n        ++i;\n    }\n    return i === len;\n}\n/**\n * Returns null if the specified array is empty.\n * Otherwise returns the specified array.\n */\nexport function emptyToNull(array) {\n    if (array && array.length === 0) {\n        return null;\n    }\n    return array;\n}\nexport function indexOf(array, predicate) {\n    for (let i = 0, len = array.length; i < len; ++i) {\n        if (predicate(array[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Returns a copy of the array rotated by the specified offset.\n */\nexport function rotate(array, offset) {\n    if (offset === 0)\n        return array.slice();\n    const rotated = array.slice(offset);\n    Array.prototype.push.apply(rotated, array.slice(0, offset));\n    return rotated;\n}\nexport function createWithId() {\n    return extendWithId([]);\n}\nexport function extendWithId(array) {\n    const extended = array;\n    extended.withId = withId;\n    return extended;\n}\n/**\n * Finds and returns the first item with a matching ID.\n */\nexport function findWithId(array, id) {\n    for (let i = 0, len = array.length; i < len; i++) {\n        const item = array[i];\n        if (item.id === id)\n            return item;\n    }\n}\nfunction withId(id) {\n    return findWithId(this, id);\n}\nexport function createWithName() {\n    return extendWithName([]);\n}\nexport function extendWithName(array) {\n    const extended = array;\n    extended.withName = withName;\n    return extended;\n}\nexport function findItemWithName(array, name) {\n    const index = indexWithName(array, name);\n    if (index >= 0)\n        return array[index];\n}\nexport function indexWithName(array, name) {\n    for (let i = 0, len = array.length; i < len; i++) {\n        const item = array[i];\n        if (item.name === name)\n            return i;\n    }\n    return -1;\n}\n/**\n * Inserts a number in sorted order into a list of numbers already in sorted order.\n * @returns True if the item was added, false if it already existed.\n */\nexport function insertSorted(list, value) {\n    const len = list.length;\n    // NOTE: iterate backwards because incoming values tend to be sorted already.\n    for (let i = len - 1; i >= 0; i--) {\n        const diff = list[i] - value;\n        if (diff === 0)\n            return false;\n        if (diff > 0)\n            continue;\n        // diff < 0\n        list.splice(i + 1, 0, value);\n        return true;\n    }\n    list.unshift(value);\n    return true;\n}\n/**\n * Removes the first occurrence of a value from a list if it exists.\n * @returns True if the value was removed, false if it did not exist in the list.\n */\nexport function removeFirst(list, value) {\n    const index = list.indexOf(value);\n    if (index < 0)\n        return false;\n    list.splice(index, 1);\n    return true;\n}\n/**\n * Finds and returns the first item with a matching name.\n */\nfunction withName(name) {\n    return findItemWithName(this, name);\n}\n/**\n * Deletes all items from the array.\n */\nexport function clear(array) {\n    if (!array)\n        return;\n    while (array.length > 0)\n        array.pop();\n}\nexport function isUndefinedOrEmpty(array) {\n    if (!array || array.length === 0) {\n        return true;\n    }\n    return false;\n}\nexport function swap(array, firstIndex, secondIndex) {\n    const temp = array[firstIndex];\n    array[firstIndex] = array[secondIndex];\n    array[secondIndex] = temp;\n}\nexport function isInArray(array, lookupItem, compareCallback) {\n    return array.some(item => compareCallback(item, lookupItem));\n}\n/** Checks if the given object is an Array, and looking all the way up the prototype chain. */\nexport function isArrayOrInheritedArray(obj) {\n    let nextPrototype = obj;\n    while (nextPrototype != null) {\n        if (Array.isArray(nextPrototype))\n            return true;\n        nextPrototype = Object.getPrototypeOf(nextPrototype);\n    }\n    return false;\n}\n/**\n * Returns true if the specified values array is sorted in an order as determined by the specified compareFunction.\n */\nexport function isSorted(values, compareFunction) {\n    const ilen = values.length;\n    if (ilen >= 2) {\n        for (let i = 1; i < ilen; i++) {\n            if (compareFunction(values[i - 1], values[i]) > 0) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**\n * Returns true if the specified number values array is sorted in ascending order\n * (or descending order if the specified descendingOrder is truthy).\n */\nexport function isSortedNumeric(values, descendingOrder) {\n    const compareFunction = descendingOrder ?\n        (a, b) => b - a :\n        (a, b) => a - b;\n    return isSorted(values, compareFunction);\n}\n/**\n * Ensures that the given T || T[] is in array form, either returning the array or\n * converting single items into an array of length one.\n */\nexport function ensureArray(value) {\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return [value];\n}\n//# sourceMappingURL=arrayExtensions.js.map","\"use strict\";\n/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\n/* eslint-disable no-useless-escape */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fixDateTimeFormat = exports.findDateFormat = void 0;\nvar regexCache;\n/**\n * Translate .NET format into something supported by Globalize.\n */\nfunction findDateFormat(value, format, cultureName) {\n    switch (format) {\n        case \"m\":\n            // Month + day\n            format = \"M\";\n            break;\n        case \"O\":\n        case \"o\":\n            // Roundtrip\n            format = \"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'\";\n            break;\n        case \"R\":\n        case \"r\":\n            // RFC1123 pattern - - time must be converted to UTC before formatting\n            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\n            format = \"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'\";\n            break;\n        case \"s\":\n            // Sortable - should use invariant culture\n            format = \"S\";\n            break;\n        case \"u\":\n            // Universal sortable - should convert to UTC before applying the \"yyyy'-'MM'-'dd HH':'mm':'ss'Z' format.\n            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\n            format = \"yyyy'-'MM'-'dd HH':'mm':'ss'Z'\";\n            break;\n        case \"U\":\n            // Universal full - the pattern is same as F but the time must be converted to UTC before formatting\n            value = new Date(value.getUTCFullYear(), value.getUTCMonth(), value.getUTCDate(), value.getUTCHours(), value.getUTCMinutes(), value.getUTCSeconds(), value.getUTCMilliseconds());\n            format = \"F\";\n            break;\n        case \"y\":\n        case \"Y\":\n            // Year and month\n            switch (cultureName) {\n                case \"default\":\n                case \"en\":\n                case \"en-US\":\n                    format = \"MMMM, yyyy\"; // Fix the default year-month pattern for english\n                    break;\n                default:\n                    format = \"Y\"; // For other cultures - use the localized pattern\n            }\n            break;\n    }\n    return { value: value, format: format };\n}\nexports.findDateFormat = findDateFormat;\n/**\n * Translates unsupported .NET custom format expressions to the custom expressions supported by Globalize.\n */\nfunction fixDateTimeFormat(format) {\n    // Fix for the \"K\" format (timezone):\n    // T he js dates don't have a kind property so we'll support only local kind which is equavalent to zzz format.\n    format = format.replace(/%K/g, \"zzz\");\n    format = format.replace(/K/g, \"zzz\");\n    format = format.replace(/fffffff/g, \"fff0000\");\n    format = format.replace(/ffffff/g, \"fff000\");\n    format = format.replace(/fffff/g, \"fff00\");\n    format = format.replace(/ffff/g, \"fff0\");\n    // Fix for the 5 digit year: \"yyyyy\" format.\n    // The Globalize doesn't support dates greater than 9999 so we replace the \"yyyyy\" with \"0yyyy\".\n    format = format.replace(/yyyyy/g, \"0yyyy\");\n    // Fix for the 3 digit year: \"yyy\" format.\n    // The Globalize doesn't support this formatting so we need to replace it with the 4 digit year \"yyyy\" format.\n    format = format.replace(/(^y|^)yyy(^y|$)/g, \"yyyy\");\n    if (!regexCache) {\n        // Creating Regexes for cases \"Using single format specifier\"\n        // - http://msdn.microsoft.com/en-us/library/8kb3ddd4.aspx#UsingSingleSpecifiers\n        // This is not supported from The Globalize.\n        // The case covers all single \"%\" lead specifier (like \"%d\" but not %dd)\n        // The cases as single \"%d\" are filtered in if the bellow.\n        // (?!S) where S is the specifier make sure that we only one symbol for specifier.\n        regexCache = [\"d\", \"f\", \"F\", \"g\", \"h\", \"H\", \"K\", \"m\", \"M\", \"s\", \"t\", \"y\", \"z\", \":\", \"/\"].map(function (s) {\n            return { r: new RegExp(\"\\%\" + s + \"(?!\" + s + \")\", \"g\"), s: s };\n        });\n    }\n    if (format.indexOf(\"%\") !== -1 && format.length > 2) {\n        for (var i = 0; i < regexCache.length; i++) {\n            format = format.replace(regexCache[i].r, regexCache[i].s);\n        }\n    }\n    return format;\n}\nexports.fixDateTimeFormat = fixDateTimeFormat;\n//# sourceMappingURL=formatting.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n// NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\n/**\n * Performs JSON-style comparison of two objects.\n */\nexport function equals(x, y) {\n    if (x === y)\n        return true;\n    return JSON.stringify(x) === JSON.stringify(y);\n}\n//# sourceMappingURL=jsonComparer.js.map","\"use strict\";\n/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculateExactDigitsPrecision = exports.getDisplayUnits = exports.formatListOr = exports.formatListAnd = exports.getFormatStringByColumn = exports.getFormatString = exports.createDisplayUnitSystem = exports.formatVariantMeasureValue = exports.format = exports.create = exports.checkValueInBounds = exports.createDefaultFormatter = exports.setLocaleOptions = exports.getFormatMetadata = exports.getLocalizedString = exports.DefaultDateFormat = exports.DefaultNumericFormat = exports.DefaultIntegerFormat = void 0;\nvar displayUnitSystem_1 = require(\"./displayUnitSystem/displayUnitSystem\");\nvar displayUnitSystemType_1 = require(\"./displayUnitSystem/displayUnitSystemType\");\nvar stringExtensions = require(\"./stringExtensions\");\nvar formattingService_1 = require(\"./formattingService/formattingService\");\nvar dateTimeSequence_1 = require(\"./date/dateTimeSequence\");\nvar powerbi_visuals_utils_typeutils_1 = require(\"powerbi-visuals-utils-typeutils\");\nvar powerbi_visuals_utils_dataviewutils_1 = require(\"powerbi-visuals-utils-dataviewutils\");\n// powerbi.extensibility.utils.type\nvar ValueType = powerbi_visuals_utils_typeutils_1.valueType.ValueType;\nvar PrimitiveType = powerbi_visuals_utils_typeutils_1.valueType.PrimitiveType;\nvar StringExtensions = stringExtensions;\nvar BeautifiedFormat = {\n    \"0.00 %;-0.00 %;0.00 %\": \"Percentage\",\n    \"0.0 %;-0.0 %;0.0 %\": \"Percentage1\",\n};\nexports.DefaultIntegerFormat = \"g\";\nexports.DefaultNumericFormat = \"#,0.00\";\nexports.DefaultDateFormat = \"d\";\nvar defaultLocalizedStrings = {\n    \"NullValue\": \"(Blank)\",\n    \"BooleanTrue\": \"True\",\n    \"BooleanFalse\": \"False\",\n    \"NaNValue\": \"NaN\",\n    \"InfinityValue\": \"+Infinity\",\n    \"NegativeInfinityValue\": \"-Infinity\",\n    \"RestatementComma\": \"{0}, {1}\",\n    \"RestatementCompoundAnd\": \"{0} and {1}\",\n    \"RestatementCompoundOr\": \"{0} or {1}\",\n    \"DisplayUnitSystem_EAuto_Title\": \"Auto\",\n    \"DisplayUnitSystem_E0_Title\": \"None\",\n    \"DisplayUnitSystem_E3_LabelFormat\": \"{0}K\",\n    \"DisplayUnitSystem_E3_Title\": \"Thousands\",\n    \"DisplayUnitSystem_E6_LabelFormat\": \"{0}M\",\n    \"DisplayUnitSystem_E6_Title\": \"Millions\",\n    \"DisplayUnitSystem_E9_LabelFormat\": \"{0}bn\",\n    \"DisplayUnitSystem_E9_Title\": \"Billions\",\n    \"DisplayUnitSystem_E12_LabelFormat\": \"{0}T\",\n    \"DisplayUnitSystem_E12_Title\": \"Trillions\",\n    \"Percentage\": \"#,0.##%\",\n    \"Percentage1\": \"#,0.#%\",\n    \"TableTotalLabel\": \"Total\",\n    \"Tooltip_HighlightedValueDisplayName\": \"Highlighted\",\n    \"Funnel_PercentOfFirst\": \"Percent of first\",\n    \"Funnel_PercentOfPrevious\": \"Percent of previous\",\n    \"Funnel_PercentOfFirst_Highlight\": \"Percent of first (highlighted)\",\n    \"Funnel_PercentOfPrevious_Highlight\": \"Percent of previous (highlighted)\",\n    // Geotagging strings\n    \"GeotaggingString_Continent\": \"continent\",\n    \"GeotaggingString_Continents\": \"continents\",\n    \"GeotaggingString_Country\": \"country\",\n    \"GeotaggingString_Countries\": \"countries\",\n    \"GeotaggingString_State\": \"state\",\n    \"GeotaggingString_States\": \"states\",\n    \"GeotaggingString_City\": \"city\",\n    \"GeotaggingString_Cities\": \"cities\",\n    \"GeotaggingString_Town\": \"town\",\n    \"GeotaggingString_Towns\": \"towns\",\n    \"GeotaggingString_Province\": \"province\",\n    \"GeotaggingString_Provinces\": \"provinces\",\n    \"GeotaggingString_County\": \"county\",\n    \"GeotaggingString_Counties\": \"counties\",\n    \"GeotaggingString_Village\": \"village\",\n    \"GeotaggingString_Villages\": \"villages\",\n    \"GeotaggingString_Post\": \"post\",\n    \"GeotaggingString_Zip\": \"zip\",\n    \"GeotaggingString_Code\": \"code\",\n    \"GeotaggingString_Place\": \"place\",\n    \"GeotaggingString_Places\": \"places\",\n    \"GeotaggingString_Address\": \"address\",\n    \"GeotaggingString_Addresses\": \"addresses\",\n    \"GeotaggingString_Street\": \"street\",\n    \"GeotaggingString_Streets\": \"streets\",\n    \"GeotaggingString_Longitude\": \"longitude\",\n    \"GeotaggingString_Longitude_Short\": \"lon\",\n    \"GeotaggingString_Longitude_Short2\": \"long\",\n    \"GeotaggingString_Latitude\": \"latitude\",\n    \"GeotaggingString_Latitude_Short\": \"lat\",\n    \"GeotaggingString_PostalCode\": \"postal code\",\n    \"GeotaggingString_PostalCodes\": \"postal codes\",\n    \"GeotaggingString_ZipCode\": \"zip code\",\n    \"GeotaggingString_ZipCodes\": \"zip codes\",\n    \"GeotaggingString_Territory\": \"territory\",\n    \"GeotaggingString_Territories\": \"territories\",\n};\nfunction beautify(format) {\n    var key = BeautifiedFormat[format];\n    if (key)\n        return defaultLocalizedStrings[key] || format;\n    return format;\n}\nfunction describeUnit(exponent) {\n    var exponentLookup = (exponent === -1) ? \"Auto\" : exponent.toString();\n    var title = defaultLocalizedStrings[\"DisplayUnitSystem_E\" + exponentLookup + \"_Title\"];\n    var format = (exponent <= 0) ? \"{0}\" : defaultLocalizedStrings[\"DisplayUnitSystem_E\" + exponentLookup + \"_LabelFormat\"];\n    if (title || format)\n        return { title: title, format: format };\n}\nfunction getLocalizedString(stringId) {\n    return defaultLocalizedStrings[stringId];\n}\nexports.getLocalizedString = getLocalizedString;\n// NOTE: Define default locale options, but these can be overriden by setLocaleOptions.\nvar localizationOptions = {\n    nullValue: defaultLocalizedStrings[\"NullValue\"],\n    trueValue: defaultLocalizedStrings[\"BooleanTrue\"],\n    falseValue: defaultLocalizedStrings[\"BooleanFalse\"],\n    NaN: defaultLocalizedStrings[\"NaNValue\"],\n    infinity: defaultLocalizedStrings[\"InfinityValue\"],\n    negativeInfinity: defaultLocalizedStrings[\"NegativeInfinityValue\"],\n    beautify: function (format) { return beautify(format); },\n    describe: function (exponent) { return describeUnit(exponent); },\n    restatementComma: defaultLocalizedStrings[\"RestatementComma\"],\n    restatementCompoundAnd: defaultLocalizedStrings[\"RestatementCompoundAnd\"],\n    restatementCompoundOr: defaultLocalizedStrings[\"RestatementCompoundOr\"],\n};\nvar MaxScaledDecimalPlaces = 2;\nvar MaxValueForDisplayUnitRounding = 1000;\nvar MinIntegerValueForDisplayUnits = 10000;\nvar MinPrecisionForDisplayUnits = 2;\nvar DateTimeMetadataColumn = {\n    displayName: \"\",\n    type: ValueType.fromPrimitiveTypeAndCategory(PrimitiveType.DateTime),\n};\nfunction getFormatMetadata(format) {\n    return formattingService_1.numberFormat.getCustomFormatMetadata(format);\n}\nexports.getFormatMetadata = getFormatMetadata;\nfunction setLocaleOptions(options) {\n    localizationOptions = options;\n    displayUnitSystem_1.DefaultDisplayUnitSystem.RESET();\n    displayUnitSystem_1.WholeUnitsDisplayUnitSystem.RESET();\n}\nexports.setLocaleOptions = setLocaleOptions;\nfunction createDefaultFormatter(formatString, allowFormatBeautification, cultureSelector) {\n    var formatBeautified = allowFormatBeautification\n        ? localizationOptions.beautify(formatString)\n        : formatString;\n    return {\n        format: function (value) {\n            if (value == null) {\n                return localizationOptions.nullValue;\n            }\n            return formatCore({\n                value: value,\n                cultureSelector: cultureSelector,\n                format: formatBeautified\n            });\n        }\n    };\n}\nexports.createDefaultFormatter = createDefaultFormatter;\n/**\n * Check that provided value is in provided bounds. If not -- replace it by minimal or maximal replacement value\n * @param targetNum checking value\n * @param min minimal bound of value\n * @param max maximal bound of value\n * @param lessMinReplacement value that will be returned if checking value is lesser than minimal\n * @param greaterMaxReplacement value that will be returned if checking value is greater than maximal\n */\nfunction checkValueInBounds(targetNum, min, max, lessMinReplacement, greaterMaxReplacement) {\n    if (lessMinReplacement === void 0) { lessMinReplacement = min; }\n    if (greaterMaxReplacement === void 0) { greaterMaxReplacement = max; }\n    if (max !== undefined && max !== null) {\n        targetNum = targetNum <= max ? targetNum : greaterMaxReplacement;\n    }\n    if (min !== undefined && min !== null) {\n        targetNum = targetNum > min ? targetNum : lessMinReplacement;\n    }\n    return targetNum;\n}\nexports.checkValueInBounds = checkValueInBounds;\n// Creates an IValueFormatter to be used for a range of values.\nfunction create(options) {\n    var format = options.allowFormatBeautification\n        ? localizationOptions.beautify(options.format)\n        : options.format;\n    var cultureSelector = options.cultureSelector;\n    if (shouldUseNumericDisplayUnits(options)) {\n        var displayUnitSystem_2 = createDisplayUnitSystem(options.displayUnitSystemType);\n        var singleValueFormattingMode_1 = !!options.formatSingleValues;\n        displayUnitSystem_2.update(Math.max(Math.abs(options.value || 0), Math.abs(options.value2 || 0)));\n        var forcePrecision_1 = options.precision != null;\n        var decimals_1;\n        if (forcePrecision_1)\n            decimals_1 = -options.precision;\n        else if (displayUnitSystem_2.displayUnit && displayUnitSystem_2.displayUnit.value > 1)\n            decimals_1 = -MaxScaledDecimalPlaces;\n        return {\n            format: function (value) {\n                var formattedValue = getStringFormat(value, true /*nullsAreBlank*/);\n                if (!StringExtensions.isNullOrUndefinedOrWhiteSpaceString(formattedValue)) {\n                    return formattedValue;\n                }\n                // Round to Double.DEFAULT_PRECISION\n                if (value\n                    && !displayUnitSystem_2.isScalingUnit()\n                    && Math.abs(value) < MaxValueForDisplayUnitRounding\n                    && !forcePrecision_1) {\n                    value = powerbi_visuals_utils_typeutils_1.double.roundToPrecision(value);\n                }\n                if (singleValueFormattingMode_1) {\n                    return displayUnitSystem_2.formatSingleValue(value, format, decimals_1, forcePrecision_1, cultureSelector);\n                }\n                else {\n                    return displayUnitSystem_2.format(value, format, decimals_1, forcePrecision_1, cultureSelector);\n                }\n            },\n            displayUnit: displayUnitSystem_2.displayUnit,\n            options: options\n        };\n    }\n    if (shouldUseDateUnits(options.value, options.value2, options.tickCount)) {\n        var unit_1 = dateTimeSequence_1.DateTimeSequence.GET_INTERVAL_UNIT(options.value /* minDate */, options.value2 /* maxDate */, options.tickCount);\n        return {\n            format: function (value) {\n                if (value == null) {\n                    return localizationOptions.nullValue;\n                }\n                var formatString = formattingService_1.formattingService.dateFormatString(unit_1);\n                return formatCore({\n                    value: value,\n                    cultureSelector: cultureSelector,\n                    format: formatString,\n                });\n            },\n            options: options\n        };\n    }\n    return createDefaultFormatter(format, false, cultureSelector);\n}\nexports.create = create;\nfunction format(value, format, allowFormatBeautification, cultureSelector) {\n    if (value == null) {\n        return localizationOptions.nullValue;\n    }\n    var formatString = allowFormatBeautification\n        ? localizationOptions.beautify(format)\n        : format;\n    return formatCore({\n        value: value,\n        cultureSelector: cultureSelector,\n        format: formatString\n    });\n}\nexports.format = format;\n/**\n * Value formatting function to handle variant measures.\n * For a Date/Time value within a non-date/time field, it's formatted with the default date/time formatString instead of as a number\n * @param {any} value Value to be formatted\n * @param {DataViewMetadataColumn} column Field which the value belongs to\n * @param {DataViewObjectPropertyIdentifier} formatStringProp formatString Property ID\n * @param {boolean} nullsAreBlank? Whether to show \"(Blank)\" instead of empty string for null values\n * @returns Formatted value\n */\nfunction formatVariantMeasureValue(value, column, formatStringProp, nullsAreBlank, cultureSelector) {\n    // If column type is not datetime, but the value is of time datetime,\n    // then use the default date format string\n    if (!(column && column.type && column.type.dateTime) && value instanceof Date) {\n        var valueFormat = getFormatString(DateTimeMetadataColumn, null, false);\n        return formatCore({\n            value: value,\n            nullsAreBlank: nullsAreBlank,\n            cultureSelector: cultureSelector,\n            format: valueFormat\n        });\n    }\n    else {\n        var valueFormat = getFormatString(column, formatStringProp);\n        return formatCore({\n            value: value,\n            nullsAreBlank: nullsAreBlank,\n            cultureSelector: cultureSelector,\n            format: valueFormat\n        });\n    }\n}\nexports.formatVariantMeasureValue = formatVariantMeasureValue;\nfunction createDisplayUnitSystem(displayUnitSystemType) {\n    if (displayUnitSystemType == null)\n        return new displayUnitSystem_1.DefaultDisplayUnitSystem(localizationOptions.describe);\n    switch (displayUnitSystemType) {\n        case displayUnitSystemType_1.DisplayUnitSystemType.Default:\n            return new displayUnitSystem_1.DefaultDisplayUnitSystem(localizationOptions.describe);\n        case displayUnitSystemType_1.DisplayUnitSystemType.WholeUnits:\n            return new displayUnitSystem_1.WholeUnitsDisplayUnitSystem(localizationOptions.describe);\n        case displayUnitSystemType_1.DisplayUnitSystemType.Verbose:\n            return new displayUnitSystem_1.NoDisplayUnitSystem();\n        case displayUnitSystemType_1.DisplayUnitSystemType.DataLabels:\n            return new displayUnitSystem_1.DataLabelsDisplayUnitSystem(localizationOptions.describe);\n        default:\n            return new displayUnitSystem_1.DefaultDisplayUnitSystem(localizationOptions.describe);\n    }\n}\nexports.createDisplayUnitSystem = createDisplayUnitSystem;\nfunction shouldUseNumericDisplayUnits(options) {\n    var value = options.value;\n    var value2 = options.value2;\n    var format = options.format;\n    // For singleValue visuals like card, gauge we don't want to roundoff data to the nearest thousands so format the whole number / integers below 10K to not use display units\n    if (options.formatSingleValues && format) {\n        if (Math.abs(value) < MinIntegerValueForDisplayUnits) {\n            var isCustomFormat = !formattingService_1.numberFormat.isStandardFormat(format);\n            if (isCustomFormat) {\n                var precision = formattingService_1.numberFormat.getCustomFormatMetadata(format, true /*calculatePrecision*/).precision;\n                if (precision < MinPrecisionForDisplayUnits)\n                    return false;\n            }\n            else if (powerbi_visuals_utils_typeutils_1.double.isInteger(value))\n                return false;\n        }\n    }\n    if ((typeof value === \"number\") || (typeof value2 === \"number\")) {\n        return true;\n    }\n}\nfunction shouldUseDateUnits(value, value2, tickCount) {\n    // must check both value and value2 because we'll need to get an interval for date units\n    return (value instanceof Date) && (value2 instanceof Date) && (tickCount !== undefined && tickCount !== null);\n}\n/*\n    * Get the column format. Order of precendence is:\n    *  1. Column format\n    *  2. Default PowerView policy for column type\n    */\nfunction getFormatString(column, formatStringProperty, suppressTypeFallback) {\n    if (column) {\n        if (formatStringProperty) {\n            var propertyValue = powerbi_visuals_utils_dataviewutils_1.dataViewObjects.getValue(column.objects, formatStringProperty);\n            if (propertyValue)\n                return propertyValue;\n        }\n        if (!suppressTypeFallback) {\n            var columnType = column.type;\n            if (columnType) {\n                if (columnType.dateTime)\n                    return exports.DefaultDateFormat;\n                if (columnType.integer) {\n                    if (columnType.temporal && columnType.temporal.year)\n                        return \"0\";\n                    return exports.DefaultIntegerFormat;\n                }\n                if (columnType.numeric)\n                    return exports.DefaultNumericFormat;\n            }\n        }\n    }\n}\nexports.getFormatString = getFormatString;\nfunction getFormatStringByColumn(column, suppressTypeFallback) {\n    if (column) {\n        if (column.format) {\n            return column.format;\n        }\n        if (!suppressTypeFallback) {\n            var columnType = column.type;\n            if (columnType) {\n                if (columnType.dateTime) {\n                    return exports.DefaultDateFormat;\n                }\n                if (columnType.integer) {\n                    if (columnType.temporal && columnType.temporal.year) {\n                        return \"0\";\n                    }\n                    return exports.DefaultIntegerFormat;\n                }\n                if (columnType.numeric) {\n                    return exports.DefaultNumericFormat;\n                }\n            }\n        }\n    }\n    return undefined;\n}\nexports.getFormatStringByColumn = getFormatStringByColumn;\nfunction formatListCompound(strings, conjunction) {\n    var result;\n    if (!strings) {\n        return null;\n    }\n    var length = strings.length;\n    if (length > 0) {\n        result = strings[0];\n        var lastIndex = length - 1;\n        for (var i = 1, len = lastIndex; i < len; i++) {\n            var value = strings[i];\n            result = StringExtensions.format(localizationOptions.restatementComma, result, value);\n        }\n        if (length > 1) {\n            var value = strings[lastIndex];\n            result = StringExtensions.format(conjunction, result, value);\n        }\n    }\n    else {\n        result = null;\n    }\n    return result;\n}\n// The returned string will look like 'A, B, ..., and C'\nfunction formatListAnd(strings) {\n    return formatListCompound(strings, localizationOptions.restatementCompoundAnd);\n}\nexports.formatListAnd = formatListAnd;\n// The returned string will look like 'A, B, ..., or C'\nfunction formatListOr(strings) {\n    return formatListCompound(strings, localizationOptions.restatementCompoundOr);\n}\nexports.formatListOr = formatListOr;\nfunction formatCore(options) {\n    var value = options.value, format = options.format, nullsAreBlank = options.nullsAreBlank, cultureSelector = options.cultureSelector;\n    var formattedValue = getStringFormat(value, nullsAreBlank ? nullsAreBlank : false);\n    if (!StringExtensions.isNullOrUndefinedOrWhiteSpaceString(formattedValue)) {\n        return formattedValue;\n    }\n    return formattingService_1.formattingService.formatValue(value, format, cultureSelector);\n}\nfunction getStringFormat(value, nullsAreBlank) {\n    if (value == null && nullsAreBlank) {\n        return localizationOptions.nullValue;\n    }\n    if (value === true) {\n        return localizationOptions.trueValue;\n    }\n    if (value === false) {\n        return localizationOptions.falseValue;\n    }\n    if (typeof value === \"number\" && isNaN(value)) {\n        return localizationOptions.NaN;\n    }\n    if (value === Number.NEGATIVE_INFINITY) {\n        return localizationOptions.negativeInfinity;\n    }\n    if (value === Number.POSITIVE_INFINITY) {\n        return localizationOptions.infinity;\n    }\n    return \"\";\n}\nfunction getDisplayUnits(displayUnitSystemType) {\n    var displayUnitSystem = createDisplayUnitSystem(displayUnitSystemType);\n    return displayUnitSystem.units;\n}\nexports.getDisplayUnits = getDisplayUnits;\n/**\n * Precision calculating function to build values showing minimum 3 digits as 3.56 or 25.7 or 754 or 2345\n * @param {number} inputValue Value to be basement for precision calculation\n * @param {string} format Format that will be used for value formatting (to detect percentage values)\n * @param {number} displayUnits Dispaly units that will be used for value formatting (to correctly calculate precision)\n * @param {number} digitsNum Number of visible digits, including digits before separator\n * @returns calculated precision\n */\nfunction calculateExactDigitsPrecision(inputValue, format, displayUnits, digitsNum) {\n    if (!inputValue && inputValue !== 0) {\n        return 0;\n    }\n    var precision = 0;\n    var inPercent = format && format.indexOf(\"%\") !== -1;\n    var value = inPercent ? inputValue * 100 : inputValue;\n    value = displayUnits > 0 ? value / displayUnits : value;\n    var leftPartLength = parseInt(value).toString().length;\n    if ((inPercent || displayUnits > 0) && leftPartLength >= digitsNum) {\n        return 0;\n    }\n    // Auto units, calculate final value \n    if (displayUnits === 0) {\n        var unitsDegree = Math.floor(leftPartLength / 3);\n        unitsDegree = leftPartLength % 3 === 0 ? unitsDegree - 1 : unitsDegree;\n        var divider = Math.pow(1000, unitsDegree);\n        if (divider > 0) {\n            value = value / divider;\n        }\n    }\n    leftPartLength = parseInt(value).toString().length;\n    var restOfDiv = leftPartLength % digitsNum;\n    if (restOfDiv === 0) {\n        precision = 0;\n    }\n    else {\n        precision = digitsNum - restOfDiv;\n    }\n    return precision;\n}\nexports.calculateExactDigitsPrecision = calculateExactDigitsPrecision;\n//# sourceMappingURL=valueFormatter.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nconst PxPtRatio = 4 / 3;\nconst PixelString = \"px\";\n/**\n * Appends 'px' to the end of number value for use as pixel string in styles\n */\nexport function toString(px) {\n    return px + PixelString;\n}\n/**\n * Converts point value (pt) to pixels\n * Returns a string for font-size property\n * e.g. fromPoint(8) => '24px'\n */\nexport function fromPoint(pt) {\n    return toString(fromPointToPixel(pt));\n}\n/**\n * Converts point value (pt) to pixels\n * Returns a number for font-size property\n * e.g. fromPoint(8) => 24px\n */\nexport function fromPointToPixel(pt) {\n    return (PxPtRatio * pt);\n}\n/**\n * Converts pixel value (px) to pt\n * e.g. toPoint(24) => 8\n */\nexport function toPoint(px) {\n    return px / PxPtRatio;\n}\n//# sourceMappingURL=pixelConverter.js.map","export function getMeasureIndexOfRole(grouped, roleName) {\n    if (!grouped || !grouped.length) {\n        return -1;\n    }\n    const firstGroup = grouped[0];\n    if (firstGroup.values && firstGroup.values.length > 0) {\n        for (let i = 0, len = firstGroup.values.length; i < len; ++i) {\n            const value = firstGroup.values[i];\n            if (value && value.source) {\n                if (hasRole(value.source, roleName)) {\n                    return i;\n                }\n            }\n        }\n    }\n    return -1;\n}\nexport function getCategoryIndexOfRole(categories, roleName) {\n    if (categories && categories.length) {\n        for (let i = 0, ilen = categories.length; i < ilen; i++) {\n            if (hasRole(categories[i].source, roleName)) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\nexport function hasRole(column, name) {\n    const roles = column.roles;\n    return roles && roles[name];\n}\nexport function hasRoleInDataView(dataView, name) {\n    return dataView != null\n        && dataView.metadata != null\n        && dataView.metadata.columns\n        && dataView.metadata.columns.some((c) => c.roles && c.roles[name] !== undefined); // any is an alias of some\n}\nexport function hasRoleInValueColumn(valueColumn, name) {\n    return valueColumn\n        && valueColumn.source\n        && valueColumn.source.roles\n        && (valueColumn.source.roles[name] === true);\n}\n//# sourceMappingURL=dataRoleHelper.js.map","/*\n*  Power BI Visualizations\n*\n*  Copyright (c) Microsoft Corporation\n*  All rights reserved.\n*  MIT License\n*\n*  Permission is hereby granted, free of charge, to any person obtaining a copy\n*  of this software and associated documentation files (the \"\"Software\"\"), to deal\n*  in the Software without restriction, including without limitation the rights\n*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n*  copies of the Software, and to permit persons to whom the Software is\n*  furnished to do so, subject to the following conditions:\n*\n*  The above copyright notice and this permission notice shall be included in\n*  all copies or substantial portions of the Software.\n*\n*  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n*  THE SOFTWARE.\n*/\n/**\n * Module Double contains a set of constants and precision based utility methods\n * for dealing with doubles and their decimal garbage in the javascript.\n */\n// Constants.\nexport const MIN_VALUE = -Number.MAX_VALUE;\nexport const MAX_VALUE = Number.MAX_VALUE;\nexport const MIN_EXP = -308;\nexport const MAX_EXP = 308;\nexport const EPSILON = 1E-323;\nexport const DEFAULT_PRECISION = 0.0001;\nexport const DEFAULT_PRECISION_IN_DECIMAL_DIGITS = 12;\nexport const LOG_E_10 = Math.log(10);\nexport const POSITIVE_POWERS = [\n    1E0, 1E1, 1E2, 1E3, 1E4, 1E5, 1E6, 1E7, 1E8, 1E9, 1E10, 1E11, 1E12, 1E13, 1E14, 1E15, 1E16, 1E17, 1E18, 1E19, 1E20, 1E21, 1E22, 1E23, 1E24, 1E25, 1E26, 1E27, 1E28, 1E29, 1E30, 1E31, 1E32, 1E33, 1E34, 1E35, 1E36, 1E37, 1E38, 1E39, 1E40, 1E41, 1E42, 1E43, 1E44, 1E45, 1E46, 1E47, 1E48, 1E49, 1E50, 1E51, 1E52, 1E53, 1E54, 1E55, 1E56, 1E57, 1E58, 1E59, 1E60, 1E61, 1E62, 1E63, 1E64, 1E65, 1E66, 1E67, 1E68, 1E69, 1E70, 1E71, 1E72, 1E73, 1E74, 1E75, 1E76, 1E77, 1E78, 1E79, 1E80, 1E81, 1E82, 1E83, 1E84, 1E85, 1E86, 1E87, 1E88, 1E89, 1E90, 1E91, 1E92, 1E93, 1E94, 1E95, 1E96, 1E97, 1E98, 1E99,\n    1E100, 1E101, 1E102, 1E103, 1E104, 1E105, 1E106, 1E107, 1E108, 1E109, 1E110, 1E111, 1E112, 1E113, 1E114, 1E115, 1E116, 1E117, 1E118, 1E119, 1E120, 1E121, 1E122, 1E123, 1E124, 1E125, 1E126, 1E127, 1E128, 1E129, 1E130, 1E131, 1E132, 1E133, 1E134, 1E135, 1E136, 1E137, 1E138, 1E139, 1E140, 1E141, 1E142, 1E143, 1E144, 1E145, 1E146, 1E147, 1E148, 1E149, 1E150, 1E151, 1E152, 1E153, 1E154, 1E155, 1E156, 1E157, 1E158, 1E159, 1E160, 1E161, 1E162, 1E163, 1E164, 1E165, 1E166, 1E167, 1E168, 1E169, 1E170, 1E171, 1E172, 1E173, 1E174, 1E175, 1E176, 1E177, 1E178, 1E179, 1E180, 1E181, 1E182, 1E183, 1E184, 1E185, 1E186, 1E187, 1E188, 1E189, 1E190, 1E191, 1E192, 1E193, 1E194, 1E195, 1E196, 1E197, 1E198, 1E199,\n    1E200, 1E201, 1E202, 1E203, 1E204, 1E205, 1E206, 1E207, 1E208, 1E209, 1E210, 1E211, 1E212, 1E213, 1E214, 1E215, 1E216, 1E217, 1E218, 1E219, 1E220, 1E221, 1E222, 1E223, 1E224, 1E225, 1E226, 1E227, 1E228, 1E229, 1E230, 1E231, 1E232, 1E233, 1E234, 1E235, 1E236, 1E237, 1E238, 1E239, 1E240, 1E241, 1E242, 1E243, 1E244, 1E245, 1E246, 1E247, 1E248, 1E249, 1E250, 1E251, 1E252, 1E253, 1E254, 1E255, 1E256, 1E257, 1E258, 1E259, 1E260, 1E261, 1E262, 1E263, 1E264, 1E265, 1E266, 1E267, 1E268, 1E269, 1E270, 1E271, 1E272, 1E273, 1E274, 1E275, 1E276, 1E277, 1E278, 1E279, 1E280, 1E281, 1E282, 1E283, 1E284, 1E285, 1E286, 1E287, 1E288, 1E289, 1E290, 1E291, 1E292, 1E293, 1E294, 1E295, 1E296, 1E297, 1E298, 1E299,\n    1E300, 1E301, 1E302, 1E303, 1E304, 1E305, 1E306, 1E307, 1E308\n];\nexport const NEGATIVE_POWERS = [\n    1E0, 1E-1, 1E-2, 1E-3, 1E-4, 1E-5, 1E-6, 1E-7, 1E-8, 1E-9, 1E-10, 1E-11, 1E-12, 1E-13, 1E-14, 1E-15, 1E-16, 1E-17, 1E-18, 1E-19, 1E-20, 1E-21, 1E-22, 1E-23, 1E-24, 1E-25, 1E-26, 1E-27, 1E-28, 1E-29, 1E-30, 1E-31, 1E-32, 1E-33, 1E-34, 1E-35, 1E-36, 1E-37, 1E-38, 1E-39, 1E-40, 1E-41, 1E-42, 1E-43, 1E-44, 1E-45, 1E-46, 1E-47, 1E-48, 1E-49, 1E-50, 1E-51, 1E-52, 1E-53, 1E-54, 1E-55, 1E-56, 1E-57, 1E-58, 1E-59, 1E-60, 1E-61, 1E-62, 1E-63, 1E-64, 1E-65, 1E-66, 1E-67, 1E-68, 1E-69, 1E-70, 1E-71, 1E-72, 1E-73, 1E-74, 1E-75, 1E-76, 1E-77, 1E-78, 1E-79, 1E-80, 1E-81, 1E-82, 1E-83, 1E-84, 1E-85, 1E-86, 1E-87, 1E-88, 1E-89, 1E-90, 1E-91, 1E-92, 1E-93, 1E-94, 1E-95, 1E-96, 1E-97, 1E-98, 1E-99,\n    1E-100, 1E-101, 1E-102, 1E-103, 1E-104, 1E-105, 1E-106, 1E-107, 1E-108, 1E-109, 1E-110, 1E-111, 1E-112, 1E-113, 1E-114, 1E-115, 1E-116, 1E-117, 1E-118, 1E-119, 1E-120, 1E-121, 1E-122, 1E-123, 1E-124, 1E-125, 1E-126, 1E-127, 1E-128, 1E-129, 1E-130, 1E-131, 1E-132, 1E-133, 1E-134, 1E-135, 1E-136, 1E-137, 1E-138, 1E-139, 1E-140, 1E-141, 1E-142, 1E-143, 1E-144, 1E-145, 1E-146, 1E-147, 1E-148, 1E-149, 1E-150, 1E-151, 1E-152, 1E-153, 1E-154, 1E-155, 1E-156, 1E-157, 1E-158, 1E-159, 1E-160, 1E-161, 1E-162, 1E-163, 1E-164, 1E-165, 1E-166, 1E-167, 1E-168, 1E-169, 1E-170, 1E-171, 1E-172, 1E-173, 1E-174, 1E-175, 1E-176, 1E-177, 1E-178, 1E-179, 1E-180, 1E-181, 1E-182, 1E-183, 1E-184, 1E-185, 1E-186, 1E-187, 1E-188, 1E-189, 1E-190, 1E-191, 1E-192, 1E-193, 1E-194, 1E-195, 1E-196, 1E-197, 1E-198, 1E-199,\n    1E-200, 1E-201, 1E-202, 1E-203, 1E-204, 1E-205, 1E-206, 1E-207, 1E-208, 1E-209, 1E-210, 1E-211, 1E-212, 1E-213, 1E-214, 1E-215, 1E-216, 1E-217, 1E-218, 1E-219, 1E-220, 1E-221, 1E-222, 1E-223, 1E-224, 1E-225, 1E-226, 1E-227, 1E-228, 1E-229, 1E-230, 1E-231, 1E-232, 1E-233, 1E-234, 1E-235, 1E-236, 1E-237, 1E-238, 1E-239, 1E-240, 1E-241, 1E-242, 1E-243, 1E-244, 1E-245, 1E-246, 1E-247, 1E-248, 1E-249, 1E-250, 1E-251, 1E-252, 1E-253, 1E-254, 1E-255, 1E-256, 1E-257, 1E-258, 1E-259, 1E-260, 1E-261, 1E-262, 1E-263, 1E-264, 1E-265, 1E-266, 1E-267, 1E-268, 1E-269, 1E-270, 1E-271, 1E-272, 1E-273, 1E-274, 1E-275, 1E-276, 1E-277, 1E-278, 1E-279, 1E-280, 1E-281, 1E-282, 1E-283, 1E-284, 1E-285, 1E-286, 1E-287, 1E-288, 1E-289, 1E-290, 1E-291, 1E-292, 1E-293, 1E-294, 1E-295, 1E-296, 1E-297, 1E-298, 1E-299,\n    1E-300, 1E-301, 1E-302, 1E-303, 1E-304, 1E-305, 1E-306, 1E-307, 1E-308, 1E-309, 1E-310, 1E-311, 1E-312, 1E-313, 1E-314, 1E-315, 1E-316, 1E-317, 1E-318, 1E-319, 1E-320, 1E-321, 1E-322, 1E-323, 1E-324\n];\n/**\n * Returns powers of 10.\n * Unlike the Math.pow this function produces no decimal garbage.\n * @param exp Exponent.\n */\nexport function pow10(exp) {\n    // Positive & zero\n    if (exp >= 0) {\n        if (exp < POSITIVE_POWERS.length) {\n            return POSITIVE_POWERS[exp];\n        }\n        else {\n            return Infinity;\n        }\n    }\n    // Negative\n    exp = -exp;\n    if (exp > 0 && exp < NEGATIVE_POWERS.length) { // if exp==int.MIN_VALUE then changing the sign will overflow and keep the number negative - we need to check for exp > 0 to filter out this corner case\n        return NEGATIVE_POWERS[exp];\n    }\n    else {\n        return 0;\n    }\n}\n/**\n * Returns the 10 base logarithm of the number.\n * Unlike Math.log function this produces integer results with no decimal garbage.\n * @param val Positive value or zero.\n */\n// eslint-disable-next-line max-lines-per-function\nexport function log10(val) {\n    // Fast Log10() algorithm\n    if (val > 1 && val < 1E16) {\n        if (val < 1E8) {\n            if (val < 1E4) {\n                if (val < 1E2) {\n                    if (val < 1E1) {\n                        return 0;\n                    }\n                    else {\n                        return 1;\n                    }\n                }\n                else {\n                    if (val < 1E3) {\n                        return 2;\n                    }\n                    else {\n                        return 3;\n                    }\n                }\n            }\n            else {\n                if (val < 1E6) {\n                    if (val < 1E5) {\n                        return 4;\n                    }\n                    else {\n                        return 5;\n                    }\n                }\n                else {\n                    if (val < 1E7) {\n                        return 6;\n                    }\n                    else {\n                        return 7;\n                    }\n                }\n            }\n        }\n        else {\n            if (val < 1E12) {\n                if (val < 1E10) {\n                    if (val < 1E9) {\n                        return 8;\n                    }\n                    else {\n                        return 9;\n                    }\n                }\n                else {\n                    if (val < 1E11) {\n                        return 10;\n                    }\n                    else {\n                        return 11;\n                    }\n                }\n            }\n            else {\n                if (val < 1E14) {\n                    if (val < 1E13) {\n                        return 12;\n                    }\n                    else {\n                        return 13;\n                    }\n                }\n                else {\n                    if (val < 1E15) {\n                        return 14;\n                    }\n                    else {\n                        return 15;\n                    }\n                }\n            }\n        }\n    }\n    if (val > 1E-16 && val < 1) {\n        if (val < 1E-8) {\n            if (val < 1E-12) {\n                if (val < 1E-14) {\n                    if (val < 1E-15) {\n                        return -16;\n                    }\n                    else {\n                        return -15;\n                    }\n                }\n                else {\n                    if (val < 1E-13) {\n                        return -14;\n                    }\n                    else {\n                        return -13;\n                    }\n                }\n            }\n            else {\n                if (val < 1E-10) {\n                    if (val < 1E-11) {\n                        return -12;\n                    }\n                    else {\n                        return -11;\n                    }\n                }\n                else {\n                    if (val < 1E-9) {\n                        return -10;\n                    }\n                    else {\n                        return -9;\n                    }\n                }\n            }\n        }\n        else {\n            if (val < 1E-4) {\n                if (val < 1E-6) {\n                    if (val < 1E-7) {\n                        return -8;\n                    }\n                    else {\n                        return -7;\n                    }\n                }\n                else {\n                    if (val < 1E-5) {\n                        return -6;\n                    }\n                    else {\n                        return -5;\n                    }\n                }\n            }\n            else {\n                if (val < 1E-2) {\n                    if (val < 1E-3) {\n                        return -4;\n                    }\n                    else {\n                        return -3;\n                    }\n                }\n                else {\n                    if (val < 1E-1) {\n                        return -2;\n                    }\n                    else {\n                        return -1;\n                    }\n                }\n            }\n        }\n    }\n    // JS Math provides only natural log function so we need to calc the 10 base logarithm:\n    // logb(x) = logk(x)/logk(b);\n    const log10 = Math.log(val) / LOG_E_10;\n    return floorWithPrecision(log10);\n}\n/**\n * Returns a power of 10 representing precision of the number based on the number of meaningful decimal digits.\n * For example the precision of 56,263.3767 with the 6 meaningful decimal digit is 0.1.\n * @param x Value.\n * @param decimalDigits How many decimal digits are meaningfull.\n */\nexport function getPrecision(x, decimalDigits) {\n    if (decimalDigits === undefined) {\n        decimalDigits = DEFAULT_PRECISION_IN_DECIMAL_DIGITS;\n    }\n    if (!x || !isFinite(x)) {\n        return undefined;\n    }\n    const exp = log10(Math.abs(x));\n    if (exp < MIN_EXP) {\n        return 0;\n    }\n    const precisionExp = Math.max(exp - decimalDigits, -NEGATIVE_POWERS.length + 1);\n    return pow10(precisionExp);\n}\n/**\n * Checks if a delta between 2 numbers is less than provided precision.\n * @param x One value.\n * @param y Another value.\n * @param precision Precision value.\n */\nexport function equalWithPrecision(x, y, precision) {\n    precision = detectPrecision(precision, x, y);\n    return x === y || Math.abs(x - y) < precision;\n}\n/**\n * Checks if a first value is less than another taking\n * into account the loose precision based equality.\n * @param x One value.\n * @param y Another value.\n * @param precision Precision value.\n */\nexport function lessWithPrecision(x, y, precision) {\n    precision = detectPrecision(precision, x, y);\n    return x < y && Math.abs(x - y) > precision;\n}\n/**\n * Checks if a first value is less or equal than another taking\n * into account the loose precision based equality.\n * @param x One value.\n * @param y Another value.\n * @param precision Precision value.\n */\nexport function lessOrEqualWithPrecision(x, y, precision) {\n    precision = detectPrecision(precision, x, y);\n    return x < y || Math.abs(x - y) < precision;\n}\n/**\n * Checks if a first value is greater than another taking\n * into account the loose precision based equality.\n * @param x One value.\n * @param y Another value.\n * @param precision Precision value.\n */\nexport function greaterWithPrecision(x, y, precision) {\n    precision = detectPrecision(precision, x, y);\n    return x > y && Math.abs(x - y) > precision;\n}\n/**\n * Checks if a first value is greater or equal to another taking\n * into account the loose precision based equality.\n * @param x One value.\n * @param y Another value.\n * @param precision Precision value.\n */\nexport function greaterOrEqualWithPrecision(x, y, precision) {\n    precision = detectPrecision(precision, x, y);\n    return x > y || Math.abs(x - y) < precision;\n}\n/**\n * Floors the number unless it's withing the precision distance from the higher int.\n * @param x One value.\n * @param precision Precision value.\n */\nexport function floorWithPrecision(x, precision) {\n    precision = precision != null ? precision : DEFAULT_PRECISION;\n    const roundX = Math.round(x);\n    if (Math.abs(x - roundX) < precision) {\n        return roundX;\n    }\n    else {\n        return Math.floor(x);\n    }\n}\n/**\n * Ceils the number unless it's withing the precision distance from the lower int.\n * @param x One value.\n * @param precision Precision value.\n */\nexport function ceilWithPrecision(x, precision) {\n    precision = detectPrecision(precision, DEFAULT_PRECISION);\n    const roundX = Math.round(x);\n    if (Math.abs(x - roundX) < precision) {\n        return roundX;\n    }\n    else {\n        return Math.ceil(x);\n    }\n}\n/**\n * Floors the number to the provided precision.\n * For example 234,578 floored to 1,000 precision is 234,000.\n * @param x One value.\n * @param precision Precision value.\n */\nexport function floorToPrecision(x, precision) {\n    precision = detectPrecision(precision, DEFAULT_PRECISION);\n    if (precision === 0 || x === 0) {\n        return x;\n    }\n    // Precision must be a Power of 10\n    return Math.floor(x / precision) * precision;\n}\n/**\n * Ceils the number to the provided precision.\n * For example 234,578 floored to 1,000 precision is 235,000.\n * @param x One value.\n * @param precision Precision value.\n */\nexport function ceilToPrecision(x, precision) {\n    precision = detectPrecision(precision, DEFAULT_PRECISION);\n    if (precision === 0 || x === 0) {\n        return x;\n    }\n    // Precision must be a Power of 10\n    return Math.ceil(x / precision) * precision;\n}\n/**\n * Rounds the number to the provided precision.\n * For example 234,578 floored to 1,000 precision is 235,000.\n * @param x One value.\n * @param precision Precision value.\n */\nexport function roundToPrecision(x, precision) {\n    precision = detectPrecision(precision, DEFAULT_PRECISION);\n    if (precision === 0 || x === 0) {\n        return x;\n    }\n    // Precision must be a Power of 10\n    let result = Math.round(x / precision) * precision;\n    const decimalDigits = Math.round(log10(Math.abs(x)) - log10(precision)) + 1;\n    if (decimalDigits > 0 && decimalDigits < 16) {\n        result = parseFloat(result.toPrecision(decimalDigits));\n    }\n    return result;\n}\n/**\n * Returns the value making sure that it's restricted to the provided range.\n * @param x One value.\n * @param min Range min boundary.\n * @param max Range max boundary.\n */\nexport function ensureInRange(x, min, max) {\n    if (x === undefined || x === null) {\n        return x;\n    }\n    if (x < min) {\n        return min;\n    }\n    if (x > max) {\n        return max;\n    }\n    return x;\n}\n/**\n * Rounds the value - this method is actually faster than Math.round - used in the graphics utils.\n * @param x Value to round.\n */\nexport function round(x) {\n    return (0.5 + x) << 0;\n}\n/**\n * Projects the value from the source range into the target range.\n * @param value Value to project.\n * @param fromMin Minimum of the source range.\n * @param toMin Minimum of the target range.\n * @param toMax Maximum of the target range.\n */\nexport function project(value, fromMin, fromSize, toMin, toSize) {\n    if (fromSize === 0 || toSize === 0) {\n        if (fromMin <= value && value <= fromMin + fromSize) {\n            return toMin;\n        }\n        else {\n            return NaN;\n        }\n    }\n    const relativeX = (value - fromMin) / fromSize;\n    const projectedX = toMin + relativeX * toSize;\n    return projectedX;\n}\n/**\n * Removes decimal noise.\n * @param value Value to be processed.\n */\nexport function removeDecimalNoise(value) {\n    return roundToPrecision(value, getPrecision(value));\n}\n/**\n * Checks whether the number is integer.\n * @param value Value to be checked.\n */\nexport function isInteger(value) {\n    return value !== null && value % 1 === 0;\n}\n/**\n * Dividing by increment will give us count of increments\n * Round out the rough edges into even integer\n * Multiply back by increment to get rounded value\n * e.g. Rounder.toIncrement(0.647291, 0.05) => 0.65\n * @param value - value to round to nearest increment\n * @param increment - smallest increment to round toward\n */\nexport function toIncrement(value, increment) {\n    return Math.round(value / increment) * increment;\n}\n/**\n * Overrides the given precision with defaults if necessary. Exported only for tests\n *\n * precision defined returns precision\n * x defined with y undefined returns twelve digits of precision based on x\n * x defined but zero with y defined; returns twelve digits of precision based on y\n * x and y defined retursn twelve digits of precision based on the minimum of the two\n * if no applicable precision is found based on those (such as x and y being zero), the default precision is used\n */\nexport function detectPrecision(precision, x, y) {\n    if (precision !== undefined) {\n        return precision;\n    }\n    let calculatedPrecision;\n    if (!y) {\n        calculatedPrecision = getPrecision(x);\n    }\n    else if (!x) {\n        calculatedPrecision = getPrecision(y);\n    }\n    else {\n        calculatedPrecision = getPrecision(Math.min(Math.abs(x), Math.abs(y)));\n    }\n    return calculatedPrecision || DEFAULT_PRECISION;\n}\n//# sourceMappingURL=double.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.splitByWidth = exports.getMaxWordWidth = exports.wordCount = exports.hasBreakers = exports.find = void 0;\nvar SPACE = \" \";\nvar BREAKERS_REGEX = /[\\s\\n]+/g;\nfunction search(index, content, backward) {\n    if (backward) {\n        for (var i = index - 1; i > -1; i--) {\n            if (hasBreakers(content[i]))\n                return i + 1;\n        }\n    }\n    else {\n        for (var i = index, ilen = content.length; i < ilen; i++) {\n            if (hasBreakers(content[i]))\n                return i;\n        }\n    }\n    return backward ? 0 : content.length;\n}\n/**\n * Find the word nearest the cursor specified within content\n * @param index - point within content to search forward/backward from\n * @param content - string to search\n*/\nfunction find(index, content) {\n    var result = { start: 0, end: 0 };\n    if (content.length === 0) {\n        return result;\n    }\n    result.start = search(index, content, true);\n    result.end = search(index, content, false);\n    return result;\n}\nexports.find = find;\n/**\n * Test for presence of breakers within content\n * @param content - string to test\n*/\nfunction hasBreakers(content) {\n    BREAKERS_REGEX.lastIndex = 0;\n    return BREAKERS_REGEX.test(content);\n}\nexports.hasBreakers = hasBreakers;\n/**\n * Count the number of pieces when broken by BREAKERS_REGEX\n * ~2.7x faster than WordBreaker.split(content).length\n * @param content - string to break and count\n*/\nfunction wordCount(content) {\n    var count = 1;\n    BREAKERS_REGEX.lastIndex = 0;\n    BREAKERS_REGEX.exec(content);\n    while (BREAKERS_REGEX.lastIndex !== 0) {\n        count++;\n        BREAKERS_REGEX.exec(content);\n    }\n    return count;\n}\nexports.wordCount = wordCount;\nfunction getMaxWordWidth(content, textWidthMeasurer, properties) {\n    var words = split(content);\n    var maxWidth = 0;\n    for (var _i = 0, words_1 = words; _i < words_1.length; _i++) {\n        var w = words_1[_i];\n        properties.text = w;\n        maxWidth = Math.max(maxWidth, textWidthMeasurer(properties));\n    }\n    return maxWidth;\n}\nexports.getMaxWordWidth = getMaxWordWidth;\nfunction split(content) {\n    return content.split(BREAKERS_REGEX);\n}\nfunction getWidth(content, properties, textWidthMeasurer) {\n    properties.text = content;\n    return textWidthMeasurer(properties);\n}\nfunction truncate(content, properties, truncator, maxWidth) {\n    properties.text = content;\n    return truncator(properties, maxWidth);\n}\n/**\n * Split content by breakers (words) and greedy fit as many words\n * into each index in the result based on max width and number of lines\n * e.g. Each index in result corresponds to a line of content\n *      when used by AxisHelper.LabelLayoutStrategy.wordBreak\n * @param content - string to split\n * @param properties - text properties to be used by @param:textWidthMeasurer\n * @param textWidthMeasurer - function to calculate width of given text content\n * @param maxWidth - maximum allowed width of text content in each result\n * @param maxNumLines - maximum number of results we will allow, valid values must be greater than 0\n * @param truncator - (optional) if specified, used as a function to truncate content to a given width\n*/\nfunction splitByWidth(content, properties, textWidthMeasurer, maxWidth, maxNumLines, truncator) {\n    // Default truncator returns string as-is\n    /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\n    truncator = truncator ? truncator : function (properties, maxWidth) { return properties.text; };\n    var result = [];\n    var words = split(content);\n    var usedWidth = 0;\n    var wordsInLine = [];\n    for (var _i = 0, words_2 = words; _i < words_2.length; _i++) {\n        var word = words_2[_i];\n        // Last line? Just add whatever is left\n        if ((maxNumLines > 0) && (result.length >= maxNumLines - 1)) {\n            wordsInLine.push(word);\n            continue;\n        }\n        // Determine width if we add this word\n        // Account for SPACE we will add when joining...\n        var wordWidth = wordsInLine.length === 0\n            ? getWidth(word, properties, textWidthMeasurer)\n            : getWidth(SPACE + word, properties, textWidthMeasurer);\n        // If width would exceed max width,\n        // then push used words and start new split result\n        if (usedWidth + wordWidth > maxWidth) {\n            // Word alone exceeds max width, just add it.\n            if (wordsInLine.length === 0) {\n                result.push(truncate(word, properties, truncator, maxWidth));\n                usedWidth = 0;\n                wordsInLine = [];\n                continue;\n            }\n            result.push(truncate(wordsInLine.join(SPACE), properties, truncator, maxWidth));\n            usedWidth = 0;\n            wordsInLine = [];\n        }\n        // ...otherwise, add word and continue\n        wordsInLine.push(word);\n        usedWidth += wordWidth;\n    }\n    // Push remaining words onto result (if any)\n    if (wordsInLine && wordsInLine.length) {\n        result.push(truncate(wordsInLine.join(SPACE), properties, truncator, maxWidth));\n    }\n    return result;\n}\nexports.splitByWidth = splitByWidth;\n//# sourceMappingURL=wordBreaker.js.map","/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\n// NOTE: this file includes standalone utilities that should have no dependencies on external libraries, including jQuery.\n/**\n * Values are in terms of 'pt'\n * Convert to pixels using PixelConverter.fromPoint\n */\n/**\n * Stored in terms of 'pt'\n * Convert to pixels using PixelConverter.fromPoint\n */\nexport const TextSizeMin = 8;\n/**\n * Stored in terms of 'pt'\n * Convert to pixels using PixelConverter.fromPoint\n */\nexport const TextSizeMax = 40;\nconst TextSizeRange = TextSizeMax - TextSizeMin;\n/**\n * Returns the percentage of this value relative to the TextSizeMax\n * @param textSize - should be given in terms of 'pt'\n */\nexport function getScale(textSize) {\n    return (textSize - TextSizeMin) / TextSizeRange;\n}\n//# sourceMappingURL=textSizeDefaults.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.format = exports.canFormat = void 0;\nvar formatting_1 = require(\"./../formatting\");\nvar formattingEncoder = require(\"./formattingEncoder\");\nvar stringExtensions = require(\"./../stringExtensions\");\nvar globalize_1 = require(\"./../../globalize/globalize\");\nvar _currentCachedFormat;\nvar _currentCachedProcessedFormat;\n// Evaluates if the value can be formatted using the NumberFormat\nfunction canFormat(value) {\n    return value instanceof Date;\n}\nexports.canFormat = canFormat;\n// Formats the date using provided format and culture\nfunction format(value, format, culture) {\n    format = format || \"G\";\n    var isStandard = format.length === 1;\n    try {\n        if (isStandard) {\n            return formatDateStandard(value, format, culture);\n        }\n        else {\n            return formatDateCustom(value, format, culture);\n        }\n    }\n    catch (e) {\n        return formatDateStandard(value, \"G\", culture);\n    }\n}\nexports.format = format;\n// Formats the date using standard format expression\nfunction formatDateStandard(value, format, culture) {\n    // In order to provide parity with .NET we have to support additional set of DateTime patterns.\n    var patterns = culture.calendar.patterns;\n    // Extend supported set of patterns\n    ensurePatterns(culture.calendar);\n    // Handle extended set of formats\n    var output = (0, formatting_1.findDateFormat)(value, format, culture.name);\n    if (output.format.length === 1)\n        format = patterns[output.format];\n    else\n        format = output.format;\n    // need to revisit when globalization is enabled\n    if (!culture) {\n        culture = this.getCurrentCulture();\n    }\n    return globalize_1.Globalize.format(output.value, format, culture);\n}\n// Formats the date using custom format expression\nfunction formatDateCustom(value, format, culture) {\n    var result;\n    var literals = [];\n    format = formattingEncoder.preserveLiterals(format, literals);\n    if (format.indexOf(\"F\") > -1) {\n        // F is not supported so we need to replace the F with f based on the milliseconds\n        // Replace all sequences of F longer than 3 with \"FFF\"\n        format = stringExtensions.replaceAll(format, \"FFFF\", \"FFF\");\n        // Based on milliseconds update the format to use fff\n        var milliseconds = value.getMilliseconds();\n        if (milliseconds % 10 >= 1) {\n            format = stringExtensions.replaceAll(format, \"FFF\", \"fff\");\n        }\n        format = stringExtensions.replaceAll(format, \"FFF\", \"FF\");\n        if ((milliseconds % 100) / 10 >= 1) {\n            format = stringExtensions.replaceAll(format, \"FF\", \"ff\");\n        }\n        format = stringExtensions.replaceAll(format, \"FF\", \"F\");\n        if ((milliseconds % 1000) / 100 >= 1) {\n            format = stringExtensions.replaceAll(format, \"F\", \"f\");\n        }\n        format = stringExtensions.replaceAll(format, \"F\", \"\");\n        if (format === \"\" || format === \"%\")\n            return \"\";\n    }\n    format = processCustomDateTimeFormat(format);\n    result = globalize_1.Globalize.format(value, format, culture);\n    result = localize(result, culture.calendar);\n    result = formattingEncoder.restoreLiterals(result, literals, false);\n    return result;\n}\n// Translates unsupported .NET custom format expressions to the custom expressions supported by JQuery.Globalize\nfunction processCustomDateTimeFormat(format) {\n    if (format === _currentCachedFormat) {\n        return _currentCachedProcessedFormat;\n    }\n    _currentCachedFormat = format;\n    format = (0, formatting_1.fixDateTimeFormat)(format);\n    _currentCachedProcessedFormat = format;\n    return format;\n}\n// Localizes the time separator symbol\nfunction localize(value, dictionary) {\n    var timeSeparator = dictionary[\":\"];\n    if (timeSeparator === \":\") {\n        return value;\n    }\n    var result = \"\";\n    var count = value.length;\n    for (var i = 0; i < count; i++) {\n        var char = value.charAt(i);\n        switch (char) {\n            case \":\":\n                result += timeSeparator;\n                break;\n            default:\n                result += char;\n                break;\n        }\n    }\n    return result;\n}\nfunction ensurePatterns(calendar) {\n    var patterns = calendar.patterns;\n    if (patterns[\"g\"] === undefined) {\n        patterns[\"g\"] = patterns[\"f\"].replace(patterns[\"D\"], patterns[\"d\"]); // Generic: Short date, short time\n        patterns[\"G\"] = patterns[\"F\"].replace(patterns[\"D\"], patterns[\"d\"]); // Generic: Short date, long time\n    }\n}\n//# sourceMappingURL=dateTimeFormat.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.restoreLiterals = exports.preserveLiterals = exports.removeLiterals = void 0;\n// quoted and escaped literal patterns\n// NOTE: the final three cases match .NET behavior\nvar literalPatterns = [\n    \"'[^']*'\",\n    \"\\\"[^\\\"]*\\\"\",\n    \"\\\\\\\\.\",\n    \"'[^']*$\",\n    \"\\\"[^\\\"]*$\",\n    \"\\\\\\\\$\", // backslash at end of string\n];\nvar literalMatcher = new RegExp(literalPatterns.join(\"|\"), \"g\");\n// Unicode U+E000 - U+F8FF is a private area and so we can use the chars from the range to encode the escaped sequences\nfunction removeLiterals(format) {\n    literalMatcher.lastIndex = 0;\n    // just in case consecutive non-literals have some meaning\n    return format.replace(literalMatcher, \"\\uE100\");\n}\nexports.removeLiterals = removeLiterals;\nfunction preserveLiterals(format, literals) {\n    literalMatcher.lastIndex = 0;\n    for (;;) {\n        var match = literalMatcher.exec(format);\n        if (!match)\n            break;\n        var literal = match[0];\n        var literalOffset = literalMatcher.lastIndex - literal.length;\n        var token = String.fromCharCode(0xE100 + literals.length);\n        literals.push(literal);\n        format = format.substring(0, literalOffset) + token + format.substring(literalMatcher.lastIndex);\n        // back to avoid skipping due to removed literal substring\n        literalMatcher.lastIndex = literalOffset + 1;\n    }\n    return format;\n}\nexports.preserveLiterals = preserveLiterals;\nfunction restoreLiterals(format, literals, quoted) {\n    if (quoted === void 0) { quoted = true; }\n    var count = literals.length;\n    for (var i = 0; i < count; i++) {\n        var token = String.fromCharCode(0xE100 + i);\n        var literal = literals[i];\n        if (!quoted) {\n            // caller wants literals to be re-inserted without escaping\n            var firstChar = literal[0];\n            if (firstChar === \"\\\\\" || literal.length === 1 || literal[literal.length - 1] !== firstChar) {\n                // either escaped literal OR quoted literal that's missing the trailing quote\n                // in either case we only remove the leading character\n                literal = literal.substring(1);\n            }\n            else {\n                // so must be a quoted literal with both starting and ending quote\n                literal = literal.substring(1, literal.length - 1);\n            }\n        }\n        format = format.replace(token, literal);\n    }\n    return format;\n}\nexports.restoreLiterals = restoreLiterals;\n//# sourceMappingURL=formattingEncoder.js.map","import * as DataViewObjects from \"./dataViewObjects\";\nexport class DataViewObjectsParser {\n    static getDefault() {\n        return new this();\n    }\n    static createPropertyIdentifier(objectName, propertyName) {\n        return {\n            objectName,\n            propertyName\n        };\n    }\n    static parse(dataView) {\n        const dataViewObjectParser = this.getDefault();\n        if (!dataView || !dataView.metadata || !dataView.metadata.objects) {\n            return dataViewObjectParser;\n        }\n        const properties = dataViewObjectParser.getProperties();\n        for (const objectName in properties) {\n            for (const propertyName in properties[objectName]) {\n                const defaultValue = dataViewObjectParser[objectName][propertyName];\n                dataViewObjectParser[objectName][propertyName] = DataViewObjects.getCommonValue(dataView.metadata.objects, properties[objectName][propertyName], defaultValue);\n            }\n        }\n        return dataViewObjectParser;\n    }\n    static isPropertyEnumerable(propertyName) {\n        return !DataViewObjectsParser.InnumerablePropertyPrefix.test(propertyName);\n    }\n    static enumerateObjectInstances(dataViewObjectParser, options) {\n        const dataViewProperties = dataViewObjectParser && dataViewObjectParser[options.objectName];\n        if (!dataViewProperties) {\n            return [];\n        }\n        const instance = {\n            objectName: options.objectName,\n            selector: null,\n            properties: {}\n        };\n        for (const key in dataViewProperties) {\n            if (Object.prototype.hasOwnProperty.call(dataViewProperties, key)) {\n                instance.properties[key] = dataViewProperties[key];\n            }\n        }\n        return {\n            instances: [instance]\n        };\n    }\n    getProperties() {\n        const properties = {}, objectNames = Object.keys(this);\n        objectNames.forEach((objectName) => {\n            if (DataViewObjectsParser.isPropertyEnumerable(objectName)) {\n                const propertyNames = Object.keys(this[objectName]);\n                properties[objectName] = {};\n                propertyNames.forEach((propertyName) => {\n                    if (DataViewObjectsParser.isPropertyEnumerable(objectName)) {\n                        properties[objectName][propertyName] =\n                            DataViewObjectsParser.createPropertyIdentifier(objectName, propertyName);\n                    }\n                });\n            }\n        });\n        return properties;\n    }\n}\nDataViewObjectsParser.InnumerablePropertyPrefix = /^_/;\n//# sourceMappingURL=dataViewObjectsParser.js.map","import { CompositeCard, SimpleCard } from \"./FormattingSettingsComponents\";\nexport class FormattingSettingsService {\n    constructor(localizationManager) {\n        this.localizationManager = localizationManager;\n    }\n    /**\n     * Build visual formatting settings model from metadata dataView\n     *\n     * @param dataViews metadata dataView object\n     * @returns visual formatting settings model\n     */\n    populateFormattingSettingsModel(typeClass, dataView) {\n        var _a, _b;\n        const defaultSettings = new typeClass();\n        const dataViewObjects = (_a = dataView === null || dataView === void 0 ? void 0 : dataView.metadata) === null || _a === void 0 ? void 0 : _a.objects;\n        if (dataViewObjects) {\n            // loop over each formatting property and set its new value if exists\n            (_b = defaultSettings.cards) === null || _b === void 0 ? void 0 : _b.forEach((card) => {\n                var _a;\n                if (card instanceof CompositeCard)\n                    (_a = card.topLevelSlice) === null || _a === void 0 ? void 0 : _a.setPropertiesValues(dataViewObjects, card.name);\n                const cardGroupInstances = (card instanceof SimpleCard ? [card] : card.groups);\n                cardGroupInstances.forEach((cardGroupInstance) => {\n                    var _a, _b, _c, _d;\n                    // Set current top level toggle value\n                    (_a = cardGroupInstance.topLevelSlice) === null || _a === void 0 ? void 0 : _a.setPropertiesValues(dataViewObjects, card.name);\n                    (_b = cardGroupInstance === null || cardGroupInstance === void 0 ? void 0 : cardGroupInstance.slices) === null || _b === void 0 ? void 0 : _b.forEach((slice) => {\n                        slice === null || slice === void 0 ? void 0 : slice.setPropertiesValues(dataViewObjects, card.name);\n                    });\n                    (_d = (_c = cardGroupInstance === null || cardGroupInstance === void 0 ? void 0 : cardGroupInstance.container) === null || _c === void 0 ? void 0 : _c.containerItems) === null || _d === void 0 ? void 0 : _d.forEach((containerItem) => {\n                        var _a;\n                        (_a = containerItem === null || containerItem === void 0 ? void 0 : containerItem.slices) === null || _a === void 0 ? void 0 : _a.forEach((slice) => {\n                            slice === null || slice === void 0 ? void 0 : slice.setPropertiesValues(dataViewObjects, card.name);\n                        });\n                    });\n                });\n            });\n        }\n        return defaultSettings;\n    }\n    /**\n     * Build formatting model by parsing formatting settings model object\n     *\n     * @returns powerbi visual formatting model\n     */\n    buildFormattingModel(formattingSettingsModel) {\n        const formattingModel = {\n            cards: []\n        };\n        formattingSettingsModel.cards\n            .filter(({ visible = true }) => visible)\n            .forEach((card) => {\n            var _a;\n            const formattingCard = {\n                displayName: (this.localizationManager && card.displayNameKey) ? this.localizationManager.getDisplayName(card.displayNameKey) : card.displayName,\n                description: (this.localizationManager && card.descriptionKey) ? this.localizationManager.getDisplayName(card.descriptionKey) : card.description,\n                groups: [],\n                uid: card.name + \"-card\",\n                analyticsPane: card.analyticsPane,\n            };\n            const objectName = card.name;\n            if (card.topLevelSlice) {\n                const topLevelToggleSlice = card.topLevelSlice.getFormattingSlice(objectName, this.localizationManager);\n                topLevelToggleSlice.suppressDisplayName = true;\n                formattingCard.topLevelToggle = topLevelToggleSlice;\n            }\n            (_a = card.onPreProcess) === null || _a === void 0 ? void 0 : _a.call(card);\n            const isSimpleCard = card instanceof SimpleCard;\n            const cardGroupInstances = (isSimpleCard ?\n                [card].filter(({ visible = true }) => visible) :\n                card.groups.filter(({ visible = true }) => visible));\n            cardGroupInstances\n                .forEach((cardGroupInstance) => {\n                const groupUid = cardGroupInstance.name + \"-group\";\n                // Build formatting group for each group\n                const formattingGroup = {\n                    displayName: isSimpleCard ? undefined : (this.localizationManager && cardGroupInstance.displayNameKey)\n                        ? this.localizationManager.getDisplayName(cardGroupInstance.displayNameKey) : cardGroupInstance.displayName,\n                    description: isSimpleCard ? undefined : (this.localizationManager && cardGroupInstance.descriptionKey)\n                        ? this.localizationManager.getDisplayName(cardGroupInstance.descriptionKey) : cardGroupInstance.description,\n                    slices: [],\n                    uid: groupUid,\n                    collapsible: cardGroupInstance.collapsible,\n                    delaySaveSlices: cardGroupInstance.delaySaveSlices,\n                    disabled: cardGroupInstance.disabled,\n                    disabledReason: cardGroupInstance.disabledReason,\n                };\n                formattingCard.groups.push(formattingGroup);\n                // In case formatting model adds data points or top categories (Like when you modify specific visual category color).\n                // these categories use same object name and property name from capabilities and the generated uid will be the same for these formatting categories properties\n                // Solution => Save slice names to modify each slice uid to be unique by adding counter value to the new slice uid\n                const sliceNames = {};\n                // Build formatting container slice for each property\n                if (cardGroupInstance.container) {\n                    const container = cardGroupInstance.container;\n                    const containerUid = groupUid + \"-container\";\n                    const formattingContainer = {\n                        displayName: (this.localizationManager && container.displayNameKey)\n                            ? this.localizationManager.getDisplayName(container.displayNameKey) : container.displayName,\n                        description: (this.localizationManager && container.descriptionKey)\n                            ? this.localizationManager.getDisplayName(container.descriptionKey) : container.description,\n                        containerItems: [],\n                        uid: containerUid\n                    };\n                    container.containerItems.forEach((containerItem) => {\n                        // Build formatting container item object\n                        const containerIemName = containerItem.displayNameKey ? containerItem.displayNameKey : containerItem.displayName;\n                        const containerItemUid = containerUid + containerIemName;\n                        const formattingContainerItem = {\n                            displayName: (this.localizationManager && containerItem.displayNameKey)\n                                ? this.localizationManager.getDisplayName(containerItem.displayNameKey) : containerItem.displayName,\n                            slices: [],\n                            uid: containerItemUid\n                        };\n                        // Build formatting slices and add them to current formatting container item\n                        this.buildFormattingSlices({ slices: containerItem.slices, objectName, sliceNames, formattingSlices: formattingContainerItem.slices });\n                        formattingContainer.containerItems.push(formattingContainerItem);\n                    });\n                    formattingGroup.container = formattingContainer;\n                }\n                if (cardGroupInstance.slices) {\n                    if (cardGroupInstance.topLevelSlice) {\n                        const topLevelToggleSlice = cardGroupInstance.topLevelSlice.getFormattingSlice(objectName, this.localizationManager);\n                        topLevelToggleSlice.suppressDisplayName = true;\n                        (formattingGroup.displayName == undefined ? formattingCard : formattingGroup).topLevelToggle = topLevelToggleSlice;\n                    }\n                    // Build formatting slice for each property\n                    this.buildFormattingSlices({ slices: cardGroupInstance.slices, objectName, sliceNames, formattingSlices: formattingGroup.slices });\n                }\n            });\n            formattingCard.revertToDefaultDescriptors = this.getRevertToDefaultDescriptor(card);\n            formattingModel.cards.push(formattingCard);\n        });\n        return formattingModel;\n    }\n    buildFormattingSlices({ slices, objectName, sliceNames, formattingSlices }) {\n        // Filter slices based on their visibility\n        slices === null || slices === void 0 ? void 0 : slices.filter(({ visible = true }) => visible).forEach((slice) => {\n            const formattingSlice = slice === null || slice === void 0 ? void 0 : slice.getFormattingSlice(objectName, this.localizationManager);\n            if (formattingSlice) {\n                // Modify formatting slice uid if needed\n                if (sliceNames[slice.name] === undefined) {\n                    sliceNames[slice.name] = 0;\n                }\n                else {\n                    sliceNames[slice.name]++;\n                    formattingSlice.uid = `${formattingSlice.uid}-${sliceNames[slice.name]}`;\n                }\n                formattingSlices.push(formattingSlice);\n            }\n        });\n    }\n    getRevertToDefaultDescriptor(card) {\n        var _a;\n        // Proceeded slice names are saved to prevent duplicated default descriptors in case of using \n        // formatting categories & selectors, since they have the same descriptor objectName and propertyName\n        const sliceNames = {};\n        const revertToDefaultDescriptors = [];\n        let cardSlicesDefaultDescriptors;\n        let cardContainerSlicesDefaultDescriptors = [];\n        // eslint-disable-next-line\n        if (card instanceof CompositeCard && card.topLevelSlice)\n            revertToDefaultDescriptors.push(...(_a = card.topLevelSlice) === null || _a === void 0 ? void 0 : _a.getRevertToDefaultDescriptor(card.name));\n        const cardGroupInstances = (card instanceof SimpleCard ?\n            [card].filter(({ visible = true }) => visible) :\n            card.groups.filter(({ visible = true }) => visible));\n        cardGroupInstances.forEach((cardGroupInstance) => {\n            var _a, _b;\n            cardSlicesDefaultDescriptors = this.getSlicesRevertToDefaultDescriptor(card.name, cardGroupInstance.slices, sliceNames, cardGroupInstance.topLevelSlice);\n            (_b = (_a = cardGroupInstance.container) === null || _a === void 0 ? void 0 : _a.containerItems) === null || _b === void 0 ? void 0 : _b.forEach((containerItem) => {\n                cardContainerSlicesDefaultDescriptors = cardContainerSlicesDefaultDescriptors.concat(this.getSlicesRevertToDefaultDescriptor(card.name, containerItem.slices, sliceNames));\n            });\n            revertToDefaultDescriptors.push(...cardSlicesDefaultDescriptors.concat(cardContainerSlicesDefaultDescriptors));\n        });\n        return revertToDefaultDescriptors;\n    }\n    getSlicesRevertToDefaultDescriptor(cardName, slices, sliceNames, topLevelSlice) {\n        let revertToDefaultDescriptors = [];\n        if (topLevelSlice) {\n            sliceNames[topLevelSlice.name] = true;\n            revertToDefaultDescriptors = revertToDefaultDescriptors.concat(topLevelSlice.getRevertToDefaultDescriptor(cardName));\n        }\n        slices === null || slices === void 0 ? void 0 : slices.forEach((slice) => {\n            if (slice && !sliceNames[slice.name]) {\n                sliceNames[slice.name] = true;\n                revertToDefaultDescriptors = revertToDefaultDescriptors.concat(slice.getRevertToDefaultDescriptor(cardName));\n            }\n        });\n        return revertToDefaultDescriptors;\n    }\n}\nexport default FormattingSettingsService;\n//# sourceMappingURL=FormattingSettingsService.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FamilyInfo = void 0;\nvar FamilyInfo = /** @class */ (function () {\n    function FamilyInfo(families) {\n        this.families = families;\n    }\n    Object.defineProperty(FamilyInfo.prototype, \"family\", {\n        /**\n         * Gets the first font \"wf_\" font family since it will always be loaded.\n         */\n        get: function () {\n            return this.getFamily();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n    * Gets the first font family that matches regex (if provided).\n    * Default regex looks for \"wf_\" fonts which are always loaded.\n    */\n    FamilyInfo.prototype.getFamily = function (regex) {\n        if (regex === void 0) { regex = /^wf_/; }\n        if (!this.families) {\n            return null;\n        }\n        if (regex) {\n            for (var _i = 0, _a = this.families; _i < _a.length; _i++) {\n                var fontFamily = _a[_i];\n                if (regex.test(fontFamily)) {\n                    return fontFamily;\n                }\n            }\n        }\n        return this.families[0];\n    };\n    Object.defineProperty(FamilyInfo.prototype, \"css\", {\n        /**\n         * Gets the CSS string for the \"font-family\" CSS attribute.\n         */\n        get: function () {\n            return this.getCSS();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Gets the CSS string for the \"font-family\" CSS attribute.\n     */\n    FamilyInfo.prototype.getCSS = function () {\n        return this.families ? this.families.map((function (font) { return font.indexOf(\" \") > 0 ? \"'\" + font + \"'\" : font; })).join(\", \") : null;\n    };\n    return FamilyInfo;\n}());\nexports.FamilyInfo = FamilyInfo;\n//# sourceMappingURL=familyInfo.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCustomFormatMetadata = exports.formatWithCustomOverride = exports.format = exports.isStandardFormat = exports.canFormat = exports.getComponents = exports.hasFormatComponents = exports.addDecimalsToFormat = exports.getNumericFormat = exports.NumberFormatComponentsDelimeter = void 0;\n/**\n * NumberFormat module contains the static methods for formatting the numbers.\n * It extends the Globalize functionality to support complete set of .NET\n * formatting expressions for numeric types including custom formats.\n */\n/* eslint-disable no-useless-escape */\nvar globalize_1 = require(\"./../../globalize/globalize\");\n// powerbi.extensibility.utils.type\nvar powerbi_visuals_utils_typeutils_1 = require(\"powerbi-visuals-utils-typeutils\");\n// powerbi.extensibility.utils.formatting\nvar stringExtensions = require(\"./../stringExtensions\");\nvar formattingEncoder = require(\"./formattingEncoder\");\nvar formattingService_1 = require(\"./formattingService\");\nvar NumericalPlaceHolderRegex = /\\{.+\\}/;\nvar ScientificFormatRegex = /e[+-]*[0#]+/i;\nvar StandardFormatRegex = /^[a-z]\\d{0,2}$/i; // a letter + up to 2 digits for precision specifier\nvar TrailingZerosRegex = /0+$/;\nvar DecimalFormatRegex = /\\.([0#]*)/g;\nvar NumericFormatRegex = /[0#,\\.]+[0,#]*/g;\n// (?=...) is a positive lookahead assertion. The RE is asking for the last digit placeholder, [0#],\n// which is followed by non-digit placeholders and the end of string, [^0#]*$. But it only matches\n// the last digit placeholder, not anything that follows because the positive lookahead isn\"t included\n// in the match - it is only a condition.\nvar LastNumericPlaceholderRegex = /([0#])(?=[^0#]*$)/;\nvar DecimalFormatCharacter = \".\";\nvar ZeroPlaceholder = \"0\";\nvar DigitPlaceholder = \"#\";\nvar ExponentialFormatChar = \"E\";\nvar NumericPlaceholders = [ZeroPlaceholder, DigitPlaceholder];\nvar NumericPlaceholderRegex = new RegExp(NumericPlaceholders.join(\"|\"), \"g\");\nexports.NumberFormatComponentsDelimeter = \";\";\nfunction getNonScientificFormatWithPrecision(baseFormat, numericFormat) {\n    if (!numericFormat || baseFormat === undefined)\n        return baseFormat;\n    var newFormat = \"{0:\" + numericFormat + \"}\";\n    return baseFormat.replace(\"{0}\", newFormat);\n}\nfunction getNumericFormat(value, baseFormat) {\n    if (baseFormat == null)\n        return baseFormat;\n    if (hasFormatComponents(baseFormat)) {\n        var _a = getComponents(baseFormat), positive = _a.positive, negative = _a.negative, zero = _a.zero;\n        if (value > 0)\n            return getNumericFormatFromComponent(value, positive);\n        else if (value === 0)\n            return getNumericFormatFromComponent(value, zero);\n        return getNumericFormatFromComponent(value, negative);\n    }\n    return getNumericFormatFromComponent(value, baseFormat);\n}\nexports.getNumericFormat = getNumericFormat;\nfunction getNumericFormatFromComponent(value, format) {\n    var match = powerbi_visuals_utils_typeutils_1.regExpExtensions.run(NumericFormatRegex, format);\n    if (match)\n        return match[0];\n    return format;\n}\nfunction addDecimalsToFormat(baseFormat, decimals, trailingZeros) {\n    if (decimals == null)\n        return baseFormat;\n    // Default format string\n    if (baseFormat == null)\n        baseFormat = ZeroPlaceholder;\n    if (hasFormatComponents(baseFormat)) {\n        var _a = getComponents(baseFormat), positive = _a.positive, negative = _a.negative, zero = _a.zero;\n        var formats = [positive, negative, zero];\n        for (var i = 0; i < formats.length; i++) {\n            // Update format in formats array\n            formats[i] = addDecimalsToFormatComponent(formats[i], decimals, trailingZeros);\n        }\n        return formats.join(exports.NumberFormatComponentsDelimeter);\n    }\n    return addDecimalsToFormatComponent(baseFormat, decimals, trailingZeros);\n}\nexports.addDecimalsToFormat = addDecimalsToFormat;\nfunction addDecimalsToFormatComponent(format, decimals, trailingZeros) {\n    decimals = Math.abs(decimals);\n    if (decimals >= 0) {\n        var literals = [];\n        format = formattingEncoder.preserveLiterals(format, literals);\n        var placeholder = trailingZeros ? ZeroPlaceholder : DigitPlaceholder;\n        var decimalPlaceholders = stringExtensions.repeat(placeholder, Math.abs(decimals));\n        var match = powerbi_visuals_utils_typeutils_1.regExpExtensions.run(DecimalFormatRegex, format);\n        if (match) {\n            var beforeDecimal = format.substring(0, match.index);\n            var formatDecimal = format.substring(match.index + 1, match[1].length + match.index + 1);\n            var afterDecimal = format.substring(match.index + match[0].length);\n            if (trailingZeros)\n                // Use explicit decimals argument as placeholders\n                formatDecimal = decimalPlaceholders;\n            else {\n                var decimalChange = decimalPlaceholders.length - formatDecimal.length;\n                if (decimalChange > 0)\n                    // Append decimalPlaceholders to existing decimal portion of format string\n                    formatDecimal = formatDecimal + decimalPlaceholders.slice(-decimalChange);\n                else if (decimalChange < 0)\n                    // Remove decimals from formatDecimal\n                    formatDecimal = formatDecimal.slice(0, decimalChange);\n            }\n            if (formatDecimal.length > 0)\n                formatDecimal = DecimalFormatCharacter + formatDecimal;\n            format = beforeDecimal + formatDecimal + afterDecimal;\n        }\n        else if (decimalPlaceholders.length > 0) {\n            // Replace last numeric placeholder with decimal portion\n            format = format.replace(LastNumericPlaceholderRegex, \"$1\" + DecimalFormatCharacter + decimalPlaceholders);\n        }\n        if (literals.length !== 0)\n            format = formattingEncoder.restoreLiterals(format, literals);\n    }\n    return format;\n}\nfunction hasFormatComponents(format) {\n    return formattingEncoder.removeLiterals(format).indexOf(exports.NumberFormatComponentsDelimeter) !== -1;\n}\nexports.hasFormatComponents = hasFormatComponents;\nfunction getComponents(format) {\n    var signFormat = {\n        hasNegative: false,\n        positive: format,\n        negative: format,\n        zero: format,\n    };\n    // escape literals so semi-colon in a literal isn't interpreted as a delimiter\n    // NOTE: OK to use the literals extracted here for all three components before since the literals are indexed.\n    // For example, \"'pos-lit';'neg-lit'\" will get preserved as \"\\uE000;\\uE001\" and the literal array will be\n    // ['pos-lit', 'neg-lit']. When the negative components is restored, its \\uE001 will select the second\n    // literal.\n    var literals = [];\n    format = formattingEncoder.preserveLiterals(format, literals);\n    var signSpecificFormats = format.split(exports.NumberFormatComponentsDelimeter);\n    var formatCount = signSpecificFormats.length;\n    if (formatCount > 1) {\n        if (literals.length !== 0)\n            signSpecificFormats = signSpecificFormats.map(function (signSpecificFormat) { return formattingEncoder.restoreLiterals(signSpecificFormat, literals); });\n        signFormat.hasNegative = true;\n        signFormat.positive = signFormat.zero = signSpecificFormats[0];\n        signFormat.negative = signSpecificFormats[1];\n        if (formatCount > 2)\n            signFormat.zero = signSpecificFormats[2];\n    }\n    return signFormat;\n}\nexports.getComponents = getComponents;\nvar _lastCustomFormatMeta;\n// Evaluates if the value can be formatted using the NumberFormat\nfunction canFormat(value) {\n    return typeof (value) === \"number\";\n}\nexports.canFormat = canFormat;\nfunction isStandardFormat(format) {\n    return StandardFormatRegex.test(format);\n}\nexports.isStandardFormat = isStandardFormat;\n// Formats the number using specified format expression and culture\nfunction format(value, format, culture) {\n    format = format || \"G\";\n    try {\n        if (isStandardFormat(format))\n            return formatNumberStandard(value, format, culture);\n        return formatNumberCustom(value, format, culture);\n    }\n    catch (e) {\n        return globalize_1.Globalize.format(value, undefined, culture);\n    }\n}\nexports.format = format;\n// Performs a custom format with a value override.  Typically used for custom formats showing scaled values.\nfunction formatWithCustomOverride(value, format, nonScientificOverrideFormat, culture) {\n    return formatNumberCustom(value, format, culture, nonScientificOverrideFormat);\n}\nexports.formatWithCustomOverride = formatWithCustomOverride;\n// Formats the number using standard format expression\nfunction formatNumberStandard(value, format, culture) {\n    var result;\n    var precision = (format.length > 1 ? parseInt(format.substring(1, format.length), 10) : undefined);\n    var numberFormatInfo = culture.numberFormat;\n    var formatChar = format.charAt(0);\n    var abs = Math.abs(value);\n    switch (formatChar) {\n        case \"e\":\n        case \"E\":\n            if (precision === undefined) {\n                precision = 6;\n            }\n            format = \"0.\" + stringExtensions.repeat(\"0\", precision) + formatChar + \"+000\";\n            result = formatNumberCustom(value, format, culture);\n            break;\n        case \"f\":\n        case \"F\":\n            result = precision !== undefined ? value.toFixed(precision) : value.toFixed(numberFormatInfo.decimals);\n            result = localize(result, numberFormatInfo);\n            break;\n        case \"g\":\n        case \"G\":\n            if (abs === 0 || (1E-4 <= abs && abs < 1E15)) {\n                // For the range of 0.0001 to 1,000,000,000,000,000 - use the normal form\n                result = precision !== undefined ? value.toPrecision(precision) : value.toString();\n            }\n            else {\n                // Otherwise use exponential\n                // Assert that value is a number and fall back on returning value if it is not\n                if (typeof (value) !== \"number\")\n                    return String(value);\n                result = precision !== undefined ? value.toExponential(precision) : value.toExponential();\n                result = result.replace(\"e\", \"E\");\n            }\n            result = localize(result, numberFormatInfo);\n            break;\n        case \"r\":\n        case \"R\":\n            result = value.toString();\n            result = localize(result, numberFormatInfo);\n            break;\n        case \"x\":\n        case \"X\":\n            result = value.toString(16);\n            if (formatChar === \"X\") {\n                result = result.toUpperCase();\n            }\n            if (precision !== undefined) {\n                var actualPrecision = result.length;\n                var isNegative = value < 0;\n                if (isNegative) {\n                    actualPrecision--;\n                }\n                var paddingZerosCount = precision - actualPrecision;\n                var paddingZeros = undefined;\n                if (paddingZerosCount > 0) {\n                    paddingZeros = stringExtensions.repeat(\"0\", paddingZerosCount);\n                }\n                if (isNegative) {\n                    result = \"-\" + paddingZeros + result.substring(1);\n                }\n                else {\n                    result = paddingZeros + result;\n                }\n            }\n            result = localize(result, numberFormatInfo);\n            break;\n        default:\n            result = globalize_1.Globalize.format(value, format, culture);\n    }\n    return result;\n}\n// Formats the number using custom format expression\nfunction formatNumberCustom(value, format, culture, nonScientificOverrideFormat) {\n    var result;\n    var numberFormatInfo = culture.numberFormat;\n    if (isFinite(value)) {\n        // Split format by positive[;negative;zero] pattern\n        var formatComponents = getComponents(format);\n        // Pick a format based on the sign of value\n        if (value > 0) {\n            format = formatComponents.positive;\n        }\n        else if (value === 0) {\n            format = formatComponents.zero;\n        }\n        else {\n            format = formatComponents.negative;\n        }\n        // Normalize value if we have an explicit negative format\n        if (formatComponents.hasNegative)\n            value = Math.abs(value);\n        // Get format metadata\n        var formatMeta = getCustomFormatMetadata(format, true /*calculatePrecision*/);\n        // Preserve literals and escaped chars\n        var literals = [];\n        if (formatMeta.hasLiterals) {\n            format = formattingEncoder.preserveLiterals(format, literals);\n        }\n        // Scientific format\n        if (formatMeta.hasE && !nonScientificOverrideFormat) {\n            var scientificMatch = powerbi_visuals_utils_typeutils_1.regExpExtensions.run(ScientificFormatRegex, format);\n            if (scientificMatch) {\n                // Case 2.1. Scientific custom format\n                var formatM = format.substring(0, scientificMatch.index);\n                var formatE = format.substring(scientificMatch.index + 2); // E(+|-)\n                var precision = getCustomFormatPrecision(formatM, formatMeta);\n                var scale = getCustomFormatScale(formatM, formatMeta);\n                if (scale !== 1) {\n                    value = value * scale;\n                }\n                // Assert that value is a number and fall back on returning value if it is not\n                if (typeof (value) !== \"number\")\n                    return String(value);\n                var s = value.toExponential(precision);\n                var indexOfE = s.indexOf(\"e\");\n                var mantissa = s.substring(0, indexOfE);\n                var exp = s.substring(indexOfE + 1);\n                var resultM = fuseNumberWithCustomFormat(mantissa, formatM, numberFormatInfo);\n                var resultE = fuseNumberWithCustomFormat(exp, formatE, numberFormatInfo);\n                if (resultE.charAt(0) === \"+\" && scientificMatch[0].charAt(1) !== \"+\") {\n                    resultE = resultE.substring(1);\n                }\n                var e = scientificMatch[0].charAt(0);\n                result = resultM + e + resultE;\n            }\n        }\n        // Non scientific format\n        if (result === undefined) {\n            var valueFormatted = void 0;\n            var isValueGlobalized = false;\n            var precision = getCustomFormatPrecision(format, formatMeta);\n            var scale = getCustomFormatScale(format, formatMeta);\n            if (scale !== 1)\n                value = value * scale;\n            // Rounding\n            value = parseFloat(toNonScientific(value, precision));\n            if (!isFinite(value)) {\n                // very large and small finite values can become infinite by parseFloat(toNonScientific())\n                return globalize_1.Globalize.format(value, undefined);\n            }\n            if (nonScientificOverrideFormat) {\n                // Get numeric format from format string\n                var numericFormat = getNumericFormat(value, format);\n                // Add separators and decimalFormat to nonScientificFormat\n                nonScientificOverrideFormat = getNonScientificFormatWithPrecision(nonScientificOverrideFormat, numericFormat);\n                // Format the value\n                valueFormatted = formattingService_1.formattingService.format(nonScientificOverrideFormat, [value], culture.name);\n                isValueGlobalized = true;\n            }\n            else\n                valueFormatted = toNonScientific(value, precision);\n            result = fuseNumberWithCustomFormat(valueFormatted, format, numberFormatInfo, nonScientificOverrideFormat, isValueGlobalized);\n        }\n        if (formatMeta.hasLiterals) {\n            result = formattingEncoder.restoreLiterals(result, literals, false);\n        }\n        _lastCustomFormatMeta = formatMeta;\n    }\n    else {\n        return globalize_1.Globalize.format(value, undefined);\n    }\n    return result;\n}\n// Returns string with the fixed point respresentation of the number\nfunction toNonScientific(value, precision) {\n    var result = \"\";\n    var precisionZeros = 0;\n    // Double precision numbers support actual 15-16 decimal digits of precision.\n    if (precision > 16) {\n        precisionZeros = precision - 16;\n        precision = 16;\n    }\n    var digitsBeforeDecimalPoint = powerbi_visuals_utils_typeutils_1.double.log10(Math.abs(value));\n    if (digitsBeforeDecimalPoint < 16) {\n        if (digitsBeforeDecimalPoint > 0) {\n            var maxPrecision = 16 - digitsBeforeDecimalPoint;\n            if (precision > maxPrecision) {\n                precisionZeros += precision - maxPrecision;\n                precision = maxPrecision;\n            }\n        }\n        result = value.toFixed(precision);\n    }\n    else if (digitsBeforeDecimalPoint === 16) {\n        result = value.toFixed(0);\n        precisionZeros += precision;\n        if (precisionZeros > 0) {\n            result += \".\";\n        }\n    }\n    else { // digitsBeforeDecimalPoint > 16\n        // Different browsers have different implementations of the toFixed().\n        // In IE it returns fixed format no matter what's the number. In FF and Chrome the method returns exponential format for numbers greater than 1E21.\n        // So we need to check for range and convert the to exponential with the max precision.\n        // Then we convert exponential string to fixed by removing the dot and padding with \"power\" zeros.\n        // Assert that value is a number and fall back on returning value if it is not\n        if (typeof (value) !== \"number\")\n            return String(value);\n        result = value.toExponential(15);\n        var indexOfE = result.indexOf(\"e\");\n        if (indexOfE > 0) {\n            var indexOfDot = result.indexOf(\".\");\n            var mantissa = result.substring(0, indexOfE);\n            var exp = result.substring(indexOfE + 1);\n            var powerZeros = parseInt(exp, 10) - (mantissa.length - indexOfDot - 1);\n            result = mantissa.replace(\".\", \"\") + stringExtensions.repeat(\"0\", powerZeros);\n            if (precision > 0) {\n                result = result + \".\" + stringExtensions.repeat(\"0\", precision);\n            }\n        }\n    }\n    if (precisionZeros > 0) {\n        result = result + stringExtensions.repeat(\"0\", precisionZeros);\n    }\n    return result;\n}\n/**\n * Returns the formatMetadata of the format\n * When calculating precision and scale, if format string of\n * positive[;negative;zero] => positive format will be used\n * @param (required) format - format string\n * @param (optional) calculatePrecision - calculate precision of positive format\n * @param (optional) calculateScale - calculate scale of positive format\n */\nfunction getCustomFormatMetadata(format, calculatePrecision, calculateScale, calculatePartsPerScale) {\n    if (_lastCustomFormatMeta !== undefined && format === _lastCustomFormatMeta.format) {\n        return _lastCustomFormatMeta;\n    }\n    var literals = [];\n    var escaped = formattingEncoder.preserveLiterals(format, literals);\n    var result = {\n        format: format,\n        hasLiterals: literals.length !== 0,\n        hasE: false,\n        hasCommas: false,\n        hasDots: false,\n        hasPercent: false,\n        hasPermile: false,\n        precision: undefined,\n        scale: undefined,\n        partsPerScale: undefined,\n    };\n    for (var i = 0, length_1 = escaped.length; i < length_1; i++) {\n        var c = escaped.charAt(i);\n        switch (c) {\n            case \"e\":\n            case \"E\":\n                result.hasE = true;\n                break;\n            case \",\":\n                result.hasCommas = true;\n                break;\n            case \".\":\n                result.hasDots = true;\n                break;\n            case \"%\":\n                result.hasPercent = true;\n                break;\n            case \"\\u2030\": // \n                result.hasPermile = true;\n                break;\n        }\n    }\n    // Use positive format for calculating these values\n    var formatComponents = getComponents(format);\n    if (calculatePrecision)\n        result.precision = getCustomFormatPrecision(formatComponents.positive, result);\n    if (calculatePartsPerScale)\n        result.partsPerScale = getCustomFormatPartsPerScale(formatComponents.positive, result);\n    if (calculateScale)\n        result.scale = getCustomFormatScale(formatComponents.positive, result);\n    return result;\n}\nexports.getCustomFormatMetadata = getCustomFormatMetadata;\n/** Returns the decimal precision of format based on the number of # and 0 chars after the decimal point\n     * Important: The input format string needs to be split to the appropriate pos/neg/zero portion to work correctly */\nfunction getCustomFormatPrecision(format, formatMeta) {\n    if (formatMeta.precision > -1) {\n        return formatMeta.precision;\n    }\n    var result = 0;\n    if (formatMeta.hasDots) {\n        if (formatMeta.hasLiterals) {\n            format = formattingEncoder.removeLiterals(format);\n        }\n        var dotIndex = format.indexOf(\".\");\n        if (dotIndex > -1) {\n            var count = format.length;\n            for (var i = dotIndex; i < count; i++) {\n                var char = format.charAt(i);\n                if (char.match(NumericPlaceholderRegex))\n                    result++;\n                // 0.00E+0 :: Break before counting 0 in\n                // exponential portion of format string\n                if (char === ExponentialFormatChar)\n                    break;\n            }\n            result = Math.min(19, result);\n        }\n    }\n    formatMeta.precision = result;\n    return result;\n}\nfunction getCustomFormatPartsPerScale(format, formatMeta) {\n    if (formatMeta.partsPerScale != null)\n        return formatMeta.partsPerScale;\n    var result = 1;\n    if (formatMeta.hasPercent && format.indexOf(\"%\") > -1) {\n        result = result * 100;\n    }\n    if (formatMeta.hasPermile && format.indexOf(/*  */ \"\\u2030\") > -1) {\n        result = result * 1000;\n    }\n    formatMeta.partsPerScale = result;\n    return result;\n}\n// Returns the scale factor of the format based on the \"%\" and scaling \",\" chars in the format\nfunction getCustomFormatScale(format, formatMeta) {\n    if (formatMeta.scale > -1) {\n        return formatMeta.scale;\n    }\n    var result = getCustomFormatPartsPerScale(format, formatMeta);\n    if (formatMeta.hasCommas) {\n        var dotIndex = format.indexOf(\".\");\n        if (dotIndex === -1) {\n            dotIndex = format.length;\n        }\n        for (var i = dotIndex - 1; i > -1; i--) {\n            var char = format.charAt(i);\n            if (char === \",\") {\n                result = result / 1000;\n            }\n            else {\n                break;\n            }\n        }\n    }\n    formatMeta.scale = result;\n    return result;\n}\nfunction fuseNumberWithCustomFormat(value, format, numberFormatInfo, nonScientificOverrideFormat, isValueGlobalized) {\n    var suppressModifyValue = !!nonScientificOverrideFormat;\n    var formatParts = format.split(\".\", 2);\n    if (formatParts.length === 2) {\n        var wholeFormat = formatParts[0];\n        var fractionFormat = formatParts[1];\n        var displayUnit = \"\";\n        // Remove display unit from value before splitting on \".\" as localized display units sometimes end with \".\"\n        if (nonScientificOverrideFormat) {\n            displayUnit = nonScientificOverrideFormat.replace(NumericalPlaceHolderRegex, \"\");\n            value = value.replace(displayUnit, \"\");\n        }\n        var globalizedDecimalSeparator = numberFormatInfo[\".\"];\n        var decimalSeparator = isValueGlobalized ? globalizedDecimalSeparator : \".\";\n        var valueParts = value.split(decimalSeparator, 2);\n        var wholeValue = valueParts.length === 1 ? valueParts[0] + displayUnit : valueParts[0];\n        var fractionValue = valueParts.length === 2 ? valueParts[1] + displayUnit : \"\";\n        fractionValue = fractionValue.replace(TrailingZerosRegex, \"\");\n        var wholeFormattedValue = fuseNumberWithCustomFormatLeft(wholeValue, wholeFormat, numberFormatInfo, suppressModifyValue);\n        var fractionFormattedValue = fuseNumberWithCustomFormatRight(fractionValue, fractionFormat, suppressModifyValue);\n        if (fractionFormattedValue.fmtOnly || fractionFormattedValue.value === \"\")\n            return wholeFormattedValue + fractionFormattedValue.value;\n        return wholeFormattedValue + globalizedDecimalSeparator + fractionFormattedValue.value;\n    }\n    return fuseNumberWithCustomFormatLeft(value, format, numberFormatInfo, suppressModifyValue);\n}\nfunction fuseNumberWithCustomFormatLeft(value, format, numberFormatInfo, suppressModifyValue) {\n    var groupSymbolIndex = format.indexOf(\",\");\n    var enableGroups = groupSymbolIndex > -1 && groupSymbolIndex < Math.max(format.lastIndexOf(\"0\"), format.lastIndexOf(\"#\")) && numberFormatInfo[\",\"];\n    var groupDigitCount = 0;\n    var groupIndex = 0;\n    var groupSizes = numberFormatInfo.groupSizes || [3];\n    var groupSize = groupSizes[0];\n    var groupSeparator = numberFormatInfo[\",\"];\n    var sign = \"\";\n    var firstChar = value.charAt(0);\n    if (firstChar === \"+\" || firstChar === \"-\") {\n        sign = numberFormatInfo[firstChar];\n        value = value.substring(1);\n    }\n    var isZero = value === \"0\";\n    var result = \"\";\n    var leftBuffer = \"\";\n    var vi = value.length - 1;\n    var fmtOnly = true;\n    // Iterate through format chars and replace 0 and # with the digits from the value string\n    for (var fi = format.length - 1; fi > -1; fi--) {\n        var formatChar = format.charAt(fi);\n        switch (formatChar) {\n            case ZeroPlaceholder:\n            case DigitPlaceholder:\n                fmtOnly = false;\n                if (leftBuffer !== \"\") {\n                    result = leftBuffer + result;\n                    leftBuffer = \"\";\n                }\n                if (!suppressModifyValue) {\n                    if (vi > -1 || formatChar === ZeroPlaceholder) {\n                        if (enableGroups) {\n                            // If the groups are enabled we'll need to keep track of the current group index and periodically insert group separator,\n                            if (groupDigitCount === groupSize) {\n                                result = groupSeparator + result;\n                                groupIndex++;\n                                if (groupIndex < groupSizes.length) {\n                                    groupSize = groupSizes[groupIndex];\n                                }\n                                groupDigitCount = 1;\n                            }\n                            else {\n                                groupDigitCount++;\n                            }\n                        }\n                    }\n                    if (vi > -1) {\n                        if (isZero && formatChar === DigitPlaceholder) {\n                            // Special case - if we need to format a zero value and the # symbol is used - we don't copy it into the result)\n                        }\n                        else {\n                            result = value.charAt(vi) + result;\n                        }\n                        vi--;\n                    }\n                    else if (formatChar !== DigitPlaceholder) {\n                        result = formatChar + result;\n                    }\n                }\n                break;\n            case \",\":\n                // We should skip all the , chars\n                break;\n            default:\n                leftBuffer = formatChar + leftBuffer;\n                break;\n        }\n    }\n    // If the value didn't fit into the number of zeros provided in the format then we should insert the missing part of the value into the result\n    if (!suppressModifyValue) {\n        if (vi > -1 && result !== \"\") {\n            if (enableGroups) {\n                while (vi > -1) {\n                    if (groupDigitCount === groupSize) {\n                        result = groupSeparator + result;\n                        groupIndex++;\n                        if (groupIndex < groupSizes.length) {\n                            groupSize = groupSizes[groupIndex];\n                        }\n                        groupDigitCount = 1;\n                    }\n                    else {\n                        groupDigitCount++;\n                    }\n                    result = value.charAt(vi) + result;\n                    vi--;\n                }\n            }\n            else {\n                result = value.substring(0, vi + 1) + result;\n            }\n        }\n        // Insert sign in front of the leftBuffer and result\n        return sign + leftBuffer + result;\n    }\n    if (fmtOnly)\n        // If the format doesn't specify any digits to be displayed, then just return the format we've parsed up until now.\n        return sign + leftBuffer + result;\n    return sign + leftBuffer + value + result;\n}\nfunction fuseNumberWithCustomFormatRight(value, format, suppressModifyValue) {\n    var formatLength = format.length;\n    var valueLength = value.length;\n    if (suppressModifyValue) {\n        var lastChar = format.charAt(formatLength - 1);\n        if (!lastChar.match(NumericPlaceholderRegex))\n            return {\n                value: value + lastChar,\n                fmtOnly: value === \"\",\n            };\n        return {\n            value: value,\n            fmtOnly: value === \"\",\n        };\n    }\n    var result = \"\", fmtOnly = true, vi = 0;\n    for (var fi = 0; fi < formatLength; fi++) {\n        var formatChar = format.charAt(fi);\n        if (vi < valueLength) {\n            switch (formatChar) {\n                case ZeroPlaceholder:\n                case DigitPlaceholder:\n                    result += value[vi++];\n                    fmtOnly = false;\n                    break;\n                default:\n                    result += formatChar;\n            }\n        }\n        else {\n            if (formatChar !== DigitPlaceholder) {\n                result += formatChar;\n                fmtOnly = fmtOnly && (formatChar !== ZeroPlaceholder);\n            }\n        }\n    }\n    return {\n        value: result,\n        fmtOnly: fmtOnly,\n    };\n}\nfunction localize(value, dictionary) {\n    var plus = dictionary[\"+\"];\n    var minus = dictionary[\"-\"];\n    var dot = dictionary[\".\"];\n    var comma = dictionary[\",\"];\n    if (plus === \"+\" && minus === \"-\" && dot === \".\" && comma === \",\") {\n        return value;\n    }\n    var count = value.length;\n    var result = \"\";\n    for (var i = 0; i < count; i++) {\n        var char = value.charAt(i);\n        switch (char) {\n            case \"+\":\n                result = result + plus;\n                break;\n            case \"-\":\n                result = result + minus;\n                break;\n            case \".\":\n                result = result + dot;\n                break;\n            case \",\":\n                result = result + comma;\n                break;\n            default:\n                result = result + char;\n                break;\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=numberFormat.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DateTimeSequence = void 0;\nvar dateUtils = require(\"./dateUtils\");\n// powerbi.extensibility.utils.type\nvar powerbi_visuals_utils_typeutils_1 = require(\"powerbi-visuals-utils-typeutils\");\nvar NumericSequence = powerbi_visuals_utils_typeutils_1.numericSequence.NumericSequence;\nvar NumericSequenceRange = powerbi_visuals_utils_typeutils_1.numericSequenceRange.NumericSequenceRange;\n// powerbi.extensibility.utils.formatting\nvar iFormattingService_1 = require(\"./../formattingService/iFormattingService\");\n// Repreasents the sequence of the dates/times\nvar DateTimeSequence = /** @class */ (function () {\n    // Constructors\n    // Creates new instance of the DateTimeSequence\n    function DateTimeSequence(unit) {\n        this.unit = unit;\n        this.sequence = [];\n        this.min = new Date(\"9999-12-31T23:59:59.999\");\n        this.max = new Date(\"0001-01-01T00:00:00.000\");\n    }\n    // Methods\n    /**\n     * Add a new Date to a sequence.\n     * @param date - date to add\n     */\n    DateTimeSequence.prototype.add = function (date) {\n        if (date < this.min) {\n            this.min = date;\n        }\n        if (date > this.max) {\n            this.max = date;\n        }\n        this.sequence.push(date);\n    };\n    // Methods\n    /**\n     * Extends the sequence to cover new date range\n     * @param min - new min to be covered by sequence\n     * @param max - new max to be covered by sequence\n     */\n    DateTimeSequence.prototype.extendToCover = function (min, max) {\n        var x = this.min;\n        while (min < x) {\n            x = DateTimeSequence.ADD_INTERVAL(x, -this.interval, this.unit);\n            this.sequence.splice(0, 0, x);\n        }\n        this.min = x;\n        x = this.max;\n        while (x < max) {\n            x = DateTimeSequence.ADD_INTERVAL(x, this.interval, this.unit);\n            this.sequence.push(x);\n        }\n        this.max = x;\n    };\n    /**\n     * Move the sequence to cover new date range\n     * @param min - new min to be covered by sequence\n     * @param max - new max to be covered by sequence\n     */\n    DateTimeSequence.prototype.moveToCover = function (min, max) {\n        var delta = DateTimeSequence.getDelta(min, max, this.unit);\n        var count = Math.floor(delta / this.interval);\n        this.min = DateTimeSequence.ADD_INTERVAL(this.min, count * this.interval, this.unit);\n        this.sequence = [];\n        this.sequence.push(this.min);\n        this.max = this.min;\n        while (this.max < max) {\n            this.max = DateTimeSequence.ADD_INTERVAL(this.max, this.interval, this.unit);\n            this.sequence.push(this.max);\n        }\n    };\n    // Static\n    /**\n     * Calculate a new DateTimeSequence\n     * @param dataMin - Date representing min of the data range\n     * @param dataMax - Date representing max of the data range\n     * @param expectedCount - expected number of intervals in the sequence\n     * @param unit - of the intervals in the sequence\n     */\n    DateTimeSequence.CALCULATE = function (dataMin, dataMax, expectedCount, unit) {\n        if (!unit) {\n            unit = DateTimeSequence.GET_INTERVAL_UNIT(dataMin, dataMax, expectedCount);\n        }\n        switch (unit) {\n            case iFormattingService_1.DateTimeUnit.Year:\n                return DateTimeSequence.CALCULATE_YEARS(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Month:\n                return DateTimeSequence.CALCULATE_MONTHS(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Week:\n                return DateTimeSequence.CALCULATE_WEEKS(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Day:\n                return DateTimeSequence.CALCULATE_DAYS(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Hour:\n                return DateTimeSequence.CALCULATE_HOURS(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Minute:\n                return DateTimeSequence.CALCULATE_MINUTES(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Second:\n                return DateTimeSequence.CALCULATE_SECONDS(dataMin, dataMax, expectedCount);\n            case iFormattingService_1.DateTimeUnit.Millisecond:\n                return DateTimeSequence.CALCULATE_MILLISECONDS(dataMin, dataMax, expectedCount);\n        }\n    };\n    DateTimeSequence.CALCULATE_YEARS = function (dataMin, dataMax, expectedCount) {\n        // Calculate range and sequence\n        var yearsRange = NumericSequenceRange.calculateDataRange(dataMin.getFullYear(), dataMax.getFullYear(), false);\n        // Calculate year sequence\n        var sequence = NumericSequence.calculate(NumericSequenceRange.calculate(0, yearsRange.max - yearsRange.min), expectedCount, 0, null, null, [1, 2, 5]);\n        var newMinYear = Math.floor(yearsRange.min / sequence.interval) * sequence.interval;\n        var date = new Date(newMinYear, 0, 1);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Year);\n    };\n    DateTimeSequence.CALCULATE_MONTHS = function (dataMin, dataMax, expectedCount) {\n        // Calculate range\n        var minYear = dataMin.getFullYear();\n        var maxYear = dataMax.getFullYear();\n        var minMonth = dataMin.getMonth();\n        var maxMonth = (maxYear - minYear) * 12 + dataMax.getMonth();\n        var date = new Date(minYear, 0, 1);\n        // Calculate month sequence\n        var sequence = NumericSequence.calculateUnits(minMonth, maxMonth, expectedCount, [1, 2, 3, 6, 12]);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Month);\n    };\n    DateTimeSequence.CALCULATE_WEEKS = function (dataMin, dataMax, expectedCount) {\n        var firstDayOfWeek = 0;\n        var minDayOfWeek = dataMin.getDay();\n        var dayOffset = (minDayOfWeek - firstDayOfWeek + 7) % 7;\n        var minDay = dataMin.getDate() - dayOffset;\n        // Calculate range\n        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), minDay);\n        var min = 0;\n        var max = powerbi_visuals_utils_typeutils_1.double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, iFormattingService_1.DateTimeUnit.Week));\n        // Calculate week sequence\n        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 4, 8]);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Week);\n    };\n    DateTimeSequence.CALCULATE_DAYS = function (dataMin, dataMax, expectedCount) {\n        // Calculate range\n        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate());\n        var min = 0;\n        var max = powerbi_visuals_utils_typeutils_1.double.ceilWithPrecision(DateTimeSequence.getDelta(dataMin, dataMax, iFormattingService_1.DateTimeUnit.Day));\n        // Calculate day sequence\n        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 7, 14]);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Day);\n    };\n    DateTimeSequence.CALCULATE_HOURS = function (dataMin, dataMax, expectedCount) {\n        // Calculate range\n        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate());\n        var min = powerbi_visuals_utils_typeutils_1.double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, iFormattingService_1.DateTimeUnit.Hour));\n        var max = powerbi_visuals_utils_typeutils_1.double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, iFormattingService_1.DateTimeUnit.Hour));\n        // Calculate hour sequence\n        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 3, 6, 12, 24]);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Hour);\n    };\n    DateTimeSequence.CALCULATE_MINUTES = function (dataMin, dataMax, expectedCount) {\n        // Calculate range\n        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours());\n        var min = powerbi_visuals_utils_typeutils_1.double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, iFormattingService_1.DateTimeUnit.Minute));\n        var max = powerbi_visuals_utils_typeutils_1.double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, iFormattingService_1.DateTimeUnit.Minute));\n        // Calculate minutes numeric sequence\n        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 5, 10, 15, 30, 60, 60 * 2, 60 * 3, 60 * 6, 60 * 12, 60 * 24]);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Minute);\n    };\n    DateTimeSequence.CALCULATE_SECONDS = function (dataMin, dataMax, expectedCount) {\n        // Calculate range\n        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours(), dataMin.getMinutes());\n        var min = powerbi_visuals_utils_typeutils_1.double.floorWithPrecision(DateTimeSequence.getDelta(date, dataMin, iFormattingService_1.DateTimeUnit.Second));\n        var max = powerbi_visuals_utils_typeutils_1.double.ceilWithPrecision(DateTimeSequence.getDelta(date, dataMax, iFormattingService_1.DateTimeUnit.Second));\n        // Calculate minutes numeric sequence\n        var sequence = NumericSequence.calculateUnits(min, max, expectedCount, [1, 2, 5, 10, 15, 30, 60, 60 * 2, 60 * 5, 60 * 10, 60 * 15, 60 * 30, 60 * 60]);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Second);\n    };\n    DateTimeSequence.CALCULATE_MILLISECONDS = function (dataMin, dataMax, expectedCount) {\n        // Calculate range\n        var date = new Date(dataMin.getFullYear(), dataMin.getMonth(), dataMin.getDate(), dataMin.getHours(), dataMin.getMinutes(), dataMin.getSeconds());\n        var min = DateTimeSequence.getDelta(date, dataMin, iFormattingService_1.DateTimeUnit.Millisecond);\n        var max = DateTimeSequence.getDelta(date, dataMax, iFormattingService_1.DateTimeUnit.Millisecond);\n        // Calculate milliseconds numeric sequence\n        var sequence = NumericSequence.calculate(NumericSequenceRange.calculate(min, max), expectedCount, 0);\n        // Convert to date sequence\n        return DateTimeSequence.fromNumericSequence(date, sequence, iFormattingService_1.DateTimeUnit.Millisecond);\n    };\n    DateTimeSequence.ADD_INTERVAL = function (value, interval, unit) {\n        interval = Math.round(interval);\n        switch (unit) {\n            case iFormattingService_1.DateTimeUnit.Year:\n                return dateUtils.addYears(value, interval);\n            case iFormattingService_1.DateTimeUnit.Month:\n                return dateUtils.addMonths(value, interval);\n            case iFormattingService_1.DateTimeUnit.Week:\n                return dateUtils.addWeeks(value, interval);\n            case iFormattingService_1.DateTimeUnit.Day:\n                return dateUtils.addDays(value, interval);\n            case iFormattingService_1.DateTimeUnit.Hour:\n                return dateUtils.addHours(value, interval);\n            case iFormattingService_1.DateTimeUnit.Minute:\n                return dateUtils.addMinutes(value, interval);\n            case iFormattingService_1.DateTimeUnit.Second:\n                return dateUtils.addSeconds(value, interval);\n            case iFormattingService_1.DateTimeUnit.Millisecond:\n                return dateUtils.addMilliseconds(value, interval);\n        }\n    };\n    DateTimeSequence.fromNumericSequence = function (date, sequence, unit) {\n        var result = new DateTimeSequence(unit);\n        for (var i = 0; i < sequence.sequence.length; i++) {\n            var x = sequence.sequence[i];\n            var d = DateTimeSequence.ADD_INTERVAL(date, x, unit);\n            result.add(d);\n        }\n        result.interval = sequence.interval;\n        result.intervalOffset = sequence.intervalOffset;\n        return result;\n    };\n    DateTimeSequence.getDelta = function (min, max, unit) {\n        var delta = 0;\n        switch (unit) {\n            case iFormattingService_1.DateTimeUnit.Year:\n                delta = max.getFullYear() - min.getFullYear();\n                break;\n            case iFormattingService_1.DateTimeUnit.Month:\n                delta = (max.getFullYear() - min.getFullYear()) * 12 + max.getMonth() - min.getMonth();\n                break;\n            case iFormattingService_1.DateTimeUnit.Week:\n                delta = (max.getTime() - min.getTime()) / (7 * 24 * 3600000);\n                break;\n            case iFormattingService_1.DateTimeUnit.Day:\n                delta = (max.getTime() - min.getTime()) / (24 * 3600000);\n                break;\n            case iFormattingService_1.DateTimeUnit.Hour:\n                delta = (max.getTime() - min.getTime()) / 3600000;\n                break;\n            case iFormattingService_1.DateTimeUnit.Minute:\n                delta = (max.getTime() - min.getTime()) / 60000;\n                break;\n            case iFormattingService_1.DateTimeUnit.Second:\n                delta = (max.getTime() - min.getTime()) / 1000;\n                break;\n            case iFormattingService_1.DateTimeUnit.Millisecond:\n                delta = max.getTime() - min.getTime();\n                break;\n        }\n        return delta;\n    };\n    DateTimeSequence.GET_INTERVAL_UNIT = function (min, max, maxCount) {\n        maxCount = Math.max(maxCount, 2);\n        var totalDays = DateTimeSequence.getDelta(min, max, iFormattingService_1.DateTimeUnit.Day);\n        if (totalDays > 356 && totalDays >= 30 * 6 * maxCount)\n            return iFormattingService_1.DateTimeUnit.Year;\n        if (totalDays > 60 && totalDays > 7 * maxCount)\n            return iFormattingService_1.DateTimeUnit.Month;\n        if (totalDays > 14 && totalDays > 2 * maxCount)\n            return iFormattingService_1.DateTimeUnit.Week;\n        var totalHours = DateTimeSequence.getDelta(min, max, iFormattingService_1.DateTimeUnit.Hour);\n        if (totalDays > 2 && totalHours > 12 * maxCount)\n            return iFormattingService_1.DateTimeUnit.Day;\n        if (totalHours >= 24 && totalHours >= maxCount)\n            return iFormattingService_1.DateTimeUnit.Hour;\n        var totalMinutes = DateTimeSequence.getDelta(min, max, iFormattingService_1.DateTimeUnit.Minute);\n        if (totalMinutes > 2 && totalMinutes >= maxCount)\n            return iFormattingService_1.DateTimeUnit.Minute;\n        var totalSeconds = DateTimeSequence.getDelta(min, max, iFormattingService_1.DateTimeUnit.Second);\n        if (totalSeconds > 2 && totalSeconds >= 0.8 * maxCount)\n            return iFormattingService_1.DateTimeUnit.Second;\n        var totalMilliseconds = DateTimeSequence.getDelta(min, max, iFormattingService_1.DateTimeUnit.Millisecond);\n        if (totalMilliseconds > 0)\n            return iFormattingService_1.DateTimeUnit.Millisecond;\n        // If the size of the range is 0 we need to guess the unit based on the date's non-zero values starting with milliseconds\n        var date = min;\n        if (date.getMilliseconds() !== 0)\n            return iFormattingService_1.DateTimeUnit.Millisecond;\n        if (date.getSeconds() !== 0)\n            return iFormattingService_1.DateTimeUnit.Second;\n        if (date.getMinutes() !== 0)\n            return iFormattingService_1.DateTimeUnit.Minute;\n        if (date.getHours() !== 0)\n            return iFormattingService_1.DateTimeUnit.Hour;\n        if (date.getDate() !== 1)\n            return iFormattingService_1.DateTimeUnit.Day;\n        if (date.getMonth() !== 0)\n            return iFormattingService_1.DateTimeUnit.Month;\n        return iFormattingService_1.DateTimeUnit.Year;\n    };\n    // Constants\n    DateTimeSequence.MIN_COUNT = 1;\n    DateTimeSequence.MAX_COUNT = 1000;\n    return DateTimeSequence;\n}());\nexports.DateTimeSequence = DateTimeSequence;\n//# sourceMappingURL=dateTimeSequence.js.map","import * as formattingSettings from \"./FormattingSettingsComponents\";\nimport FormattingSettingsService from \"./FormattingSettingsService\";\nexport { formattingSettings, FormattingSettingsService };\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseNegativePattern = exports.parseExact = exports.getEraYear = exports.getEra = exports.getTokenRegExp = exports.formatNumber = exports.formatDate = exports.expandFormat = exports.appendPreOrPostMatch = exports.zeroPad = exports.trim = exports.startsWith = exports.isObject = exports.isFunction = exports.isArray = exports.extend = exports.endsWith = exports.arrayIndexOf = exports.regexTrim = exports.regexParseFloat = exports.regexInfinity = exports.regexHex = exports.Globalize = void 0;\n// Global variable (Globalize) or CommonJS module (globalize)\nexports.Globalize = function (cultureSelector) {\n    return new exports.Globalize.prototype.init(cultureSelector);\n};\nexports.Globalize.cultures = {};\nexports.Globalize.prototype = {\n    constructor: exports.Globalize,\n    init: function (cultureSelector) {\n        this.cultures = exports.Globalize.cultures;\n        this.cultureSelector = cultureSelector;\n        return this;\n    }\n};\nexports.Globalize.prototype.init.prototype = exports.Globalize.prototype;\n// 1.\t When defining a culture, all fields are required except the ones stated as optional.\n// 2.\t Each culture should have a \".calendars\" object with at least one calendar named \"standard\"\n//\t\t which serves as the default calendar in use by that culture.\n// 3.\t Each culture should have a \".calendar\" object which is the current calendar being used,\n//\t\t it may be dynamically changed at any time to one of the calendars in \".calendars\".\nexports.Globalize.cultures[\"default\"] = {\n    // A unique name for the culture in the form <language code>-<country/region code>\n    name: \"en\",\n    // the name of the culture in the english language\n    englishName: \"English\",\n    // the name of the culture in its own language\n    nativeName: \"English\",\n    // whether the culture uses right-to-left text\n    isRTL: false,\n    // \"language\" is used for so-called \"specific\" cultures.\n    // For example, the culture \"es-CL\" means \"Spanish, in Chili\".\n    // It represents the Spanish-speaking culture as it is in Chili,\n    // which might have different formatting rules or even translations\n    // than Spanish in Spain. A \"neutral\" culture is one that is not\n    // specific to a region. For example, the culture \"es\" is the generic\n    // Spanish culture, which may be a more generalized version of the language\n    // that may or may not be what a specific culture expects.\n    // For a specific culture like \"es-CL\", the \"language\" field refers to the\n    // neutral, generic culture information for the language it is using.\n    // This is not always a simple matter of the string before the dash.\n    // For example, the \"zh-Hans\" culture is netural (Simplified Chinese).\n    // And the \"zh-SG\" culture is Simplified Chinese in Singapore, whose lanugage\n    // field is \"zh-CHS\", not \"zh\".\n    // This field should be used to navigate from a specific culture to it's\n    // more general, neutral culture. If a culture is already as general as it\n    // can get, the language may refer to itself.\n    language: \"en\",\n    // numberFormat defines general number formatting rules, like the digits in\n    // each grouping, the group separator, and how negative numbers are displayed.\n    numberFormat: {\n        // [negativePattern]\n        // Note, numberFormat.pattern has no \"positivePattern\" unlike percent and currency,\n        // but is still defined as an array for consistency with them.\n        //   negativePattern: one of \"(n)|-n|- n|n-|n -\"\n        pattern: [\"-n\"],\n        // number of decimal places normally shown\n        decimals: 2,\n        // string that separates number groups, as in 1,000,000\n        \",\": \",\",\n        // string that separates a number from the fractional portion, as in 1.99\n        \".\": \".\",\n        // array of numbers indicating the size of each number group.\n        // TODO: more detailed description and example\n        groupSizes: [3],\n        // symbol used for positive numbers\n        \"+\": \"+\",\n        // symbol used for negative numbers\n        \"-\": \"-\",\n        percent: {\n            // [negativePattern, positivePattern]\n            //   negativePattern: one of \"-n %|-n%|-%n|%-n|%n-|n-%|n%-|-% n|n %-|% n-|% -n|n- %\"\n            //   positivePattern: one of \"n %|n%|%n|% n\"\n            pattern: [\"-n %\", \"n %\"],\n            // number of decimal places normally shown\n            decimals: 2,\n            // array of numbers indicating the size of each number group.\n            // TODO: more detailed description and example\n            groupSizes: [3],\n            // string that separates number groups, as in 1,000,000\n            \",\": \",\",\n            // string that separates a number from the fractional portion, as in 1.99\n            \".\": \".\",\n            // symbol used to represent a percentage\n            symbol: \"%\"\n        },\n        currency: {\n            // [negativePattern, positivePattern]\n            //   negativePattern: one of \"($n)|-$n|$-n|$n-|(n$)|-n$|n-$|n$-|-n $|-$ n|n $-|$ n-|$ -n|n- $|($ n)|(n $)\"\n            //   positivePattern: one of \"$n|n$|$ n|n $\"\n            pattern: [\"($n)\", \"$n\"],\n            // number of decimal places normally shown\n            decimals: 2,\n            // array of numbers indicating the size of each number group.\n            // TODO: more detailed description and example\n            groupSizes: [3],\n            // string that separates number groups, as in 1,000,000\n            \",\": \",\",\n            // string that separates a number from the fractional portion, as in 1.99\n            \".\": \".\",\n            // symbol used to represent currency\n            symbol: \"$\"\n        }\n    },\n    // calendars defines all the possible calendars used by this culture.\n    // There should be at least one defined with name \"standard\", and is the default\n    // calendar used by the culture.\n    // A calendar contains information about how dates are formatted, information about\n    // the calendar's eras, a standard set of the date formats,\n    // translations for day and month names, and if the calendar is not based on the Gregorian\n    // calendar, conversion functions to and from the Gregorian calendar.\n    calendars: {\n        standard: {\n            // name that identifies the type of calendar this is\n            name: \"Gregorian_USEnglish\",\n            // separator of parts of a date (e.g. \"/\" in 11/05/1955)\n            \"/\": \"/\",\n            // separator of parts of a time (e.g. \":\" in 05:44 PM)\n            \":\": \":\",\n            // the first day of the week (0 = Sunday, 1 = Monday, etc)\n            firstDay: 0,\n            days: {\n                // full day names\n                names: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n                // abbreviated day names\n                namesAbbr: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n                // shortest day names\n                namesShort: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"]\n            },\n            months: {\n                // full month names (13 months for lunar calendards -- 13th month should be \"\" if not lunar)\n                names: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\", \"\"],\n                // abbreviated month names\n                namesAbbr: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"\"]\n            },\n            // AM and PM designators in one of these forms:\n            // The usual view, and the upper and lower case versions\n            //   [ standard, lowercase, uppercase ]\n            // The culture does not use AM or PM (likely all standard date formats use 24 hour time)\n            //   null\n            AM: [\"AM\", \"am\", \"AM\"],\n            PM: [\"PM\", \"pm\", \"PM\"],\n            eras: [\n                // eras in reverse chronological order.\n                // name: the name of the era in this culture (e.g. A.D., C.E.)\n                // start: when the era starts in ticks (gregorian, gmt), null if it is the earliest supported era.\n                // offset: offset in years from gregorian calendar\n                {\n                    \"name\": \"A.D.\",\n                    \"start\": null,\n                    \"offset\": 0\n                }\n            ],\n            // when a two digit year is given, it will never be parsed as a four digit\n            // year greater than this year (in the appropriate era for the culture)\n            // Set it as a full year (e.g. 2029) or use an offset format starting from\n            // the current year: \"+19\" would correspond to 2029 if the current year 2010.\n            twoDigitYearMax: 2029,\n            // set of predefined date and time patterns used by the culture\n            // these represent the format someone in this culture would expect\n            // to see given the portions of the date that are shown.\n            patterns: {\n                // short date pattern\n                d: \"M/d/yyyy\",\n                // long date pattern\n                D: \"dddd, MMMM dd, yyyy\",\n                // short time pattern\n                t: \"h:mm tt\",\n                // long time pattern\n                T: \"h:mm:ss tt\",\n                // long date, short time pattern\n                f: \"dddd, MMMM dd, yyyy h:mm tt\",\n                // long date, long time pattern\n                F: \"dddd, MMMM dd, yyyy h:mm:ss tt\",\n                // month/day pattern\n                M: \"MMMM dd\",\n                // month/year pattern\n                Y: \"yyyy MMMM\",\n                // S is a sortable format that does not vary by culture\n                S: \"yyyy\\u0027-\\u0027MM\\u0027-\\u0027dd\\u0027T\\u0027HH\\u0027:\\u0027mm\\u0027:\\u0027ss\"\n            }\n            // optional fields for each calendar:\n            /*\n            monthsGenitive:\n                Same as months but used when the day preceeds the month.\n                Omit if the culture has no genitive distinction in month names.\n                For an explaination of genitive months, see http://blogs.msdn.com/michkap/archive/2004/12/25/332259.aspx\n            convert:\n                Allows for the support of non-gregorian based calendars. This convert object is used to\n                to convert a date to and from a gregorian calendar date to handle parsing and formatting.\n                The two functions:\n                    fromGregorian( date )\n                        Given the date as a parameter, return an array with parts [ year, month, day ]\n                        corresponding to the non-gregorian based year, month, and day for the calendar.\n                    toGregorian( year, month, day )\n                        Given the non-gregorian year, month, and day, return a new Date() object\n                        set to the corresponding date in the gregorian calendar.\n            */\n        }\n    },\n    // For localized strings\n    messages: {}\n};\nexports.Globalize.cultures[\"default\"].calendar = exports.Globalize.cultures[\"default\"].calendars.standard;\nexports.Globalize.cultures[\"en\"] = exports.Globalize.cultures[\"default\"];\nexports.Globalize.cultureSelector = \"en\";\n//\n// private variables\n//\nexports.regexHex = /^0x[a-f0-9]+$/i;\nexports.regexInfinity = /^[+-]?infinity$/i;\nexports.regexParseFloat = /^[+-]?\\d*\\.?\\d*(e[+-]?\\d+)?$/;\nexports.regexTrim = /^\\s+|\\s+$/g;\n//\n// private JavaScript utility functions\n//\nexports.arrayIndexOf = function (array, item) {\n    if (array.indexOf) {\n        return array.indexOf(item);\n    }\n    for (var i = 0, length = array.length; i < length; i++) {\n        if (array[i] === item) {\n            return i;\n        }\n    }\n    return -1;\n};\nexports.endsWith = function (value, pattern) {\n    return value.substring(value.length - pattern.length) === pattern;\n};\nexports.extend = function (deep) {\n    var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;\n    // Handle a deep copy situation\n    if (typeof target === \"boolean\") {\n        deep = target;\n        target = arguments[1] || {};\n        // skip the boolean and the target\n        i = 2;\n    }\n    // Handle case when target is a string or something (possible in deep copy)\n    if (typeof target !== \"object\" && !(0, exports.isFunction)(target)) {\n        target = {};\n    }\n    for (; i < length; i++) {\n        // Only deal with non-null/undefined values\n        if ((options = arguments[i]) != null) {\n            // Extend the base object\n            for (name in options) {\n                src = target[name];\n                copy = options[name];\n                // Prevent never-ending loop\n                if (target === copy) {\n                    continue;\n                }\n                // Recurse if we're merging plain objects or arrays\n                if (deep && copy && ((0, exports.isObject)(copy) || (copyIsArray = (0, exports.isArray)(copy)))) {\n                    if (copyIsArray) {\n                        copyIsArray = false;\n                        clone = src && (0, exports.isArray)(src) ? src : [];\n                    }\n                    else {\n                        clone = src && (0, exports.isObject)(src) ? src : {};\n                    }\n                    // Never move original objects, clone them\n                    target[name] = (0, exports.extend)(deep, clone, copy);\n                    // Don't bring in undefined values\n                }\n                else if (copy !== undefined) {\n                    target[name] = copy;\n                }\n            }\n        }\n    }\n    // Return the modified object\n    return target;\n};\nexports.isArray = Array.isArray || function (obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n};\nexports.isFunction = function (obj) {\n    return Object.prototype.toString.call(obj) === \"[object Function]\";\n};\nexports.isObject = function (obj) {\n    return Object.prototype.toString.call(obj) === \"[object Object]\";\n};\nexports.startsWith = function (value, pattern) {\n    return value.indexOf(pattern) === 0;\n};\nexports.trim = function (value) {\n    return (value + \"\").replace(exports.regexTrim, \"\");\n};\nexports.zeroPad = function (str, count, left) {\n    var l;\n    for (l = str.length; l < count; l += 1) {\n        str = (left ? (\"0\" + str) : (str + \"0\"));\n    }\n    return str;\n};\n//\n// private Globalization utility functions\n//\nexports.appendPreOrPostMatch = function (preMatch, strings) {\n    // appends pre- and post- token match strings while removing escaped characters.\n    // Returns a single quote count which is used to determine if the token occurs\n    // in a string literal.\n    var quoteCount = 0, escaped = false;\n    for (var i = 0, il = preMatch.length; i < il; i++) {\n        var c = preMatch.charAt(i);\n        switch (c) {\n            case \"\\'\":\n                if (escaped) {\n                    strings.push(\"\\'\");\n                }\n                else {\n                    quoteCount++;\n                }\n                escaped = false;\n                break;\n            case \"\\\\\":\n                if (escaped) {\n                    strings.push(\"\\\\\");\n                }\n                escaped = !escaped;\n                break;\n            default:\n                strings.push(c);\n                escaped = false;\n                break;\n        }\n    }\n    return quoteCount;\n};\nexports.expandFormat = function (cal, format) {\n    // expands unspecified or single character date formats into the full pattern.\n    format = format || \"F\";\n    var pattern, patterns = cal.patterns, len = format.length;\n    if (len === 1) {\n        pattern = patterns[format];\n        if (!pattern) {\n            throw \"Invalid date format string \\'\" + format + \"\\'.\";\n        }\n        format = pattern;\n    }\n    else if (len === 2 && format.charAt(0) === \"%\") {\n        // %X escape format -- intended as a custom format string that is only one character, not a built-in format.\n        format = format.charAt(1);\n    }\n    return format;\n};\nexports.formatDate = function (value, format, culture) {\n    var cal = culture.calendar, convert = cal.convert;\n    if (!format || !format.length || format === \"i\") {\n        var ret;\n        if (culture && culture.name.length) {\n            if (convert) {\n                // non-gregorian calendar, so we cannot use built-in toLocaleString()\n                ret = (0, exports.formatDate)(value, cal.patterns.F, culture);\n            }\n            else {\n                var eraDate = new Date(value.getTime()), era = (0, exports.getEra)(value, cal.eras);\n                eraDate.setFullYear((0, exports.getEraYear)(value, cal, era));\n                ret = eraDate.toLocaleString();\n            }\n        }\n        else {\n            ret = value.toString();\n        }\n        return ret;\n    }\n    var eras = cal.eras, sortable = format === \"s\";\n    format = (0, exports.expandFormat)(cal, format);\n    // Start with an empty string\n    ret = [];\n    var hour, zeros = [\"0\", \"00\", \"000\"], foundDay, checkedDay, dayPartRegExp = /([^d]|^)(d|dd)([^d]|$)/g, quoteCount = 0, tokenRegExp = (0, exports.getTokenRegExp)(), converted;\n    function padZeros(num, c) {\n        var r, s = num + \"\";\n        if (c > 1 && s.length < c) {\n            r = (zeros[c - 2] + s);\n            return r.substring(r.length - c, r.length);\n        }\n        else {\n            r = s;\n        }\n        return r;\n    }\n    function hasDay() {\n        if (foundDay || checkedDay) {\n            return foundDay;\n        }\n        foundDay = dayPartRegExp.test(format);\n        checkedDay = true;\n        return foundDay;\n    }\n    function getPart(date, part) {\n        if (converted) {\n            return converted[part];\n        }\n        switch (part) {\n            case 0: return date.getFullYear();\n            case 1: return date.getMonth();\n            case 2: return date.getDate();\n        }\n    }\n    if (!sortable && convert) {\n        converted = convert.fromGregorian(value);\n    }\n    for (;;) {\n        // Save the current index\n        var index = tokenRegExp.lastIndex, \n        // Look for the next pattern\n        ar = tokenRegExp.exec(format);\n        // Append the text before the pattern (or the end of the string if not found)\n        var preMatch = format.slice(index, ar ? ar.index : format.length);\n        quoteCount += (0, exports.appendPreOrPostMatch)(preMatch, ret);\n        if (!ar) {\n            break;\n        }\n        // do not replace any matches that occur inside a string literal.\n        if (quoteCount % 2) {\n            ret.push(ar[0]);\n            continue;\n        }\n        var current = ar[0], clength = current.length;\n        switch (current) {\n            case \"ddd\":\n            //Day of the week, as a three-letter abbreviation\n            case \"dddd\":\n                // Day of the week, using the full name\n                var names = (clength === 3) ? cal.days.namesAbbr : cal.days.names;\n                ret.push(names[value.getDay()]);\n                break;\n            case \"d\":\n            // Day of month, without leading zero for single-digit days\n            case \"dd\":\n                // Day of month, with leading zero for single-digit days\n                foundDay = true;\n                ret.push(padZeros(getPart(value, 2), clength));\n                break;\n            case \"MMM\":\n            // Month, as a three-letter abbreviation\n            case \"MMMM\":\n                // Month, using the full name\n                var part = getPart(value, 1);\n                ret.push((cal.monthsGenitive && hasDay())\n                    ?\n                        cal.monthsGenitive[clength === 3 ? \"namesAbbr\" : \"names\"][part]\n                    :\n                        cal.months[clength === 3 ? \"namesAbbr\" : \"names\"][part]);\n                break;\n            case \"M\":\n            // Month, as digits, with no leading zero for single-digit months\n            case \"MM\":\n                // Month, as digits, with leading zero for single-digit months\n                ret.push(padZeros(getPart(value, 1) + 1, clength));\n                break;\n            case \"y\":\n            // Year, as two digits, but with no leading zero for years less than 10\n            case \"yy\":\n            // Year, as two digits, with leading zero for years less than 10\n            case \"yyyy\":\n                // Year represented by four full digits\n                part = converted ? converted[0] : (0, exports.getEraYear)(value, cal, (0, exports.getEra)(value, eras), sortable);\n                if (clength < 4) {\n                    part = part % 100;\n                }\n                ret.push(padZeros(part, clength));\n                break;\n            case \"h\":\n            // Hours with no leading zero for single-digit hours, using 12-hour clock\n            case \"hh\":\n                // Hours with leading zero for single-digit hours, using 12-hour clock\n                hour = value.getHours() % 12;\n                if (hour === 0)\n                    hour = 12;\n                ret.push(padZeros(hour, clength));\n                break;\n            case \"H\":\n            // Hours with no leading zero for single-digit hours, using 24-hour clock\n            case \"HH\":\n                // Hours with leading zero for single-digit hours, using 24-hour clock\n                ret.push(padZeros(value.getHours(), clength));\n                break;\n            case \"m\":\n            // Minutes with no leading zero for single-digit minutes\n            case \"mm\":\n                // Minutes with leading zero for single-digit minutes\n                ret.push(padZeros(value.getMinutes(), clength));\n                break;\n            case \"s\":\n            // Seconds with no leading zero for single-digit seconds\n            case \"ss\":\n                // Seconds with leading zero for single-digit seconds\n                ret.push(padZeros(value.getSeconds(), clength));\n                break;\n            case \"t\":\n            // One character am/pm indicator (\"a\" or \"p\")\n            case \"tt\":\n                // Multicharacter am/pm indicator\n                part = value.getHours() < 12 ? (cal.AM ? cal.AM[0] : \" \") : (cal.PM ? cal.PM[0] : \" \");\n                ret.push(clength === 1 ? part.charAt(0) : part);\n                break;\n            case \"f\":\n            // Deciseconds\n            case \"ff\":\n            // Centiseconds\n            case \"fff\":\n                // Milliseconds\n                ret.push(padZeros(value.getMilliseconds(), 3).substring(0, clength));\n                break;\n            case \"z\":\n            // Time zone offset, no leading zero\n            case \"zz\":\n                // Time zone offset with leading zero\n                hour = value.getTimezoneOffset() / 60;\n                ret.push((hour <= 0 ? \"+\" : \"-\") + padZeros(Math.floor(Math.abs(hour)), clength));\n                break;\n            case \"zzz\":\n                // Time zone offset with leading zero\n                hour = value.getTimezoneOffset() / 60;\n                ret.push((hour <= 0 ? \"+\" : \"-\") + padZeros(Math.floor(Math.abs(hour)), 2)\n                    // Hard coded \":\" separator, rather than using cal.TimeSeparator\n                    // Repeated here for consistency, plus \":\" was already assumed in date parsing.\n                    + \":\" + padZeros(Math.abs(value.getTimezoneOffset() % 60), 2));\n                break;\n            case \"g\":\n            case \"gg\":\n                if (cal.eras) {\n                    ret.push(cal.eras[(0, exports.getEra)(value, eras)].name);\n                }\n                break;\n            case \"/\":\n                ret.push(cal[\"/\"]);\n                break;\n            default:\n                throw \"Invalid date format pattern \\'\" + current + \"\\'.\";\n        }\n    }\n    return ret.join(\"\");\n};\n// formatNumber\n(function () {\n    var expandNumber;\n    expandNumber = function (number, precision, formatInfo) {\n        var groupSizes = formatInfo.groupSizes, curSize = groupSizes[0], curGroupIndex = 1, factor = Math.pow(10, precision), rounded = Math.round(number * factor) / factor;\n        if (!isFinite(rounded)) {\n            rounded = number;\n        }\n        number = rounded;\n        var numberString = number + \"\", right = \"\", split = numberString.split(/e/i), exponent = split.length > 1 ? parseInt(split[1], 10) : 0;\n        numberString = split[0];\n        split = numberString.split(\".\");\n        numberString = split[0];\n        right = split.length > 1 ? split[1] : \"\";\n        var l;\n        if (exponent > 0) {\n            right = (0, exports.zeroPad)(right, exponent, false);\n            numberString += right.slice(0, exponent);\n            right = right.substring(exponent);\n        }\n        else if (exponent < 0) {\n            exponent = -exponent;\n            numberString = (0, exports.zeroPad)(numberString, exponent + 1);\n            right = numberString.slice(-exponent, numberString.length) + right;\n            numberString = numberString.slice(0, -exponent);\n        }\n        if (precision > 0) {\n            right = formatInfo[\".\"] +\n                ((right.length > precision) ? right.slice(0, precision) : (0, exports.zeroPad)(right, precision));\n        }\n        else {\n            right = \"\";\n        }\n        var stringIndex = numberString.length - 1, sep = formatInfo[\",\"], ret = \"\";\n        while (stringIndex >= 0) {\n            if (curSize === 0 || curSize > stringIndex) {\n                return numberString.slice(0, stringIndex + 1) + (ret.length ? (sep + ret + right) : right);\n            }\n            ret = numberString.slice(stringIndex - curSize + 1, stringIndex + 1) + (ret.length ? (sep + ret) : \"\");\n            stringIndex -= curSize;\n            if (curGroupIndex < groupSizes.length) {\n                curSize = groupSizes[curGroupIndex];\n                curGroupIndex++;\n            }\n        }\n        return numberString.slice(0, stringIndex + 1) + sep + ret + right;\n    };\n    exports.formatNumber = function (value, format, culture) {\n        if (!format || format === \"i\") {\n            return culture.name.length ? value.toLocaleString() : value.toString();\n        }\n        format = format || \"D\";\n        var nf = culture.numberFormat, number = Math.abs(value), precision = -1, pattern;\n        if (format.length > 1)\n            precision = parseInt(format.slice(1), 10);\n        var current = format.charAt(0).toUpperCase(), formatInfo;\n        switch (current) {\n            case \"D\":\n                pattern = \"n\";\n                if (precision !== -1) {\n                    number = (0, exports.zeroPad)(\"\" + number, precision, true);\n                }\n                if (value < 0)\n                    number = -number;\n                break;\n            case \"N\":\n                formatInfo = nf;\n            // fall through\n            case \"C\":\n                formatInfo = formatInfo || nf.currency;\n            // fall through\n            case \"P\":\n                formatInfo = formatInfo || nf.percent;\n                pattern = value < 0 ? formatInfo.pattern[0] : (formatInfo.pattern[1] || \"n\");\n                if (precision === -1)\n                    precision = formatInfo.decimals;\n                number = expandNumber(number * (current === \"P\" ? 100 : 1), precision, formatInfo);\n                break;\n            default:\n                throw \"Bad number format specifier: \" + current;\n        }\n        var patternParts = /n|\\$|-|%/g, ret = \"\";\n        for (;;) {\n            var index = patternParts.lastIndex, ar = patternParts.exec(pattern);\n            ret += pattern.slice(index, ar ? ar.index : pattern.length);\n            if (!ar) {\n                break;\n            }\n            switch (ar[0]) {\n                case \"n\":\n                    ret += number;\n                    break;\n                case \"$\":\n                    ret += nf.currency.symbol;\n                    break;\n                case \"-\":\n                    // don't make 0 negative\n                    if (/[1-9]/.test(number.toString())) {\n                        ret += nf[\"-\"];\n                    }\n                    break;\n                case \"%\":\n                    ret += nf.percent.symbol;\n                    break;\n            }\n        }\n        return ret;\n    };\n}());\nexports.getTokenRegExp = function () {\n    // regular expression for matching date and time tokens in format strings.\n    return /\\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;\n};\nexports.getEra = function (date, eras) {\n    if (!eras)\n        return 0;\n    var start, ticks = date.getTime();\n    for (var i = 0, l = eras.length; i < l; i++) {\n        start = eras[i].start;\n        if (start === null || ticks >= start) {\n            return i;\n        }\n    }\n    return 0;\n};\nexports.getEraYear = function (date, cal, era, sortable) {\n    var year = date.getFullYear();\n    if (!sortable && cal.eras) {\n        // convert normal gregorian year to era-shifted gregorian\n        // year by subtracting the era offset\n        year -= cal.eras[era].offset;\n    }\n    return year;\n};\n// parseExact\n(function () {\n    var expandYear, getDayIndex, getMonthIndex, getParseRegExp, outOfRange, toUpper, toUpperArray;\n    expandYear = function (cal, year) {\n        // expands 2-digit year into 4 digits.\n        var now = new Date(), era = (0, exports.getEra)(now);\n        if (year < 100) {\n            var twoDigitYearMax = cal.twoDigitYearMax;\n            twoDigitYearMax = typeof twoDigitYearMax === \"string\" ? new Date().getFullYear() % 100 + parseInt(twoDigitYearMax, 10) : twoDigitYearMax;\n            var curr = (0, exports.getEraYear)(now, cal, era);\n            year += curr - (curr % 100);\n            if (year > twoDigitYearMax) {\n                year -= 100;\n            }\n        }\n        return year;\n    };\n    getDayIndex = function (cal, value, abbr) {\n        var ret, days = cal.days, upperDays = cal._upperDays;\n        if (!upperDays) {\n            cal._upperDays = upperDays = [\n                toUpperArray(days.names),\n                toUpperArray(days.namesAbbr),\n                toUpperArray(days.namesShort)\n            ];\n        }\n        value = toUpper(value);\n        if (abbr) {\n            ret = (0, exports.arrayIndexOf)(upperDays[1], value);\n            if (ret === -1) {\n                ret = (0, exports.arrayIndexOf)(upperDays[2], value);\n            }\n        }\n        else {\n            ret = (0, exports.arrayIndexOf)(upperDays[0], value);\n        }\n        return ret;\n    };\n    getMonthIndex = function (cal, value, abbr) {\n        var months = cal.months, monthsGen = cal.monthsGenitive || cal.months, upperMonths = cal._upperMonths, upperMonthsGen = cal._upperMonthsGen;\n        if (!upperMonths) {\n            cal._upperMonths = upperMonths = [\n                toUpperArray(months.names),\n                toUpperArray(months.namesAbbr)\n            ];\n            cal._upperMonthsGen = upperMonthsGen = [\n                toUpperArray(monthsGen.names),\n                toUpperArray(monthsGen.namesAbbr)\n            ];\n        }\n        value = toUpper(value);\n        var i = (0, exports.arrayIndexOf)(abbr ? upperMonths[1] : upperMonths[0], value);\n        if (i < 0) {\n            i = (0, exports.arrayIndexOf)(abbr ? upperMonthsGen[1] : upperMonthsGen[0], value);\n        }\n        return i;\n    };\n    getParseRegExp = function (cal, format) {\n        // converts a format string into a regular expression with groups that\n        // can be used to extract date fields from a date string.\n        // check for a cached parse regex.\n        var re = cal._parseRegExp;\n        if (!re) {\n            cal._parseRegExp = re = {};\n        }\n        else {\n            var reFormat = re[format];\n            if (reFormat) {\n                return reFormat;\n            }\n        }\n        // expand single digit formats, then escape regular expression characters.\n        var expFormat = (0, exports.expandFormat)(cal, format).replace(/([\\^\\$\\.\\*\\+\\?\\|\\[\\]\\(\\)\\{\\}])/g, \"\\\\\\\\$1\"), regexp = [\"^\"], groups = [], index = 0, quoteCount = 0, tokenRegExp = (0, exports.getTokenRegExp)(), match;\n        // iterate through each date token found.\n        while ((match = tokenRegExp.exec(expFormat)) !== null) {\n            var preMatch = expFormat.slice(index, match.index);\n            index = tokenRegExp.lastIndex;\n            // don't replace any matches that occur inside a string literal.\n            quoteCount += (0, exports.appendPreOrPostMatch)(preMatch, regexp);\n            if (quoteCount % 2) {\n                regexp.push(match[0]);\n                continue;\n            }\n            // add a regex group for the token.\n            var m = match[0], len = m.length, add;\n            switch (m) {\n                case \"dddd\":\n                case \"ddd\":\n                case \"MMMM\":\n                case \"MMM\":\n                case \"gg\":\n                case \"g\":\n                    add = \"(\\\\D+)\";\n                    break;\n                case \"tt\":\n                case \"t\":\n                    add = \"(\\\\D*)\";\n                    break;\n                case \"yyyy\":\n                case \"fff\":\n                case \"ff\":\n                case \"f\":\n                    add = \"(\\\\d{\" + len + \"})\";\n                    break;\n                case \"dd\":\n                case \"d\":\n                case \"MM\":\n                case \"M\":\n                case \"yy\":\n                case \"y\":\n                case \"HH\":\n                case \"H\":\n                case \"hh\":\n                case \"h\":\n                case \"mm\":\n                case \"m\":\n                case \"ss\":\n                case \"s\":\n                    add = \"(\\\\d\\\\d?)\";\n                    break;\n                case \"zzz\":\n                    add = \"([+-]?\\\\d\\\\d?:\\\\d{2})\";\n                    break;\n                case \"zz\":\n                case \"z\":\n                    add = \"([+-]?\\\\d\\\\d?)\";\n                    break;\n                case \"/\":\n                    add = \"(\\\\\" + cal[\"/\"] + \")\";\n                    break;\n                default:\n                    throw \"Invalid date format pattern \\'\" + m + \"\\'.\";\n            }\n            if (add) {\n                regexp.push(add);\n            }\n            groups.push(match[0]);\n        }\n        (0, exports.appendPreOrPostMatch)(expFormat.slice(index), regexp);\n        regexp.push(\"$\");\n        // allow whitespace to differ when matching formats.\n        var regexpStr = regexp.join(\"\").replace(/\\s+/g, \"\\\\s+\"), parseRegExp = { \"regExp\": regexpStr, \"groups\": groups };\n        // cache the regex for this format.\n        return re[format] = parseRegExp;\n    };\n    outOfRange = function (value, low, high) {\n        return value < low || value > high;\n    };\n    toUpper = function (value) {\n        // \"he-IL\" has non-breaking space in weekday names.\n        return value.split(\"\\u00A0\").join(\" \").toUpperCase();\n    };\n    toUpperArray = function (arr) {\n        var results = [];\n        for (var i = 0, l = arr.length; i < l; i++) {\n            results[i] = toUpper(arr[i]);\n        }\n        return results;\n    };\n    exports.parseExact = function (value, format, culture) {\n        // try to parse the date string by matching against the format string\n        // while using the specified culture for date field names.\n        value = (0, exports.trim)(value);\n        var cal = culture.calendar, \n        // convert date formats into regular expressions with groupings.\n        // use the regexp to determine the input format and extract the date fields.\n        parseInfo = getParseRegExp(cal, format), match = new RegExp(parseInfo.regExp).exec(value);\n        if (match === null) {\n            return null;\n        }\n        // found a date format that matches the input.\n        var groups = parseInfo.groups, era = null, year = null, month = null, date = null, weekDay = null, hour = 0, hourOffset, min = 0, sec = 0, msec = 0, tzMinOffset = null, pmHour = false;\n        // iterate the format groups to extract and set the date fields.\n        for (var j = 0, jl = groups.length; j < jl; j++) {\n            var matchGroup = match[j + 1];\n            if (matchGroup) {\n                var current = groups[j], clength = current.length, matchInt = parseInt(matchGroup, 10);\n                switch (current) {\n                    case \"dd\":\n                    case \"d\":\n                        // Day of month.\n                        date = matchInt;\n                        // check that date is generally in valid range, also checking overflow below.\n                        if (outOfRange(date, 1, 31))\n                            return null;\n                        break;\n                    case \"MMM\":\n                    case \"MMMM\":\n                        month = getMonthIndex(cal, matchGroup, clength === 3);\n                        if (outOfRange(month, 0, 11))\n                            return null;\n                        break;\n                    case \"M\":\n                    case \"MM\":\n                        // Month.\n                        month = matchInt - 1;\n                        if (outOfRange(month, 0, 11))\n                            return null;\n                        break;\n                    case \"y\":\n                    case \"yy\":\n                    case \"yyyy\":\n                        year = clength < 4 ? expandYear(cal, matchInt) : matchInt;\n                        if (outOfRange(year, 0, 9999))\n                            return null;\n                        break;\n                    case \"h\":\n                    case \"hh\":\n                        // Hours (12-hour clock).\n                        hour = matchInt;\n                        if (hour === 12)\n                            hour = 0;\n                        if (outOfRange(hour, 0, 11))\n                            return null;\n                        break;\n                    case \"H\":\n                    case \"HH\":\n                        // Hours (24-hour clock).\n                        hour = matchInt;\n                        if (outOfRange(hour, 0, 23))\n                            return null;\n                        break;\n                    case \"m\":\n                    case \"mm\":\n                        // Minutes.\n                        min = matchInt;\n                        if (outOfRange(min, 0, 59))\n                            return null;\n                        break;\n                    case \"s\":\n                    case \"ss\":\n                        // Seconds.\n                        sec = matchInt;\n                        if (outOfRange(sec, 0, 59))\n                            return null;\n                        break;\n                    case \"tt\":\n                    case \"t\":\n                        // AM/PM designator.\n                        // see if it is standard, upper, or lower case PM. If not, ensure it is at least one of\n                        // the AM tokens. If not, fail the parse for this format.\n                        pmHour = cal.PM && (matchGroup === cal.PM[0] || matchGroup === cal.PM[1] || matchGroup === cal.PM[2]);\n                        if (!pmHour && (!cal.AM || (matchGroup !== cal.AM[0] && matchGroup !== cal.AM[1] && matchGroup !== cal.AM[2])))\n                            return null;\n                        break;\n                    case \"f\":\n                    // Deciseconds.\n                    case \"ff\":\n                    // Centiseconds.\n                    case \"fff\":\n                        // Milliseconds.\n                        msec = matchInt * Math.pow(10, 3 - clength);\n                        if (outOfRange(msec, 0, 999))\n                            return null;\n                        break;\n                    case \"ddd\":\n                    // Day of week.\n                    case \"dddd\":\n                        // Day of week.\n                        weekDay = getDayIndex(cal, matchGroup, clength === 3);\n                        if (outOfRange(weekDay, 0, 6))\n                            return null;\n                        break;\n                    case \"zzz\":\n                        // Time zone offset in +/- hours:min.\n                        var offsets = matchGroup.split(/:/);\n                        if (offsets.length !== 2)\n                            return null;\n                        hourOffset = parseInt(offsets[0], 10);\n                        if (outOfRange(hourOffset, -12, 13))\n                            return null;\n                        var minOffset = parseInt(offsets[1], 10);\n                        if (outOfRange(minOffset, 0, 59))\n                            return null;\n                        tzMinOffset = (hourOffset * 60) + ((0, exports.startsWith)(matchGroup, \"-\") ? -minOffset : minOffset);\n                        break;\n                    case \"z\":\n                    case \"zz\":\n                        // Time zone offset in +/- hours.\n                        hourOffset = matchInt;\n                        if (outOfRange(hourOffset, -12, 13))\n                            return null;\n                        tzMinOffset = hourOffset * 60;\n                        break;\n                    case \"g\":\n                    case \"gg\":\n                        var eraName = matchGroup;\n                        if (!eraName || !cal.eras)\n                            return null;\n                        eraName = (0, exports.trim)(eraName.toLowerCase());\n                        for (var i = 0, l = cal.eras.length; i < l; i++) {\n                            if (eraName === cal.eras[i].name.toLowerCase()) {\n                                era = i;\n                                break;\n                            }\n                        }\n                        // could not find an era with that name\n                        if (era === null)\n                            return null;\n                        break;\n                }\n            }\n        }\n        var result = new Date(), defaultYear, convert = cal.convert;\n        defaultYear = convert ? convert.fromGregorian(result)[0] : result.getFullYear();\n        if (year === null) {\n            year = defaultYear;\n        }\n        else if (cal.eras) {\n            // year must be shifted to normal gregorian year\n            // but not if year was not specified, its already normal gregorian\n            // per the main if clause above.\n            year += cal.eras[(era || 0)].offset;\n        }\n        // set default day and month to 1 and January, so if unspecified, these are the defaults\n        // instead of the current day/month.\n        if (month === null) {\n            month = 0;\n        }\n        if (date === null) {\n            date = 1;\n        }\n        // now have year, month, and date, but in the culture's calendar.\n        // convert to gregorian if necessary\n        if (convert) {\n            result = convert.toGregorian(year, month, date);\n            // conversion failed, must be an invalid match\n            if (result === null)\n                return null;\n        }\n        else {\n            // have to set year, month and date together to avoid overflow based on current date.\n            result.setFullYear(year, month, date);\n            // check to see if date overflowed for specified month (only checked 1-31 above).\n            if (result.getDate() !== date)\n                return null;\n            // invalid day of week.\n            if (weekDay !== null && result.getDay() !== weekDay) {\n                return null;\n            }\n        }\n        // if pm designator token was found make sure the hours fit the 24-hour clock.\n        if (pmHour && hour < 12) {\n            hour += 12;\n        }\n        result.setHours(hour, min, sec, msec);\n        if (tzMinOffset !== null) {\n            // adjust timezone to utc before applying local offset.\n            var adjustedMin = result.getMinutes() - (tzMinOffset + result.getTimezoneOffset());\n            // Safari limits hours and minutes to the range of -127 to 127.\t We need to use setHours\n            // to ensure both these fields will not exceed this range.\tadjustedMin will range\n            // somewhere between -1440 and 1500, so we only need to split this into hours.\n            result.setHours(result.getHours() + parseInt((adjustedMin / 60).toString(), 10), adjustedMin % 60);\n        }\n        return result;\n    };\n}());\nexports.parseNegativePattern = function (value, nf, negativePattern) {\n    var neg = nf[\"-\"], pos = nf[\"+\"], ret;\n    switch (negativePattern) {\n        case \"n -\":\n            neg = \" \" + neg;\n            pos = \" \" + pos;\n        // fall through\n        case \"n-\":\n            if ((0, exports.endsWith)(value, neg)) {\n                ret = [\"-\", value.substring(0, value.length - neg.length)];\n            }\n            else if ((0, exports.endsWith)(value, pos)) {\n                ret = [\"+\", value.substring(0, value.length - pos.length)];\n            }\n            break;\n        case \"- n\":\n            neg += \" \";\n            pos += \" \";\n        // fall through\n        case \"-n\":\n            if ((0, exports.startsWith)(value, neg)) {\n                ret = [\"-\", value.substring(neg.length)];\n            }\n            else if ((0, exports.startsWith)(value, pos)) {\n                ret = [\"+\", value.substring(pos.length)];\n            }\n            break;\n        case \"(n)\":\n            if ((0, exports.startsWith)(value, \"(\") && (0, exports.endsWith)(value, \")\")) {\n                ret = [\"-\", value.substring(1, value.length - 1)];\n            }\n            break;\n    }\n    return ret || [\"\", value];\n};\n//\n// public instance functions\n//\nexports.Globalize.prototype.findClosestCulture = function (cultureSelector) {\n    return exports.Globalize.findClosestCulture.call(this, cultureSelector);\n};\nexports.Globalize.prototype.format = function (value, format, cultureSelector) {\n    return exports.Globalize.format.call(this, value, format, cultureSelector);\n};\nexports.Globalize.prototype.localize = function (key, cultureSelector) {\n    return exports.Globalize.localize.call(this, key, cultureSelector);\n};\nexports.Globalize.prototype.parseInt = function (value, radix, cultureSelector) {\n    return exports.Globalize.parseInt.call(this, value, radix, cultureSelector);\n};\nexports.Globalize.prototype.parseFloat = function (value, radix, cultureSelector) {\n    return exports.Globalize.parseFloat.call(this, value, radix, cultureSelector);\n};\nexports.Globalize.prototype.culture = function (cultureSelector) {\n    return exports.Globalize.culture.call(this, cultureSelector);\n};\n//\n// public singleton functions\n//\nexports.Globalize.addCultureInfo = function (cultureName, baseCultureName, info) {\n    var base = {}, isNew = false;\n    if (typeof cultureName !== \"string\") {\n        // cultureName argument is optional string. If not specified, assume info is first\n        // and only argument. Specified info deep-extends current culture.\n        info = cultureName;\n        cultureName = this.culture().name;\n        base = this.cultures[cultureName];\n    }\n    else if (typeof baseCultureName !== \"string\") {\n        // baseCultureName argument is optional string. If not specified, assume info is second\n        // argument. Specified info deep-extends specified culture.\n        // If specified culture does not exist, create by deep-extending default\n        info = baseCultureName;\n        isNew = (this.cultures[cultureName] == null);\n        base = this.cultures[cultureName] || this.cultures[\"default\"];\n    }\n    else {\n        // cultureName and baseCultureName specified. Assume a new culture is being created\n        // by deep-extending an specified base culture\n        isNew = true;\n        base = this.cultures[baseCultureName];\n    }\n    this.cultures[cultureName] = (0, exports.extend)(true, {}, base, info);\n    // Make the standard calendar the current culture if it's a new culture\n    if (isNew) {\n        this.cultures[cultureName].calendar = this.cultures[cultureName].calendars.standard;\n    }\n};\nexports.Globalize.findClosestCulture = function (name) {\n    var match;\n    if (!name) {\n        return this.cultures[this.cultureSelector] || this.cultures[\"default\"];\n    }\n    if (typeof name === \"string\") {\n        name = name.split(\",\");\n    }\n    if ((0, exports.isArray)(name)) {\n        var lang, cultures = this.cultures, list = name, i, l = list.length, prioritized = [];\n        for (i = 0; i < l; i++) {\n            name = (0, exports.trim)(list[i]);\n            var pri, parts = name.split(\";\");\n            lang = (0, exports.trim)(parts[0]);\n            if (parts.length === 1) {\n                pri = 1;\n            }\n            else {\n                name = (0, exports.trim)(parts[1]);\n                if (name.indexOf(\"q=\") === 0) {\n                    name = name.substring(2);\n                    pri = parseFloat(name);\n                    pri = isNaN(pri) ? 0 : pri;\n                }\n                else {\n                    pri = 1;\n                }\n            }\n            prioritized.push({ lang: lang, pri: pri });\n        }\n        prioritized.sort(function (a, b) {\n            return a.pri < b.pri ? 1 : -1;\n        });\n        // exact match\n        for (i = 0; i < l; i++) {\n            lang = prioritized[i].lang;\n            match = cultures[lang];\n            if (match) {\n                return match;\n            }\n        }\n        // neutral language match\n        for (i = 0; i < l; i++) {\n            lang = prioritized[i].lang;\n            do {\n                var index = lang.lastIndexOf(\"-\");\n                if (index === -1) {\n                    break;\n                }\n                // strip off the last part. e.g. en-US => en\n                lang = lang.substring(0, index);\n                match = cultures[lang];\n                if (match) {\n                    return match;\n                }\n            } while (1);\n        }\n        // last resort: match first culture using that language\n        for (i = 0; i < l; i++) {\n            lang = prioritized[i].lang;\n            for (var cultureKey in cultures) {\n                var culture = cultures[cultureKey];\n                if (culture.language == lang) {\n                    return culture;\n                }\n            }\n        }\n    }\n    else if (typeof name === \"object\") {\n        return name;\n    }\n    return match || null;\n};\nexports.Globalize.format = function (value, format, cultureSelector) {\n    var culture = this.findClosestCulture(cultureSelector);\n    if (value instanceof Date) {\n        value = (0, exports.formatDate)(value, format, culture);\n    }\n    else if (typeof value === \"number\") {\n        value = (0, exports.formatNumber)(value, format, culture);\n    }\n    return value;\n};\nexports.Globalize.localize = function (key, cultureSelector) {\n    return (this.findClosestCulture(cultureSelector).messages[key]\n        ||\n            this.cultures[\"default\"].messages[\"key\"]);\n};\nexports.Globalize.parseDate = function (value, formats, culture) {\n    culture = this.findClosestCulture(culture);\n    var date, prop, patterns;\n    if (formats) {\n        if (typeof formats === \"string\") {\n            formats = [formats];\n        }\n        if (formats.length) {\n            for (var i = 0, l = formats.length; i < l; i++) {\n                var format = formats[i];\n                if (format) {\n                    date = (0, exports.parseExact)(value, format, culture);\n                    if (date) {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    else {\n        patterns = culture.calendar.patterns;\n        for (prop in patterns) {\n            date = (0, exports.parseExact)(value, patterns[prop], culture);\n            if (date) {\n                break;\n            }\n        }\n    }\n    return date || null;\n};\nexports.Globalize.parseInt = function (value, radix, cultureSelector) {\n    return Math.floor(exports.Globalize.parseFloat(value, radix, cultureSelector));\n};\nexports.Globalize.parseFloat = function (value, radix, cultureSelector) {\n    // radix argument is optional\n    if (typeof radix !== \"number\") {\n        cultureSelector = radix;\n        radix = 10;\n    }\n    var culture = this.findClosestCulture(cultureSelector);\n    var ret = NaN, nf = culture.numberFormat;\n    if (value.indexOf(culture.numberFormat.currency.symbol) > -1) {\n        // remove currency symbol\n        value = value.replace(culture.numberFormat.currency.symbol, \"\");\n        // replace decimal seperator\n        value = value.replace(culture.numberFormat.currency[\".\"], culture.numberFormat[\".\"]);\n    }\n    // trim leading and trailing whitespace\n    value = (0, exports.trim)(value);\n    // allow infinity or hexidecimal\n    if (exports.regexInfinity.test(value)) {\n        ret = parseFloat(value);\n    }\n    else if (!radix && exports.regexHex.test(value)) {\n        ret = parseInt(value, 16);\n    }\n    else {\n        var signInfo = (0, exports.parseNegativePattern)(value, nf, nf.pattern[0]), sign = signInfo[0], num = signInfo[1];\n        // determine sign and number\n        if (sign === \"\" && nf.pattern[0] !== \"-n\") {\n            signInfo = (0, exports.parseNegativePattern)(value, nf, \"-n\");\n            sign = signInfo[0];\n            num = signInfo[1];\n        }\n        sign = sign || \"+\";\n        // determine exponent and number\n        var exponent, intAndFraction, exponentPos = num.indexOf(\"e\");\n        if (exponentPos < 0)\n            exponentPos = num.indexOf(\"E\");\n        if (exponentPos < 0) {\n            intAndFraction = num;\n            exponent = null;\n        }\n        else {\n            intAndFraction = num.substring(0, exponentPos);\n            exponent = num.substring(exponentPos + 1);\n        }\n        // determine decimal position\n        var integer, fraction, decSep = nf[\".\"], decimalPos = intAndFraction.indexOf(decSep);\n        if (decimalPos < 0) {\n            integer = intAndFraction;\n            fraction = null;\n        }\n        else {\n            integer = intAndFraction.substring(0, decimalPos);\n            fraction = intAndFraction.substring(decimalPos + decSep.length);\n        }\n        // handle groups (e.g. 1,000,000)\n        var groupSep = nf[\",\"];\n        integer = integer.split(groupSep).join(\"\");\n        var altGroupSep = groupSep.replace(/\\u00A0/g, \" \");\n        if (groupSep !== altGroupSep) {\n            integer = integer.split(altGroupSep).join(\"\");\n        }\n        // build a natively parsable number string\n        var p = sign + integer;\n        if (fraction !== null) {\n            p += \".\" + fraction;\n        }\n        if (exponent !== null) {\n            // exponent itself may have a number patternd\n            var expSignInfo = (0, exports.parseNegativePattern)(exponent, nf, \"-n\");\n            p += \"e\" + (expSignInfo[0] || \"+\") + expSignInfo[1];\n        }\n        if (exports.regexParseFloat.test(p)) {\n            ret = parseFloat(p);\n        }\n    }\n    return ret;\n};\nexports.Globalize.culture = function (cultureSelector) {\n    // setter\n    if (typeof cultureSelector !== \"undefined\") {\n        this.cultureSelector = cultureSelector;\n    }\n    // getter\n    return this.findClosestCulture(cultureSelector) || this.culture[\"default\"];\n};\n//# sourceMappingURL=globalize.js.map","\"use strict\";\n/*\n *  Power BI Visualizations\n *\n *  Copyright (c) Microsoft Corporation\n *  All rights reserved.\n *  MIT License\n *\n *  Permission is hereby granted, free of charge, to any person obtaining a copy\n *  of this software and associated documentation files (the \"\"Software\"\"), to deal\n *  in the Software without restriction, including without limitation the rights\n *  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *  copies of the Software, and to permit persons to whom the Software is\n *  furnished to do so, subject to the following conditions:\n *\n *  The above copyright notice and this permission notice shall be included in\n *  all copies or substantial portions of the Software.\n *\n *  THE SOFTWARE IS PROVIDED *AS IS*, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n *  THE SOFTWARE.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addMilliseconds = exports.addSeconds = exports.addMinutes = exports.addHours = exports.addDays = exports.addWeeks = exports.addMonths = exports.addYears = void 0;\n// dateUtils module provides DateTimeSequence with set of additional date manipulation routines\nvar MonthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar MonthDaysLeap = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n/**\n * Returns bool indicating weither the provided year is a leap year.\n * @param year - year value\n */\nfunction isLeap(year) {\n    return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n}\n/**\n * Returns number of days in the provided year/month.\n * @param year - year value\n * @param month - month value\n */\nfunction getMonthDays(year, month) {\n    return isLeap(year) ? MonthDaysLeap[month] : MonthDays[month];\n}\n/**\n * Adds a specified number of years to the provided date.\n * @param date - date value\n * @param yearDelta - number of years to add\n */\nfunction addYears(date, yearDelta) {\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var isLeapDay = month === 2 && day === 29;\n    var result = new Date(date.getTime());\n    year = year + yearDelta;\n    if (isLeapDay && !isLeap(year)) {\n        day = 28;\n    }\n    result.setFullYear(year, month, day);\n    return result;\n}\nexports.addYears = addYears;\n/**\n * Adds a specified number of months to the provided date.\n * @param date - date value\n * @param monthDelta - number of months to add\n */\nfunction addMonths(date, monthDelta) {\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var result = new Date(date.getTime());\n    year += (monthDelta - (monthDelta % 12)) / 12;\n    month += monthDelta % 12;\n    // VSTS 1325771: Certain column charts don't display any data\n    // Wrap arround the month if is after december (value 11)\n    if (month > 11) {\n        month = month % 12;\n        year++;\n    }\n    day = Math.min(day, getMonthDays(year, month));\n    result.setFullYear(year, month, day);\n    return result;\n}\nexports.addMonths = addMonths;\n/**\n * Adds a specified number of weeks to the provided date.\n * @param date - date value\n * @param weeks - number of weeks to add\n */\nfunction addWeeks(date, weeks) {\n    return addDays(date, weeks * 7);\n}\nexports.addWeeks = addWeeks;\n/**\n * Adds a specified number of days to the provided date.\n * @param date - date value\n * @param days - number of days to add\n */\nfunction addDays(date, days) {\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var result = new Date(date.getTime());\n    result.setFullYear(year, month, day + days);\n    return result;\n}\nexports.addDays = addDays;\n/**\n * Adds a specified number of hours to the provided date.\n * @param date - date value\n * @param hours - number of hours to add\n */\nfunction addHours(date, hours) {\n    return new Date(date.getTime() + hours * 3600000);\n}\nexports.addHours = addHours;\n/**\n * Adds a specified number of minutes to the provided date.\n * @param date - date value\n * @param minutes - number of minutes to add\n */\nfunction addMinutes(date, minutes) {\n    return new Date(date.getTime() + minutes * 60000);\n}\nexports.addMinutes = addMinutes;\n/**\n * Adds a specified number of seconds to the provided date.\n * @param date - date value\n * @param seconds - number of seconds to add\n */\nfunction addSeconds(date, seconds) {\n    return new Date(date.getTime() + seconds * 1000);\n}\nexports.addSeconds = addSeconds;\n/**\n * Adds a specified number of milliseconds to the provided date.\n * @param date - date value\n * @param milliseconds - number of milliseconds to add\n */\nfunction addMilliseconds(date, milliseconds) {\n    return new Date(date.getTime() + milliseconds);\n}\nexports.addMilliseconds = addMilliseconds;\n//# sourceMappingURL=dateUtils.js.map","export function getValue(object, propertyName, defaultValue) {\n    if (!object) {\n        return defaultValue;\n    }\n    const propertyValue = object[propertyName];\n    if (propertyValue === undefined) {\n        return defaultValue;\n    }\n    return propertyValue;\n}\n/** Gets the solid color from a fill property using only a propertyName */\nexport function getFillColorByPropertyName(object, propertyName, defaultColor) {\n    const value = getValue(object, propertyName);\n    if (!value || !value.solid) {\n        return defaultColor;\n    }\n    return value.solid.color;\n}\n//# sourceMappingURL=dataViewObject.js.map","/**\n * Build and return formatting descriptor for simple slice\n *\n * @param objectName Object name from capabilities\n * @param slice formatting simple slice\n * @returns simple slice formatting descriptor\n */\nexport function getDescriptor(objectName, slice) {\n    return {\n        objectName: objectName,\n        propertyName: slice.name,\n        selector: slice.selector,\n        altConstantValueSelector: slice.altConstantSelector,\n        instanceKind: slice.instanceKind\n    };\n}\n/**\n * Get property value from dataview objects if exists\n * Else return the default value from formatting settings object\n *\n * @param value dataview object value\n * @param defaultValue formatting settings default value\n * @returns formatting property value\n */\nexport function getPropertyValue(slice, value, defaultValue) {\n    if (value == null || (typeof value === \"object\" && !value.solid)) {\n        return defaultValue;\n    }\n    if (value.solid) {\n        return { value: value === null || value === void 0 ? void 0 : value.solid.color };\n    }\n    if ((slice === null || slice === void 0 ? void 0 : slice.type) === \"Dropdown\" /* visuals.FormattingComponent.Dropdown */ && slice.items) {\n        const itemsArray = slice.items;\n        return itemsArray.find(item => item.value == value);\n    }\n    return value;\n}\n//# sourceMappingURL=FormattingSettingsUtils.js.map","/*\r\n *  Power BI Visual CLI\r\n *\r\n *  Copyright (c) Microsoft Corporation\r\n *  All rights reserved.\r\n *  MIT License\r\n */\r\n\"use strict\";\r\n\r\nimport powerbi from \"powerbi-visuals-api\";\r\nimport { FormattingSettingsService } from \"powerbi-visuals-utils-formattingmodel\";\r\nimport { valueFormatter } from \"powerbi-visuals-utils-formattingutils\";\r\nimport \"./../style/visual.less\";\r\n\r\nimport VisualConstructorOptions = powerbi.extensibility.visual.VisualConstructorOptions;\r\nimport VisualUpdateOptions = powerbi.extensibility.visual.VisualUpdateOptions;\r\nimport IVisual = powerbi.extensibility.visual.IVisual;\r\nimport DataView = powerbi.DataView;\r\n\r\nimport { VisualFormattingSettingsModel } from \"./settings\";\r\n\r\n// Import landing page HTML templates\r\nconst landingPage1HTML = require(\"!!raw-loader!../style/landingPage1.html\").default;\r\nconst landingPage2HTML = require(\"!!raw-loader!../style/landingPage2.html\").default;\r\nconst landingPage3HTML = require(\"!!raw-loader!../style/landingPage3.html\").default;\r\n\r\n// Interface for matrix data\r\ninterface MatrixNode {\r\n    value?: any; \r\n    children?: MatrixNode[];\r\n    values?: any | { [id: number]: any }; \r\n    isDate?: boolean;\r\n}\r\n\r\n// CSS class constants\r\nconst CSS_CLASSES = {\r\n    VISUAL_CONTAINER: \"visual-container\",\r\n    TABLE_CONTAINER: \"table-container\",\r\n    MATRIX_TABLE: \"matrix-table\",\r\n    HOVER_ENABLED: \"hover-enabled\",\r\n    ROW_HEADER: \"row-header\",\r\n    COLUMN_HEADER: \"column-header\",\r\n    DATA_CELL: \"data-cell\",\r\n    SUBTOTAL_CELL: \"subtotal-cell\",\r\n    LEVEL_0_ROW: \"level-0-row\",\r\n    LEVEL_0_HEADER: \"level-0-header\",\r\n    LEVEL_0_SUBTOTAL: \"level-0-subtotal\",\r\n    BLANK_ROW: \"blank-row\",\r\n    WITH_BORDERS: \"with-borders\",\r\n    WITH_HORIZONTAL_BORDERS: \"with-horizontal-borders\",\r\n    WITH_VERTICAL_BORDERS: \"with-vertical-borders\",\r\n    SUBTOTAL_ROW: \"subtotal-row\",\r\n    GRAND_TOTAL_ROW: \"grand-total-row\",\r\n}\r\n\r\nexport class Visual implements IVisual {\r\n    // DOM elements\r\n    private target: HTMLElement;\r\n    private tableDiv: HTMLDivElement;\r\n    private contextMenu: HTMLElement;\r\n    \r\n    // State tracking\r\n    private formattingSettings: VisualFormattingSettingsModel;\r\n    private formattingSettingsService: FormattingSettingsService;\r\n    private host: powerbi.extensibility.visual.IVisualHost;\r\n    private expandedRows: Map<string, boolean>;\r\n    private lastOptions: VisualUpdateOptions;\r\n    private animatingNodes: Set<string> = new Set();\r\n    private animationTimeouts: Map<string, number> = new Map();\r\n    private cachedFormatString: string = \"#,0.00\";\r\n    private static savedExpandedState: Map<string, boolean> = new Map<string, boolean>();\r\n    \r\n    // Context menu state\r\n    private activeNodeId: string = null;\r\n    private activeLevel: number = null;\r\n    private activeCell: HTMLElement = null;\r\n    \r\n    // Landing page state\r\n    private currentLandingPage: number = 1;\r\n    private landingPageElement: HTMLElement;\r\n    private isLandingPageOn: boolean = false;\r\n    private landingPageRemoved: boolean = false;\r\n\r\n    //=========================================================================\r\n    // INITIALIZATION\r\n    //=========================================================================\r\n    \r\n    constructor(options: VisualConstructorOptions) {\r\n        this.target = options.element;\r\n        this.host = options.host;\r\n        this.formattingSettingsService = new FormattingSettingsService();\r\n        this.expandedRows = new Map<string, boolean>();\r\n        this.createContainerElements();\r\n    }\r\n\r\n    private createContainerElements(): void {\r\n        // Create main container\r\n        const container = document.createElement(\"div\");\r\n        container.className = CSS_CLASSES.VISUAL_CONTAINER;\r\n        container.style.overflow = \"hidden\";\r\n        this.target.appendChild(container);\r\n        \r\n        // Create table container\r\n        this.tableDiv = document.createElement(\"div\");\r\n        this.tableDiv.className = CSS_CLASSES.TABLE_CONTAINER;\r\n        this.tableDiv.style.overflow = \"auto\";\r\n        this.tableDiv.style.position = \"relative\";\r\n        container.appendChild(this.tableDiv);\r\n    \r\n        // Create context menu\r\n        this.createContextMenu();\r\n    }\r\n\r\n    private createContextMenu(): void {\r\n        const contextMenu = document.createElement(\"div\");\r\n        contextMenu.className = \"custom-context-menu\";\r\n        contextMenu.style.display = \"none\";\r\n        contextMenu.style.position = \"absolute\";\r\n        contextMenu.style.zIndex = \"1000\";\r\n        \r\n        // Add Copy Value option\r\n        const copyItem = document.createElement(\"div\");\r\n        copyItem.className = \"context-menu-item\";\r\n        copyItem.setAttribute(\"data-action\", \"copyValue\");\r\n        copyItem.textContent = \"Copy Value\";\r\n        contextMenu.appendChild(copyItem);\r\n        \r\n        // Add separator\r\n        const separator = document.createElement(\"div\");\r\n        separator.className = \"context-menu-separator\";\r\n        contextMenu.appendChild(separator);\r\n        \r\n        // Add expand/collapse menu items\r\n        const menuItems = [\r\n            { id: \"expandThis\", text: \"Expand this item\" },\r\n            { id: \"collapseThis\", text: \"Collapse this item\" },\r\n            { id: \"expandLevel\", text: \"Expand all at this level\" },\r\n            { id: \"collapseLevel\", text: \"Collapse all at this level\" },\r\n            { id: \"expandAll\", text: \"Expand all\" },\r\n            { id: \"collapseAll\", text: \"Collapse all\" }\r\n        ];\r\n        \r\n        menuItems.forEach(item => {\r\n            const menuItem = document.createElement(\"div\");\r\n            menuItem.className = \"context-menu-item\";\r\n            menuItem.setAttribute(\"data-action\", item.id);\r\n            menuItem.textContent = item.text;\r\n            contextMenu.appendChild(menuItem);\r\n        });\r\n        \r\n        this.target.appendChild(contextMenu);\r\n        this.contextMenu = contextMenu;\r\n        this.setupContextMenuEvents();\r\n    }\r\n\r\n    //=========================================================================\r\n    // CORE VISUAL METHODS\r\n    //=========================================================================\r\n\r\n    public update(options: VisualUpdateOptions): void {\r\n        // Check if we have data\r\n        const hasData = options.dataViews && \r\n                     options.dataViews[0]?.metadata?.columns?.length > 0;\r\n        \r\n        if (!hasData) {\r\n            this.showLandingPage();\r\n            return;\r\n        } \r\n        \r\n        this.hideLandingPage();\r\n        this.updateVisualWithData(options);\r\n    }\r\n    \r\n    private updateVisualWithData(options: VisualUpdateOptions): void {\r\n        this.lastOptions = options;\r\n        \r\n        // Save scroll position & expanded state before clearing\r\n        const scrollTop = this.tableDiv?.scrollTop || 0;\r\n        const scrollLeft = this.tableDiv?.scrollLeft || 0;\r\n        \r\n        if (this.expandedRows?.size > 0) {\r\n            Visual.savedExpandedState = new Map<string, boolean>(this.expandedRows);\r\n        }\r\n        \r\n        // Clear previous content\r\n        this.tableDiv.innerHTML = '';\r\n        \r\n        // Validate data\r\n        if (!options?.dataViews?.[0]) return;\r\n        \r\n        // Get formatting settings\r\n        this.formattingSettings = this.formattingSettingsService.populateFormattingSettingsModel(\r\n            VisualFormattingSettingsModel,\r\n            options.dataViews[0]\r\n        );\r\n        \r\n        try {\r\n            const dataView = options.dataViews[0];\r\n            this.cachedFormatString = this.getFormatString(dataView);\r\n            \r\n            if (!dataView.matrix) return;\r\n            \r\n            // Restore the expanded state\r\n            if (Visual.savedExpandedState.size > 0) {\r\n                this.expandedRows = new Map<string, boolean>(Visual.savedExpandedState);\r\n            }\r\n            \r\n            const matrix = dataView.matrix;\r\n            const measureName = this.getMeasureName(dataView);\r\n            \r\n            // Create matrix table\r\n            this.createMatrixTable(matrix, measureName);\r\n            \r\n            // Restore scroll position\r\n            this.tableDiv.scrollTop = scrollTop;\r\n            this.tableDiv.scrollLeft = scrollLeft;\r\n            \r\n        } catch (error) {\r\n            console.error(\"Error in update:\", error);\r\n        }\r\n    }\r\n\r\n    public getFormattingModel(): powerbi.visuals.FormattingModel {\r\n        return this.formattingSettingsService.buildFormattingModel(this.formattingSettings);\r\n    }\r\n\r\n    //=========================================================================\r\n    // DATA PROCESSING\r\n    //=========================================================================\r\n\r\n    private getMeasureName(dataView: DataView): string {\r\n        // Try to get from matrix valueSources\r\n        if (dataView.matrix?.valueSources?.[0]?.displayName) {\r\n            return dataView.matrix.valueSources[0].displayName;\r\n        }\r\n        \r\n        // Try to get from metadata columns with 'values' role\r\n        if (dataView.metadata?.columns) {\r\n            const valueColumn = dataView.metadata.columns.find(col => \r\n                col.roles && (col.roles.values || col.roles.value || col.roles.measures || col.roles.measure));\r\n                \r\n            if (valueColumn?.displayName) {\r\n                return valueColumn.displayName;\r\n            }\r\n        }\r\n        \r\n        return \"Amount\"; // Default fallback\r\n    }\r\n\r\n    private getFormatString(dataView: DataView): string {\r\n        // Try to get from matrix valueSources\r\n        if (dataView.matrix?.valueSources?.[0]?.format) {\r\n            return dataView.matrix.valueSources[0].format;\r\n        }\r\n        \r\n        // Try to get from metadata columns with 'values' role\r\n        if (dataView.metadata?.columns) {\r\n            const valueColumn = dataView.metadata.columns.find(col => \r\n                col.roles && (col.roles.values || col.roles.value || col.roles.measures || col.roles.measure));\r\n                \r\n            if (valueColumn?.format) {\r\n                return valueColumn.format;\r\n            }\r\n        }\r\n        \r\n        return \"#,0.00\"; // Default fallback format\r\n    }\r\n\r\n    private formatNumber(value: number, formatString?: string): string {\r\n        formatString = formatString || this.cachedFormatString;\r\n        const formatter = valueFormatter.create({ format: formatString });\r\n        return formatter.format(value);\r\n    }\r\n\r\n    private formatDateValue(value: any, format: string = \"M/d/yyyy\"): string {\r\n        if (!value) return \"\";\r\n        \r\n        try {\r\n            // Handle date objects stored in an object with epochTimeStamp\r\n            if (typeof value === 'object' && value.epochTimeStamp) {\r\n                const date = new Date(value.epochTimeStamp);\r\n                \r\n                // Default simple format if no format specified\r\n                if (!format || format === \"d\") {\r\n                    return date.toLocaleDateString();\r\n                }\r\n                \r\n                // Extract date components\r\n                const month = date.getMonth() + 1;\r\n                const day = date.getDate();\r\n                const year = date.getFullYear();\r\n                \r\n                // Replace format tokens with actual values\r\n                let formattedDate = format;\r\n                formattedDate = formattedDate.replace(/M+/g, month.toString().padStart(2, '0'));\r\n                formattedDate = formattedDate.replace(/d+/g, day.toString().padStart(2, '0'));\r\n                formattedDate = formattedDate.replace(/yyyy/g, year.toString());\r\n                formattedDate = formattedDate.replace(/yy/g, year.toString().slice(-2));\r\n                \r\n                return formattedDate;\r\n            }\r\n            \r\n            // Handle native Date objects\r\n            if (value instanceof Date) {\r\n                return value.toLocaleDateString();\r\n            }\r\n            \r\n            return String(value);\r\n        } catch (error) {\r\n            console.error(\"Error formatting date:\", error);\r\n            return String(value);\r\n        }\r\n    }\r\n\r\n    private formatCellValue(value: any): string {\r\n        if (value === null || value === undefined) {\r\n            return \"\";\r\n        }\r\n        \r\n        if (typeof value === 'number') {\r\n            return this.formatNumber(value);\r\n        }\r\n        \r\n        if (typeof value === 'object') {\r\n            // Extract value from object\r\n            if ('value' in value) {\r\n                const cellValue = value.value;\r\n                if (typeof cellValue === 'number') {\r\n                    return this.formatNumber(cellValue);\r\n                } else if (cellValue === null || cellValue === undefined || \r\n                        (typeof cellValue === 'object' && Object.keys(cellValue).length === 0)) {\r\n                    return \"\";\r\n                } else {\r\n                    return String(cellValue);\r\n                }\r\n            } else if (Object.keys(value).length === 0) {\r\n                return \"\";\r\n            } else {\r\n                return JSON.stringify(value);\r\n            }\r\n        }\r\n        \r\n        return String(value);\r\n    }\r\n\r\n    // Calculate subtotal for a parent node and column\r\n    private calculateSubtotalForColumn(parentNode: any, columnIndex: number): number {\r\n        if (!parentNode?.children?.length) {\r\n            return 0;\r\n        }\r\n        \r\n        let total = 0;\r\n        \r\n        for (const child of parentNode.children) {\r\n            if (child.children?.length > 0) {\r\n                // Recursively get subtotals from children\r\n                total += this.calculateSubtotalForColumn(child, columnIndex);\r\n            } else {\r\n                // Leaf node with values\r\n                if (child.values?.[columnIndex]?.value !== null && \r\n                    child.values[columnIndex]?.value !== undefined &&\r\n                    typeof child.values[columnIndex].value === 'number') {\r\n                    total += child.values[columnIndex].value;\r\n                }\r\n            }\r\n        }\r\n        \r\n        return total;\r\n    }\r\n    \r\n    private calculateGrandTotals(matrix: powerbi.DataViewMatrix, columns: any[]): number[] {\r\n        const totals: number[] = new Array(columns.length).fill(0);\r\n        \r\n        // If no rows, return zeros\r\n        if (!matrix.rows?.root?.children) {\r\n            return totals;\r\n        }\r\n        \r\n        // Function to recursively process all leaf nodes\r\n        const processNode = (node: any) => {\r\n            if (node.children && node.children.length > 0) {\r\n                // Process children recursively\r\n                for (const child of node.children) {\r\n                    processNode(child);\r\n                }\r\n            } else if (node.values) {\r\n                // This is a leaf node with values\r\n                for (let i = 0; i < columns.length; i++) {\r\n                    if (node.values[i]?.value !== null && \r\n                        node.values[i]?.value !== undefined &&\r\n                        typeof node.values[i].value === 'number') {\r\n                        totals[i] += node.values[i].value;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        \r\n        // Process all rows starting from the root\r\n        for (const row of matrix.rows.root.children) {\r\n            processNode(row);\r\n        }\r\n        \r\n        return totals;\r\n    }\r\n\r\n    //=========================================================================\r\n    // TABLE CREATION AND RENDERING\r\n    //=========================================================================\r\n\r\n    private createMatrixTable(matrix: powerbi.DataViewMatrix, measureName: string): void {\r\n        // Create table\r\n        const table = document.createElement(\"table\");\r\n        table.className = CSS_CLASSES.MATRIX_TABLE;\r\n        \r\n        this.tableDiv.appendChild(table);\r\n        \r\n        // Check if we have rows\r\n        if (!matrix.rows?.root) {\r\n            return;\r\n        }\r\n        \r\n        // Process columns\r\n        const { columns, columnFormats } = this.processColumns(matrix, measureName);\r\n        \r\n        // Create table header\r\n        this.createTableHeader(table, columns, columnFormats);\r\n        \r\n        // Create table body\r\n        const tbody = document.createElement(\"tbody\");\r\n        table.appendChild(tbody);\r\n        \r\n        // Initialize level 0 items as expanded if not already set\r\n        if (matrix.rows.root.children) {\r\n            matrix.rows.root.children.forEach((row) => {\r\n                const nodeId = this.getNodeId(row, 0);\r\n                if (!this.expandedRows.has(nodeId)) {\r\n                    this.expandedRows.set(nodeId, true); // Level 0 default to expanded\r\n                }\r\n            });\r\n        }\r\n        \r\n        // Render rows with current expanded state\r\n        if (matrix.rows.root.children) {\r\n            this.renderRowsWithSubtotals(table, matrix.rows.root.children, columns, 0, \"\");\r\n        }\r\n        \r\n        // Calculate grand totals\r\n        const grandTotals = this.calculateGrandTotals(matrix, columns);\r\n    \r\n        // Add grand total row\r\n        this.addGrandTotalRow(table, columns, grandTotals);\r\n    \r\n        // Apply all formatting\r\n        this.applyTableFormatting(table);\r\n        \r\n        // Save expanded state after table creation\r\n        Visual.savedExpandedState = new Map(this.expandedRows);\r\n    }\r\n\r\n    private processColumns(matrix: powerbi.DataViewMatrix, measureName: string): { columns: any[], columnFormats: string[] } {\r\n        let columns: any[] = [];\r\n        let columnFormats: string[] = [];\r\n        \r\n        if (matrix.columns?.root?.children) {\r\n            columns = matrix.columns.root.children;\r\n            \r\n            // Extract column formats if columns are dates\r\n            if (matrix.columns.levels?.[0]?.sources?.[0]?.format) {\r\n                const columnSource = matrix.columns.levels[0].sources[0];\r\n                // Use the same format for all columns if they come from the same source\r\n                columnFormats = columns.map(() => columnSource.format);\r\n            }\r\n        } else {\r\n            // If no columns, create a single column for the measure\r\n            columns = [{ value: null }]; // Empty column header\r\n            columnFormats = [\"\"];\r\n        }\r\n        \r\n        return { columns, columnFormats };\r\n    }\r\n    \r\n    private createTableHeader(table: HTMLTableElement, columns: any[], columnFormats: string[]): void {\r\n        const thead = document.createElement(\"thead\");\r\n        const headerRow = document.createElement(\"tr\");\r\n        \r\n        // Add corner cell\r\n        const cornerCell = this.createCornerCell();\r\n        headerRow.appendChild(cornerCell);\r\n        \r\n        // Add column headers\r\n        columns.forEach((column, index) => {\r\n            const columnHeader = this.createColumnHeader(column, columnFormats[index]);\r\n            headerRow.appendChild(columnHeader);\r\n        });\r\n        \r\n        thead.appendChild(headerRow);\r\n        table.appendChild(thead);\r\n    }\r\n\r\n    private renderRowsWithSubtotals(\r\n        table: HTMLTableElement, \r\n        rows: any[], \r\n        columns: any[], \r\n        level: number = 0, \r\n        parentId: string = \"\"\r\n    ): void {\r\n        if (!rows?.length) return;\r\n        \r\n        const tbody = table.querySelector('tbody') as HTMLTableSectionElement;\r\n        const columnWidth = this.formattingSettings.generalSettings.columnWidth.value;\r\n        \r\n        rows.forEach((row, rowIndex) => {\r\n            const nodeId = parentId + this.getNodeId(row, level);\r\n            \r\n            // Default to expanded for level 0 if not explicitly set\r\n            if (level === 0 && !this.expandedRows.has(nodeId)) {\r\n                this.expandedRows.set(nodeId, true);\r\n            }\r\n            \r\n            // Get expanded state from our map, default to false for non-level-0\r\n            const isExpanded = this.expandedRows.get(nodeId) ?? false;\r\n            const isLevel0 = level === 0;\r\n            \r\n            // Create the table row\r\n            const tr = document.createElement(\"tr\");\r\n            tr.setAttribute(\"data-node-id\", nodeId);\r\n            tr.setAttribute(\"data-level\", String(level));\r\n            \r\n            if (parentId) {\r\n                tr.setAttribute(\"data-parent-id\", parentId);\r\n            }\r\n            \r\n            if (level > 0) {\r\n                tr.classList.add(\"expandable-row\");\r\n                \r\n                // Check if parent is expanded\r\n                const parentExpanded = this.expandedRows.get(parentId) ?? false;\r\n                \r\n                // Hide this row if parent is collapsed OR this level is not expanded by default\r\n                if (!parentExpanded) {\r\n                    tr.classList.add(\"collapsed\");\r\n                }\r\n            }\r\n            \r\n            if (isLevel0) {\r\n                tr.classList.add(CSS_CLASSES.LEVEL_0_ROW);\r\n            }\r\n            \r\n            if (row.children?.length > 0) {\r\n                tr.classList.add(CSS_CLASSES.SUBTOTAL_ROW);\r\n            }\r\n            \r\n            // Add row header\r\n            const rowHeader = this.createRowHeader(row, level, nodeId, isExpanded, isLevel0);\r\n            tr.appendChild(rowHeader);\r\n            \r\n            // Add data cells\r\n            if (row.children?.length > 0) {\r\n                this.addSubtotalCells(tr, row, columns, isLevel0, columnWidth);\r\n            } else if (row.values) {\r\n                this.addDataCells(tr, row, columns, columnWidth);\r\n            }\r\n            \r\n            tbody.appendChild(tr);\r\n            \r\n            // If this node has children, always render them\r\n            if (row.children?.length > 0) {\r\n                // Set initial collapsed state for children based on parent\r\n                if (!isExpanded) {\r\n                    this.setChildrenCollapsed(nodeId, row.children, level + 1);\r\n                }\r\n                \r\n                this.renderRowsWithSubtotals(table, row.children, columns, level + 1, nodeId);\r\n            }\r\n            \r\n            // Add blank row if needed\r\n            this.addBlankRowIfNeeded(tbody, columns, rowIndex, rows.length, row, level);\r\n        });\r\n    }\r\n\r\n    //=========================================================================\r\n    // CELL AND ELEMENT CREATION\r\n    //=========================================================================\r\n\r\n    private createCornerCell(): HTMLTableHeaderCellElement {\r\n        const cornerCell = document.createElement(\"th\");\r\n        cornerCell.className = `${CSS_CLASSES.ROW_HEADER} ${CSS_CLASSES.COLUMN_HEADER}`;\r\n        cornerCell.setAttribute(\"style\", \r\n            \"position: sticky !important; \" + \r\n            \"top: 0 !important; \" + \r\n            \"left: 0 !important; \" + \r\n            \"z-index: 1000 !important; \" + \r\n            \"background-color: #e0e0e0;\"\r\n        );\r\n\r\n        this.applyFormatting(cornerCell, 'columnHeader');\r\n        return cornerCell;\r\n    }\r\n    \r\n    private createColumnHeader(column: any, format: string): HTMLTableHeaderCellElement {\r\n        const th = document.createElement(\"th\");\r\n        th.className = CSS_CLASSES.COLUMN_HEADER;\r\n        \r\n        // Apply column width\r\n        const columnWidth = this.formattingSettings.generalSettings.columnWidth.value;\r\n        if (columnWidth) {\r\n            th.style.minWidth = `${columnWidth}px`;\r\n            th.style.width = `${columnWidth}px`;\r\n        }\r\n        \r\n        // Apply formatting\r\n        this.applyFormatting(th, 'columnHeader');\r\n        \r\n        // Set header text\r\n        if (column.value !== null && column.value !== undefined) {\r\n            // Format date headers properly\r\n            if (column.isDate || (typeof column.value === 'object' && column.value.epochTimeStamp)) {\r\n                th.textContent = this.formatDateValue(column.value, format || \"d\");\r\n            } else {\r\n                th.textContent = String(column.value);\r\n            }\r\n        } else {\r\n            th.textContent = this.getMeasureName(this.lastOptions.dataViews[0]);\r\n        }\r\n        \r\n        return th;\r\n    }\r\n\r\n    private createRowHeader(\r\n        row: MatrixNode, \r\n        level: number, \r\n        nodeId: string, \r\n        isExpanded: boolean,\r\n        isLevel0: boolean\r\n    ): HTMLTableHeaderCellElement {\r\n        const rowHeader = document.createElement(\"th\");\r\n        rowHeader.className = CSS_CLASSES.ROW_HEADER;\r\n        \r\n        if (isLevel0) {\r\n            rowHeader.classList.add(CSS_CLASSES.LEVEL_0_HEADER);\r\n        }\r\n        \r\n        // Apply row header width\r\n        const rowHeaderWidth = this.formattingSettings.generalSettings.rowHeaderWidth.value;\r\n        if (rowHeaderWidth) {\r\n            rowHeader.style.minWidth = `${rowHeaderWidth}px`;\r\n            rowHeader.style.width = `${rowHeaderWidth}px`;\r\n        }\r\n        \r\n        // Create header content\r\n        const headerContent = document.createElement(\"div\");\r\n        headerContent.className = \"row-header-content\";\r\n        headerContent.style.marginLeft = `${level * 20}px`;\r\n        headerContent.style.display = \"flex\";\r\n        headerContent.style.alignItems = \"center\";\r\n    \r\n        // Add toggle button or spacer\r\n        if (row.children?.length > 0) {\r\n            // Use the actual expanded state from the map, not the parameter\r\n            const actualIsExpanded = this.expandedRows.get(nodeId) === true;\r\n            const toggleButton = this.createToggleButton(nodeId, actualIsExpanded);\r\n            headerContent.appendChild(toggleButton);\r\n        } else {\r\n            // Add spacer for better alignment\r\n            const spacer = document.createElement(\"span\");\r\n            spacer.className = \"toggle-spacer\";\r\n            spacer.textContent = \"  \";\r\n            spacer.style.flexShrink = \"0\";\r\n            headerContent.appendChild(spacer);\r\n        }\r\n        \r\n        // Add the row label\r\n        const label = this.createRowLabel(row);\r\n        headerContent.appendChild(label);\r\n        rowHeader.appendChild(headerContent);\r\n        \r\n        // Apply formatting based on level\r\n        if (isLevel0) {\r\n            this.applyFormatting(rowHeader, 'subtotal');\r\n        } else {\r\n            this.applyFormatting(rowHeader, 'rowHeader');\r\n        }\r\n        \r\n        return rowHeader;\r\n    }\r\n\r\n    private createRowLabel(row: MatrixNode): HTMLSpanElement {\r\n        const label = document.createElement(\"span\");\r\n        label.className = \"row-label\";\r\n        label.style.width = \"100%\";\r\n\r\n        // Format date row headers properly\r\n        if (row.isDate || (typeof row.value === 'object' && row.value.epochTimeStamp)) {\r\n            label.textContent = this.formatDateValue(row.value);\r\n        } else {\r\n            label.textContent = row.value !== null && row.value !== undefined ? String(row.value) : \"\";\r\n        }\r\n\r\n        // Apply alignment\r\n        const alignment = this.formattingSettings.rowHeaderFormatSettings.alignment?.value?.value;\r\n        if (alignment) {\r\n            label.style.textAlign = String(alignment);\r\n            label.style.display = \"block\";\r\n        }\r\n\r\n        return label;\r\n    }\r\n\r\n    private createToggleButton(nodeId: string, isExpanded: boolean): HTMLSpanElement {\r\n        const toggleButton = document.createElement(\"span\");\r\n        toggleButton.className = \"toggle-button\";\r\n        toggleButton.textContent = isExpanded ? '' : '';\r\n        toggleButton.style.cursor = \"pointer\";\r\n        \r\n        toggleButton.onclick = (event) => {\r\n            event.stopPropagation();\r\n            if (!toggleButton.hasAttribute('data-animating')) {\r\n                this.toggleExpanded(nodeId);\r\n            }\r\n        };\r\n        \r\n        return toggleButton;\r\n    }\r\n\r\n    private addDataCells(\r\n        tr: HTMLTableRowElement, \r\n        row: any,\r\n        columns: any[], \r\n        columnWidth: number\r\n    ): void {\r\n        columns.forEach((_, j) => {\r\n            const td = document.createElement(\"td\");\r\n            td.className = CSS_CLASSES.DATA_CELL;\r\n            \r\n            // Apply column width\r\n            if (columnWidth) {\r\n                td.style.minWidth = `${columnWidth}px`;\r\n                td.style.width = `${columnWidth}px`;\r\n            }\r\n            \r\n            // Get cell value and format it\r\n            const value = row.values[j];\r\n            td.textContent = this.formatCellValue(value);\r\n            \r\n            // Store the raw value as a data attribute\r\n            if (value && typeof value.value === 'number') {\r\n                td.setAttribute('data-raw-value', value.value.toString());\r\n            }\r\n            \r\n            tr.appendChild(td);\r\n        });\r\n    }\r\n\r\n    private addSubtotalCells(\r\n        tr: HTMLTableRowElement, \r\n        row: MatrixNode, \r\n        columns: any[], \r\n        isLevel0: boolean,\r\n        columnWidth: number\r\n    ): void {\r\n        columns.forEach((_, j) => {\r\n            const td = document.createElement(\"td\");\r\n            td.className = `${CSS_CLASSES.DATA_CELL} ${CSS_CLASSES.SUBTOTAL_CELL}`;\r\n            \r\n            if (isLevel0) {\r\n                td.classList.add(CSS_CLASSES.LEVEL_0_SUBTOTAL);\r\n            }\r\n            \r\n            // Apply column width\r\n            if (columnWidth) {\r\n                td.style.minWidth = `${columnWidth}px`;\r\n                td.style.width = `${columnWidth}px`;\r\n            }\r\n            \r\n            // Calculate subtotal\r\n            const subtotal = this.calculateSubtotalForColumn(row, j);\r\n            \r\n            // Only display non-zero subtotals\r\n            td.textContent = subtotal !== 0 ? this.formatNumber(subtotal) : \"\";\r\n            \r\n            // Apply alignment from subtotal settings for subtotal cells\r\n            const alignment = this.formattingSettings.subtotalFormatSettings.alignment?.value?.value;\r\n            if (alignment !== undefined) {\r\n                td.style.textAlign = alignment.toString();\r\n            }\r\n            \r\n            tr.appendChild(td);\r\n        });\r\n    }\r\n\r\n    private addGrandTotalRow(table: HTMLTableElement, columns: any[], totals: number[]): void {\r\n        const settings = this.formattingSettings;\r\n        \r\n        // Check if grand total is enabled\r\n        if (!settings.grandTotalSettings.show.value) {\r\n            return;\r\n        }\r\n        \r\n        // Get the footer or create one if it doesn't exist\r\n        let tfoot = table.querySelector('tfoot');\r\n        if (!tfoot) {\r\n            tfoot = document.createElement('tfoot');\r\n            table.appendChild(tfoot);\r\n        } else {\r\n            // Clear existing content\r\n            tfoot.innerHTML = '';\r\n        }\r\n        \r\n        this.addBlankRowBeforeTotal(tfoot, columns);\r\n\r\n        // Create the grand total row\r\n        const tr = document.createElement('tr');\r\n        tr.className = CSS_CLASSES.GRAND_TOTAL_ROW;\r\n        \r\n        // Set the row to be sticky to the bottom\r\n        tr.style.position = 'sticky';\r\n        tr.style.bottom = '0';\r\n        tr.style.zIndex = '5';\r\n        \r\n        // Create the label cell\r\n        const labelCell = document.createElement('th');\r\n        labelCell.textContent = settings.grandTotalSettings.label.value || 'Grand Total';\r\n        labelCell.style.position = 'sticky';\r\n        labelCell.style.left = '0';\r\n        labelCell.style.zIndex = '6'; // Higher than the row to ensure it stays on top\r\n        tr.appendChild(labelCell);\r\n        \r\n        // Create the total cells\r\n        totals.forEach((total, i) => {\r\n            const td = document.createElement('td');\r\n            td.textContent = this.formatNumber(total);\r\n            tr.appendChild(td);\r\n        });\r\n        \r\n        // Apply formatting to each cell in the grand total row\r\n        const cells = tr.querySelectorAll('th, td');\r\n        cells.forEach(cell => {\r\n            this.applyFormatting(cell as HTMLElement, 'grandTotal');\r\n        });\r\n        \r\n        // Add the row to the footer\r\n        tfoot.appendChild(tr);\r\n    }\r\n\r\n    private addBlankRowIfNeeded(\r\n        tbody: HTMLTableSectionElement, \r\n        columns: any[], \r\n        currentIndex: number, \r\n        totalRows: number, \r\n        currentRow: MatrixNode,\r\n        level: number\r\n    ): void {\r\n        const blankRowSettings = this.formattingSettings.blankRowSettings;\r\n        \r\n        // Only add blank rows if the setting is enabled and this is a level 0 row (not the last one)\r\n        if (!blankRowSettings.enableBlankRows.value || level !== 0 || currentIndex >= totalRows - 1) {\r\n            return;\r\n        }\r\n        \r\n        // Create blank row\r\n        const blankRow = document.createElement(\"tr\");\r\n        blankRow.className = CSS_CLASSES.BLANK_ROW;\r\n        \r\n        // Set the height if specified\r\n        const rowHeight = blankRowSettings.height.value;\r\n        if (rowHeight > 0) {\r\n            blankRow.style.height = `${rowHeight}px`;\r\n        }\r\n        \r\n        // Create a cell that spans all columns\r\n        const blankCell = document.createElement(\"td\");\r\n        blankCell.colSpan = columns.length + 1; // +1 for row header column\r\n        \r\n        // Apply background color from settings\r\n        const bgColor = blankRowSettings.backgroundColor.value.value;\r\n        if (bgColor) {\r\n            blankCell.style.backgroundColor = bgColor;\r\n        }\r\n        \r\n        // Add the cell to the row and the row to the table\r\n        blankRow.appendChild(blankCell);\r\n        tbody.appendChild(blankRow);\r\n    }\r\n    \r\n    private addBlankRowBeforeTotal(tfoot: HTMLTableSectionElement, columns: any[]): void {\r\n        const blankRowSettings = this.formattingSettings.blankRowSettings;\r\n        \r\n        // Only add blank row if the setting is enabled\r\n        if (!blankRowSettings.enableBlankRows.value) {\r\n            return;\r\n        }\r\n        \r\n        // Create blank row\r\n        const blankRow = document.createElement(\"tr\");\r\n        blankRow.className = CSS_CLASSES.BLANK_ROW;\r\n        \r\n        // Set the height if specified\r\n        const rowHeight = blankRowSettings.height.value;\r\n        if (rowHeight > 0) {\r\n            blankRow.style.height = `${rowHeight}px`;\r\n        }\r\n        \r\n        // Create a cell that spans all columns\r\n        const blankCell = document.createElement(\"td\");\r\n        blankCell.colSpan = columns.length + 1; // +1 for row header column\r\n        \r\n        // Apply background color from settings\r\n        const bgColor = blankRowSettings.backgroundColor.value.value;\r\n        if (bgColor) {\r\n            blankCell.style.backgroundColor = bgColor;\r\n        }\r\n        \r\n        // Add the cell to the row and the row to the table footer\r\n        blankRow.appendChild(blankCell);\r\n        tfoot.appendChild(blankRow);\r\n    }\r\n\r\n    //=========================================================================\r\n    // FORMATTING AND STYLING\r\n    //=========================================================================\r\n\r\n    private applyTableFormatting(table: HTMLTableElement): void {\r\n        if (!this.formattingSettings) return;\r\n        \r\n        try {\r\n            // Apply font family\r\n            const fontFamily = this.formattingSettings.generalSettings.fontFamily.value;\r\n            if (fontFamily) {\r\n                table.style.fontFamily = fontFamily;\r\n            }\r\n            \r\n            // Apply formatting to different cell types\r\n            this.formatCellsByType(table);\r\n            \r\n            // Apply global border settings\r\n            this.applyGlobalBorders(table);\r\n            \r\n        } catch (error) {\r\n            console.error(\"Error applying formatting:\", error);\r\n        }\r\n    }\r\n\r\n    private formatCellsByType(table: HTMLTableElement): void {\r\n        // Use CSS selectors to get different cell types\r\n        const regularCells = table.querySelectorAll('td.data-cell:not(.subtotal-cell):not(.level-0-subtotal)');\r\n        const subtotalCells = table.querySelectorAll('td.subtotal-cell, td.level-0-subtotal');\r\n        const regularRowHeaders = table.querySelectorAll('tr:not(.subtotal-row) > th.row-header');\r\n        const subtotalRowHeaders = table.querySelectorAll('tr.subtotal-row > th.row-header');\r\n        const columnHeaderCells = table.querySelectorAll('th.column-header:not(.row-header)');\r\n        const cornerCell = table.querySelector('th.row-header.column-header');\r\n    \r\n        // Apply formatting to each cell type\r\n        regularCells.forEach(cell => this.applyFormatting(cell as HTMLElement, 'data'));\r\n        subtotalCells.forEach(cell => this.applyFormatting(cell as HTMLElement, 'subtotal'));\r\n        regularRowHeaders.forEach(cell => this.applyFormatting(cell as HTMLElement, 'rowHeader'));\r\n        subtotalRowHeaders.forEach(cell => this.applyFormatting(cell as HTMLElement, 'subtotal'));\r\n        columnHeaderCells.forEach(cell => this.applyFormatting(cell as HTMLElement, 'columnHeader'));\r\n        \r\n        if (cornerCell) {\r\n            this.applyFormatting(cornerCell as HTMLElement, 'columnHeader');\r\n        }\r\n    }\r\n\r\n    private applyFormatting(\r\n        element: HTMLElement, \r\n        type: 'data' | 'rowHeader' | 'columnHeader' | 'subtotal' | 'grandTotal'\r\n    ): void {\r\n        const settings = this.formattingSettings;\r\n        if (!settings) return;\r\n                \r\n        // Get the appropriate formatting settings based on type\r\n        let formatSettings;\r\n        switch (type) {\r\n            case 'data': formatSettings = settings.fontFormatSettings; break;\r\n            case 'rowHeader': formatSettings = settings.rowHeaderFormatSettings; break;\r\n            case 'columnHeader': formatSettings = settings.columnHeaderFormatSettings; break;\r\n            case 'subtotal': formatSettings = settings.subtotalFormatSettings; break;\r\n            case 'grandTotal': formatSettings = settings.grandTotalSettings; break;\r\n        }\r\n        \r\n        // Apply global font family\r\n        const globalFontFamily = settings.generalSettings.fontFamily.value;\r\n        if (globalFontFamily) {\r\n            element.style.fontFamily = globalFontFamily;\r\n        }\r\n        \r\n        // Apply global font size\r\n        const globalFontSize = settings.generalSettings.fontSize.value;\r\n        if (globalFontSize) {\r\n            element.style.fontSize = `${globalFontSize}pt`;\r\n        }\r\n        \r\n        // Apply each property if it exists\r\n        if (formatSettings) {\r\n            // Color\r\n            if (formatSettings.color?.value?.value) {\r\n                element.style.color = formatSettings.color.value.value;\r\n            }\r\n            \r\n            // Font size - only apply if global size is not set\r\n            if (!globalFontSize && formatSettings.fontSize?.value) {\r\n                element.style.fontSize = `${formatSettings.fontSize.value}pt`;\r\n            }\r\n            \r\n            // Background color\r\n            if (formatSettings.backgroundColor?.value?.value) {\r\n                element.style.backgroundColor = formatSettings.backgroundColor.value.value;\r\n            }\r\n            \r\n            // Font styling\r\n            element.style.fontWeight = formatSettings.bold?.value ? 'bold' : 'normal';\r\n            element.style.fontStyle = formatSettings.italic?.value ? 'italic' : 'normal';\r\n            element.style.textDecoration = formatSettings.underline?.value ? 'underline' : 'none';\r\n            \r\n            // Alignment - special handling for grand total labels\r\n            if (formatSettings.alignment?.value?.value !== undefined) {\r\n                // Special handling for grand total label cell\r\n                if (type === 'grandTotal' && element.tagName === 'TH') {\r\n                    element.style.textAlign = 'left';\r\n                } else {\r\n                    element.style.textAlign = formatSettings.alignment.value.value.toString();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private applyGlobalBorders(table: HTMLTableElement): void {\r\n        const borderSettings = this.formattingSettings.borderSettings;\r\n        \r\n        if (!borderSettings?.show?.value) {\r\n            // If borders are turned off, remove all border classes\r\n            table.classList.remove(CSS_CLASSES.WITH_BORDERS, \r\n                CSS_CLASSES.WITH_HORIZONTAL_BORDERS, \r\n                CSS_CLASSES.WITH_VERTICAL_BORDERS);\r\n            return;\r\n        }\r\n        \r\n        // Get border properties\r\n        const borderColor = borderSettings.color.value.value;\r\n        const borderWidth = borderSettings.width.value;\r\n        const showHorizontal = borderSettings.horizontalBorders.value;\r\n        const showVertical = borderSettings.verticalBorders.value;\r\n        \r\n        // Add classes based on which borders are enabled\r\n        table.classList.add(CSS_CLASSES.WITH_BORDERS);\r\n        \r\n        if (showHorizontal) {\r\n            table.classList.add(CSS_CLASSES.WITH_HORIZONTAL_BORDERS);\r\n        } else {\r\n            table.classList.remove(CSS_CLASSES.WITH_HORIZONTAL_BORDERS);\r\n        }\r\n        \r\n        if (showVertical) {\r\n            table.classList.add(CSS_CLASSES.WITH_VERTICAL_BORDERS);\r\n        } else {\r\n            table.classList.remove(CSS_CLASSES.WITH_VERTICAL_BORDERS);\r\n        }\r\n        \r\n        // Set CSS variables for border styling\r\n        table.style.setProperty('--border-color', borderColor);\r\n        table.style.setProperty('--border-width', `${borderWidth}px`);\r\n        table.style.setProperty('--border-style', 'solid');\r\n        \r\n        // Apply specific border styles to row headers to fix animation issues\r\n        this.fixHeaderBorders();\r\n    }\r\n\r\n    private fixHeaderBorders(): void {\r\n        if (!this.formattingSettings?.borderSettings?.show?.value) return;\r\n        \r\n        const borderSettings = this.formattingSettings.borderSettings;\r\n        const borderColor = borderSettings.color.value.value;\r\n        const borderWidth = borderSettings.width.value;\r\n        const showHorizontal = borderSettings.horizontalBorders.value;\r\n        const showVertical = borderSettings.verticalBorders.value;\r\n        \r\n        // Target all row headers specifically\r\n        const rowHeaders = this.tableDiv.querySelectorAll('th.row-header');\r\n        rowHeaders.forEach(header => {\r\n            const headerEl = header as HTMLElement;\r\n            \r\n            // Clear any inline border styles first to avoid conflicts\r\n            headerEl.style.removeProperty('border');\r\n            headerEl.style.removeProperty('border-top');\r\n            headerEl.style.removeProperty('border-bottom');\r\n            headerEl.style.removeProperty('border-left');\r\n            headerEl.style.removeProperty('border-right');\r\n            \r\n            // Then reapply proper border styles with !important\r\n            headerEl.style.cssText += `\r\n                border-color: ${borderColor} !important;\r\n                border-style: solid !important;\r\n                ${showVertical ? `\r\n                    border-left-width: ${borderWidth}px !important;\r\n                    border-right-width: ${borderWidth}px !important;\r\n                ` : `\r\n                    border-left-width: 0 !important;\r\n                    border-right-width: 0 !important;\r\n                `}\r\n                ${showHorizontal ? `\r\n                    border-top-width: ${borderWidth}px !important;\r\n                    border-bottom-width: ${borderWidth}px !important;\r\n                ` : `\r\n                    border-top-width: 0 !important;\r\n                    border-bottom-width: 0 !important;\r\n                `}\r\n            `;\r\n        });\r\n    }\r\n\r\n    //=========================================================================\r\n    // EXPAND/COLLAPSE FUNCTIONALITY\r\n    //=========================================================================\r\n\r\n    private getNodeId(node: any, level: number): string {\r\n        let value;\r\n        \r\n        // Ensure we have a consistent string representation\r\n        if (node.value !== null && node.value !== undefined) {\r\n            // For date values, get a consistent string representation\r\n            if (node.value instanceof Date || \r\n                (typeof node.value === 'object' && node.value.epochTimeStamp)) {\r\n                // Convert date to consistent string format\r\n                const dateValue = node.value instanceof Date ? \r\n                    node.value : new Date(node.value.epochTimeStamp);\r\n                    \r\n                value = dateValue.toISOString();\r\n            } else {\r\n                value = String(node.value);\r\n            }\r\n        } else {\r\n            value = \"null\";\r\n        }\r\n        \r\n        // Create a consistent node ID\r\n        return `level_${level}_${value}`;\r\n    }\r\n\r\n    private toggleExpanded(nodeId: string): void {\r\n        // Prevent action if this node is currently animating\r\n        if (this.animatingNodes.has(nodeId) || this.animatingNodes.size > 0) {\r\n            return;\r\n        }\r\n        \r\n        // Mark this node as animating\r\n        this.animatingNodes.add(nodeId);\r\n        \r\n        // Get current expanded state and update it\r\n        const isExpanded = this.expandedRows.get(nodeId) ?? false;\r\n        this.expandedRows.set(nodeId, !isExpanded);\r\n        \r\n        // Get direct children for animation\r\n        const directChildren = Array.from(\r\n            this.tableDiv.querySelectorAll(`tr[data-parent-id=\"${nodeId}\"]`)\r\n        ) as HTMLElement[];\r\n        \r\n        // Update toggle button appearance immediately\r\n        const toggleButton = this.tableDiv.querySelector(`tr[data-node-id=\"${nodeId}\"] .toggle-button`) as HTMLElement;\r\n        if (toggleButton) {\r\n            toggleButton.textContent = !isExpanded ? '' : '';\r\n        }\r\n        \r\n        // Save state\r\n        Visual.savedExpandedState = new Map(this.expandedRows);\r\n        \r\n        // Disable all toggle buttons during animation\r\n        this.disableAllToggleButtons();\r\n        \r\n        // Set safety timeout\r\n        const timeout = window.setTimeout(() => {\r\n            this.cleanupAnimation(nodeId);\r\n        }, 500);\r\n        \r\n        this.animationTimeouts.set(nodeId, timeout);\r\n        \r\n        if (isExpanded) {\r\n            this.animateCollapse(directChildren, nodeId);\r\n        } else {\r\n            this.animateExpand(directChildren, nodeId);\r\n        }\r\n    }\r\n\r\n    //=========================================================================\r\n    // ANIMATION METHODS\r\n    //=========================================================================\r\n\r\n    private disableAllToggleButtons(): void {\r\n        const allButtons = this.tableDiv.querySelectorAll('.toggle-button');\r\n        allButtons.forEach((btn: HTMLElement) => {\r\n            btn.style.cursor = \"not-allowed\";\r\n            btn.style.opacity = \"0.5\";\r\n            btn.setAttribute('data-animating', 'true');\r\n        });\r\n    }\r\n\r\n    private animateExpand(rows: HTMLElement[], nodeId: string): void {\r\n        if (rows.length === 0) {\r\n            this.cleanupAnimation(nodeId);\r\n            return;\r\n        }\r\n        \r\n        // Save border styles before animation\r\n        rows.forEach(row => {\r\n            const borderData = {\r\n                borderTopWidth: row.style.borderTopWidth,\r\n                borderBottomWidth: row.style.borderBottomWidth,\r\n                borderLeftWidth: row.style.borderLeftWidth,\r\n                borderRightWidth: row.style.borderRightWidth,\r\n                borderColor: row.style.borderColor,\r\n                borderStyle: row.style.borderStyle\r\n            };\r\n            row.setAttribute('data-border-state', JSON.stringify(borderData));\r\n        });\r\n        \r\n        // Prepare rows for animation\r\n        rows.forEach(row => {\r\n            row.classList.remove('collapsed', 'collapsing-wave');\r\n            row.style.height = '0';\r\n            row.style.opacity = '0';\r\n            row.style.overflow = 'hidden';\r\n            row.style.transformOrigin = 'top';\r\n            row.style.transform = 'scaleY(0.3)';\r\n            \r\n            // Set target height\r\n            const naturalHeight = row.scrollHeight;\r\n            row.style.setProperty('--row-height', `${naturalHeight}px`);\r\n        });\r\n        \r\n        // Force a reflow\r\n        void rows[0].offsetHeight;\r\n        \r\n        // Apply animation with staggered delay\r\n        rows.forEach((row, index) => {\r\n            row.style.animationDelay = `${index * 30}ms`;\r\n            row.classList.add('expanding-wave');\r\n        });\r\n        \r\n        // Listen for animation end on the last row\r\n        const lastRow = rows[rows.length - 1];\r\n        lastRow.addEventListener('animationend', () => {\r\n            this.restoreBorderStyles(rows);\r\n            \r\n            // Cleanup all styling\r\n            rows.forEach(row => {\r\n                row.classList.remove('expanding-wave');\r\n                row.style.animationDelay = '';\r\n                row.style.height = '';\r\n                row.style.opacity = '';\r\n                row.style.overflow = '';\r\n                row.style.transform = '';\r\n            });\r\n            \r\n            this.fixHeaderBorders(); // Fix borders after animation\r\n            this.cleanupAnimation(nodeId);\r\n        }, { once: true });\r\n    }\r\n    \r\n    private animateCollapse(rows: HTMLElement[], nodeId: string): void {\r\n        if (rows.length === 0) {\r\n            this.cleanupAnimation(nodeId);\r\n            return;\r\n        }\r\n        \r\n        // Save border styles before animation\r\n        rows.forEach(row => {\r\n            const borderData = {\r\n                borderTopWidth: row.style.borderTopWidth,\r\n                borderBottomWidth: row.style.borderBottomWidth,\r\n                borderLeftWidth: row.style.borderLeftWidth,\r\n                borderRightWidth: row.style.borderRightWidth,\r\n                borderColor: row.style.borderColor,\r\n                borderStyle: row.style.borderStyle\r\n            };\r\n            row.setAttribute('data-border-state', JSON.stringify(borderData));\r\n        });\r\n        \r\n        // Prepare rows for animation\r\n        rows.forEach(row => {\r\n            row.classList.remove('expanding-wave', 'collapsed');\r\n            row.style.transformOrigin = 'top';\r\n            \r\n            // Set initial state\r\n            const rowHeight = row.offsetHeight;\r\n            row.style.setProperty('--row-height', `${rowHeight}px`);\r\n            row.style.overflow = 'hidden';\r\n        });\r\n        \r\n        // Force a reflow\r\n        void rows[0].offsetHeight;\r\n        \r\n        // Apply animation with staggered delay (reversed for collapse)\r\n        rows.slice().reverse().forEach((row, index) => {\r\n            row.style.animationDelay = `${index * 30}ms`;\r\n            row.classList.add('collapsing-wave');\r\n        });\r\n        \r\n        // Listen for animation end\r\n        const lastRow = rows[0]; // First row will be the last to collapse\r\n        lastRow.addEventListener('animationend', () => {\r\n            this.restoreBorderStyles(rows);\r\n            \r\n            // Hide rows after animation\r\n            rows.forEach(row => {\r\n                row.classList.remove('collapsing-wave');\r\n                row.classList.add('collapsed');\r\n                row.style.animationDelay = '';\r\n                row.style.transform = '';\r\n            });\r\n            \r\n            this.fixHeaderBorders(); // Fix borders after animation\r\n            this.cleanupAnimation(nodeId);\r\n        }, { once: true });\r\n    }\r\n    \r\n    private restoreBorderStyles(rows: HTMLElement[]): void {\r\n        rows.forEach(row => {\r\n            const borderDataStr = row.getAttribute('data-border-state');\r\n            if (borderDataStr) {\r\n                try {\r\n                    const borderData = JSON.parse(borderDataStr);\r\n                    \r\n                    // Restore border styles\r\n                    if (borderData.borderTopWidth) row.style.borderTopWidth = borderData.borderTopWidth;\r\n                    if (borderData.borderBottomWidth) row.style.borderBottomWidth = borderData.borderBottomWidth;\r\n                    if (borderData.borderLeftWidth) row.style.borderLeftWidth = borderData.borderLeftWidth;\r\n                    if (borderData.borderRightWidth) row.style.borderRightWidth = borderData.borderRightWidth;\r\n                    if (borderData.borderColor) row.style.borderColor = borderData.borderColor;\r\n                    if (borderData.borderStyle) row.style.borderStyle = borderData.borderStyle;\r\n                    \r\n                    // Clean up\r\n                    row.removeAttribute('data-border-state');\r\n                } catch (e) {\r\n                    console.error('Error restoring border styles:', e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private cleanupAnimation(nodeId: string): void {\r\n        // Clear timeout\r\n        const timeout = this.animationTimeouts.get(nodeId);\r\n        if (timeout) {\r\n            window.clearTimeout(timeout);\r\n            this.animationTimeouts.delete(nodeId);\r\n        }\r\n        \r\n        // Remove from animating set\r\n        this.animatingNodes.delete(nodeId);\r\n        \r\n        // Re-enable all toggle buttons\r\n        const allButtons = this.tableDiv.querySelectorAll('.toggle-button');\r\n        allButtons.forEach((btn) => {\r\n            const htmlBtn = btn as HTMLElement;\r\n            htmlBtn.style.cursor = \"pointer\";\r\n            htmlBtn.style.opacity = \"1\";\r\n            htmlBtn.removeAttribute('data-animating');\r\n        });\r\n        \r\n        // Get current expanded state\r\n        const isExpanded = this.expandedRows.get(nodeId) ?? false;\r\n        \r\n        // Make sure all direct children have the correct visibility\r\n        const directChildren = Array.from(\r\n            this.tableDiv.querySelectorAll(`tr[data-parent-id=\"${nodeId}\"]`)\r\n        ) as HTMLElement[];\r\n        \r\n        directChildren.forEach(child => {\r\n            if (isExpanded) {\r\n                child.classList.remove('collapsed');\r\n            } else {\r\n                child.classList.add('collapsed');\r\n            }\r\n        });\r\n        \r\n        // If this was a collapse, also collapse all descendants\r\n        if (!isExpanded) {\r\n            // Mark all descendants as collapsed in the state\r\n            const allDescendants = this.findAllDescendants(nodeId);\r\n            allDescendants.forEach(row => {\r\n                const rowId = row.getAttribute('data-node-id');\r\n                if (rowId) {\r\n                    // Update the UI\r\n                    row.classList.add('collapsed');\r\n                    \r\n                    // Update toggle button\r\n                    const childToggle = row.querySelector('.toggle-button') as HTMLElement;\r\n                    if (childToggle) {\r\n                        childToggle.textContent = \"\"; // Collapsed state\r\n                    }\r\n                    \r\n                    // Update state\r\n                    this.expandedRows.set(rowId, false);\r\n                }\r\n            });\r\n        }\r\n        \r\n        // Ensure all border formatting is correctly applied\r\n        this.fixHeaderBorders();\r\n        \r\n        // Save final state\r\n        Visual.savedExpandedState = new Map(this.expandedRows);\r\n    }\r\n\r\n    //=========================================================================\r\n    // CONTEXT MENU HANDLING\r\n    //=========================================================================\r\n\r\n    private setupContextMenuEvents(): void {\r\n        // Prevent default context menu on the table\r\n        this.tableDiv.addEventListener('contextmenu', (e: MouseEvent) => {\r\n            e.preventDefault();\r\n            \r\n            // Hide any visible context menu\r\n            this.contextMenu.style.display = 'none';\r\n            \r\n            // Find the clicked cell\r\n            const target = e.target as HTMLElement;\r\n            const cell = target.closest('td, th') as HTMLElement;\r\n            \r\n            if (cell) {\r\n                // Store the active cell\r\n                this.activeCell = cell;\r\n                \r\n                // Get row info for expand/collapse\r\n                const row = cell.closest('tr') as HTMLElement;\r\n                if (row) {\r\n                    this.activeNodeId = row.getAttribute('data-node-id');\r\n                    this.activeLevel = parseInt(row.getAttribute('data-level') || '0', 10);\r\n                }\r\n                \r\n                // Show context menu at mouse position\r\n                this.contextMenu.style.left = `${e.pageX}px`;\r\n                this.contextMenu.style.top = `${e.pageY}px`;\r\n                this.contextMenu.style.display = 'block';\r\n            }\r\n        });\r\n        \r\n        // Handle clicks on menu items\r\n        this.contextMenu.addEventListener('click', (e: MouseEvent) => {\r\n            const target = e.target as HTMLElement;\r\n            \r\n            if (target.classList.contains('context-menu-item')) {\r\n                const action = target.getAttribute('data-action');\r\n                \r\n                if (action === 'copyValue') {\r\n                    this.copyValueToClipboard();\r\n                } else if (this.activeNodeId) {\r\n                    // Handle expand/collapse actions\r\n                    this.handleContextMenuAction(action, this.activeNodeId, this.activeLevel);\r\n                }\r\n                \r\n                // Hide menu after action\r\n                this.contextMenu.style.display = 'none';\r\n            }\r\n        });\r\n        \r\n        // Hide menu when clicking elsewhere\r\n        document.addEventListener('click', () => {\r\n            this.contextMenu.style.display = 'none';\r\n        });\r\n    }\r\n\r\n    private copyValueToClipboard(): void {\r\n        if (!this.activeCell) return;\r\n        \r\n        // Check if we have a raw numeric value\r\n        let textToCopy = '';\r\n        const rawValue = this.activeCell.getAttribute('data-raw-value');\r\n        \r\n        if (rawValue !== null) {\r\n            // We have a raw number value, use it\r\n            textToCopy = rawValue;\r\n        } else {\r\n            // Otherwise use the formatted text\r\n            textToCopy = this.activeCell.textContent || '';\r\n        }\r\n        \r\n        try {\r\n            // Create a temporary textarea element that's properly visible/focused\r\n            const textArea = document.createElement('textarea');\r\n            textArea.value = textToCopy;\r\n            textArea.style.position = 'absolute';\r\n            textArea.style.left = '0';\r\n            textArea.style.top = '0';\r\n            \r\n            document.body.appendChild(textArea);\r\n            textArea.focus();\r\n            textArea.select();\r\n            \r\n            const successful = document.execCommand('copy');\r\n            \r\n            if (successful) {\r\n                this.showToast('Copied to clipboard');\r\n            } else {\r\n                this.showToast('Copy failed - try again');\r\n            }            \r\n            \r\n            document.body.removeChild(textArea);\r\n        } catch (err) {\r\n            this.showToast('Copy failed - browser restriction');\r\n            console.error('Copy failed:', err);\r\n        }\r\n    }\r\n    \r\n    private showToast(message: string): void {\r\n        // Create toast element\r\n        const toast = document.createElement('div');\r\n        toast.className = 'copy-toast';\r\n        toast.textContent = message;\r\n        toast.style.position = 'fixed';\r\n        toast.style.bottom = '20px';\r\n        toast.style.left = '50%';\r\n        toast.style.transform = 'translateX(-50%)';\r\n        toast.style.backgroundColor = 'rgba(0,0,0,0.7)';\r\n        toast.style.color = 'white';\r\n        toast.style.padding = '8px 16px';\r\n        toast.style.borderRadius = '4px';\r\n        toast.style.zIndex = '2000';\r\n        toast.style.transition = 'opacity 0.3s';\r\n        \r\n        document.body.appendChild(toast);\r\n        \r\n        // Remove toast after delay\r\n        setTimeout(() => {\r\n            toast.style.opacity = '0';\r\n            setTimeout(() => {\r\n                document.body.removeChild(toast);\r\n            }, 300);\r\n        }, 2000);\r\n    }\r\n\r\n    private handleContextMenuAction(action: string, nodeId: string, level: number): void {\r\n        if (!nodeId) return;\r\n        \r\n        // Prevent multiple animations running at once\r\n        if (this.animatingNodes.size > 0) return;\r\n        \r\n        switch (action) {\r\n            case 'expandThis':\r\n                if (!this.expandedRows.get(nodeId)) {\r\n                    this.toggleExpanded(nodeId);\r\n                }\r\n                break;\r\n                \r\n            case 'collapseThis':\r\n                if (this.expandedRows.get(nodeId)) {\r\n                    this.toggleExpanded(nodeId);\r\n                }\r\n                break;\r\n                \r\n            case 'expandLevel':\r\n                this.batchExpandCollapseByLevel(level, true);\r\n                break;\r\n                \r\n            case 'collapseLevel':\r\n                this.batchExpandCollapseByLevel(level, false);\r\n                break;\r\n                \r\n            case 'expandAll':\r\n                this.batchExpandCollapseAll(true);\r\n                break;\r\n                \r\n            case 'collapseAll':\r\n                this.batchExpandCollapseAll(false);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private batchExpandCollapseByLevel(level: number, expand: boolean): void {\r\n        // Find all rows at the specified level that have children\r\n        const levelRows = Array.from(\r\n            this.tableDiv.querySelectorAll(`tr[data-level=\"${level}\"] .toggle-button`)\r\n        ).map(btn => (btn as HTMLElement).closest('tr')) as HTMLElement[];\r\n        \r\n        // Filter to only rows that need to change state\r\n        const rowsToChange = levelRows.filter(row => {\r\n            if (!row) return false;\r\n            const nodeId = row.getAttribute('data-node-id');\r\n            return nodeId && this.expandedRows.get(nodeId) !== expand;\r\n        });\r\n        \r\n        if (rowsToChange.length === 0) return;\r\n        \r\n        // Process rows batch\r\n        this.processBatchExpansion(\r\n            `level_${level}_${expand ? 'expand' : 'collapse'}`, \r\n            rowsToChange, \r\n            expand\r\n        );\r\n    }\r\n    \r\n    private batchExpandCollapseAll(expand: boolean): void {\r\n        // Get all rows with toggle buttons\r\n        const allToggleRows = Array.from(\r\n            this.tableDiv.querySelectorAll('tr .toggle-button')\r\n        ).map(btn => (btn as HTMLElement).closest('tr')) as HTMLElement[];\r\n        \r\n        // Filter to only rows that need to change state\r\n        const rowsToChange = allToggleRows.filter(row => {\r\n            if (!row) return false;\r\n            const nodeId = row.getAttribute('data-node-id');\r\n            return nodeId && this.expandedRows.get(nodeId) !== expand;\r\n        });\r\n        \r\n        if (rowsToChange.length === 0) return;\r\n        \r\n        // Sort rows by level for better animation\r\n        rowsToChange.sort((a, b) => {\r\n            const levelA = parseInt(a.getAttribute('data-level') || '0', 10);\r\n            const levelB = parseInt(b.getAttribute('data-level') || '0', 10);\r\n            return expand ? levelA - levelB : levelB - levelA;\r\n        });\r\n        \r\n        // Process all rows in batch\r\n        this.processBatchExpansion(\r\n            `all_${expand ? 'expand' : 'collapse'}`,\r\n            rowsToChange,\r\n            expand\r\n        );\r\n    }\r\n    \r\n    private processBatchExpansion(batchId: string, rows: HTMLElement[], expand: boolean): void {\r\n        // Disable all toggle buttons\r\n        this.disableAllToggleButtons();\r\n        \r\n        // Track animation state\r\n        this.animatingNodes.add(batchId);\r\n        \r\n        // Set safety timeout\r\n        const timeout = window.setTimeout(() => {\r\n            this.cleanupBatchAnimation(batchId, rows, expand);\r\n        }, rows.length < 10 ? 1000 : 2000);\r\n        \r\n        this.animationTimeouts.set(batchId, timeout);\r\n        \r\n        // Process each row with small delays\r\n        rows.forEach((row, index) => {\r\n            const nodeId = row.getAttribute('data-node-id');\r\n            if (!nodeId) return;\r\n            \r\n            // Update toggle button appearance immediately\r\n            const toggleButton = row.querySelector('.toggle-button') as HTMLElement;\r\n            if (toggleButton) {\r\n                toggleButton.textContent = expand ? '' : '';\r\n            }\r\n            \r\n            // Update the state in our map\r\n            this.expandedRows.set(nodeId, expand);\r\n            \r\n            // Process each row with delay\r\n            setTimeout(() => {\r\n                const directChildren = Array.from(\r\n                    this.tableDiv.querySelectorAll(`tr[data-parent-id=\"${nodeId}\"]`)\r\n                ) as HTMLElement[];\r\n                \r\n                this.animateRowsBatch(directChildren, expand);\r\n                \r\n                // If this is the last row, set up cleanup\r\n                if (index === rows.length - 1) {\r\n                    setTimeout(() => {\r\n                        this.cleanupBatchAnimation(batchId, rows, expand);\r\n                    }, 500);\r\n                }\r\n            }, index * 40);\r\n        });\r\n        \r\n        // Save expanded state\r\n        Visual.savedExpandedState = new Map(this.expandedRows);\r\n    }\r\n    \r\n    private animateRowsBatch(rows: HTMLElement[], isExpand: boolean): void {\r\n        if (rows.length === 0) return;\r\n        \r\n        // Save border styles\r\n        rows.forEach(row => {\r\n            const borderData = {\r\n                borderTopWidth: row.style.borderTopWidth,\r\n                borderBottomWidth: row.style.borderBottomWidth,\r\n                borderLeftWidth: row.style.borderLeftWidth,\r\n                borderRightWidth: row.style.borderRightWidth,\r\n                borderColor: row.style.borderColor,\r\n                borderStyle: row.style.borderStyle\r\n            };\r\n            row.setAttribute('data-border-state', JSON.stringify(borderData));\r\n        });\r\n        \r\n        if (isExpand) {\r\n            // Prepare rows for expand animation\r\n            rows.forEach(row => {\r\n                row.classList.remove('collapsed', 'collapsing-wave');\r\n                row.style.height = '0';\r\n                row.style.opacity = '0';\r\n                row.style.overflow = 'hidden';\r\n                row.style.transformOrigin = 'top';\r\n                row.style.transform = 'scaleY(0.3)';\r\n                \r\n                const naturalHeight = row.scrollHeight;\r\n                row.style.setProperty('--row-height', `${naturalHeight}px`);\r\n            });\r\n            \r\n            // Force a reflow\r\n            void rows[0].offsetHeight;\r\n            \r\n            // Apply animation with staggered delay\r\n            rows.forEach((row, index) => {\r\n                row.style.animationDelay = `${index * 30}ms`;\r\n                row.classList.add('expanding-wave');\r\n            });\r\n        } else {\r\n            // Prepare rows for collapse animation\r\n            rows.forEach(row => {\r\n                row.classList.remove('expanding-wave', 'collapsed');\r\n                row.style.transformOrigin = 'top';\r\n                \r\n                const rowHeight = row.offsetHeight;\r\n                row.style.setProperty('--row-height', `${rowHeight}px`);\r\n                row.style.overflow = 'hidden';\r\n            });\r\n            \r\n            // Force a reflow\r\n            void rows[0].offsetHeight;\r\n            \r\n            // Apply animation with staggered delay (reversed for collapse)\r\n            rows.slice().reverse().forEach((row, index) => {\r\n                row.style.animationDelay = `${index * 30}ms`;\r\n                row.classList.add('collapsing-wave');\r\n            });\r\n        }\r\n    }\r\n    \r\n    // Cleanup for batch operations\r\n    private cleanupBatchAnimation(batchId: string, rows: HTMLElement[], wasExpanding: boolean): void {\r\n        // Clear timeout\r\n        const timeout = this.animationTimeouts.get(batchId);\r\n        if (timeout) {\r\n            window.clearTimeout(timeout);\r\n            this.animationTimeouts.delete(batchId);\r\n        }\r\n        \r\n        // Remove from animating set\r\n        this.animatingNodes.delete(batchId);\r\n        \r\n        // Re-enable all toggle buttons\r\n        const allButtons = this.tableDiv.querySelectorAll('.toggle-button');\r\n        allButtons.forEach((btn) => {\r\n            const htmlBtn = btn as HTMLElement;\r\n            htmlBtn.style.cursor = \"pointer\";\r\n            htmlBtn.style.opacity = \"1\";\r\n            htmlBtn.removeAttribute('data-animating');\r\n        });\r\n        \r\n        // Clean up all affected rows\r\n        rows.forEach(row => {\r\n            const nodeId = row.getAttribute('data-node-id');\r\n            if (!nodeId) return;\r\n            \r\n            // Get direct children\r\n            const directChildren = Array.from(\r\n                this.tableDiv.querySelectorAll(`tr[data-parent-id=\"${nodeId}\"]`)\r\n            ) as HTMLElement[];\r\n            \r\n            // Restore border styles for each child\r\n            this.restoreBorderStyles(directChildren);\r\n            \r\n            // Remove animation classes and reset styles\r\n            directChildren.forEach(child => {\r\n                child.classList.remove('expanding-wave', 'collapsing-wave');\r\n                child.style.animationDelay = '';\r\n                child.style.height = '';\r\n                child.style.opacity = '';\r\n                child.style.overflow = '';\r\n                child.style.transform = '';\r\n                \r\n                // Set final class based on expanded state\r\n                if (wasExpanding) {\r\n                    child.classList.remove('collapsed');\r\n                } else {\r\n                    child.classList.add('collapsed');\r\n                }\r\n            });\r\n        });\r\n        \r\n        // Final state update and border fixing\r\n        this.updateExpandedState();\r\n        this.fixHeaderBorders();\r\n        \r\n        // Save final state\r\n        Visual.savedExpandedState = new Map(this.expandedRows);\r\n    }\r\n    \r\n    private updateExpandedState(): void {\r\n        // Update the UI to reflect the current expanded state\r\n        const allRows = Array.from(\r\n            this.tableDiv.querySelectorAll('tr[data-node-id]')\r\n        ) as HTMLElement[];\r\n        \r\n        allRows.forEach(row => {\r\n            const nodeId = row.getAttribute('data-node-id');\r\n            const parentId = row.getAttribute('data-parent-id');\r\n            \r\n            if (nodeId) {\r\n                // For non-root elements, check if parent is expanded\r\n                if (parentId) {\r\n                    const parentExpanded = this.expandedRows.get(parentId) === true;\r\n                    \r\n                    if (!parentExpanded) {\r\n                        // If parent is collapsed, hide this row\r\n                        row.classList.add('collapsed');\r\n                    } else {\r\n                        // If parent is expanded, show/hide based on this row's state\r\n                        const isExpanded = this.expandedRows.get(nodeId) === true;\r\n                        \r\n                        // Update direct children\r\n                        const directChildren = Array.from(\r\n                            this.tableDiv.querySelectorAll(`tr[data-parent-id=\"${nodeId}\"]`)\r\n                        ) as HTMLElement[];\r\n                        \r\n                        directChildren.forEach(child => {\r\n                            if (isExpanded) {\r\n                                child.classList.remove('collapsed');\r\n                            } else {\r\n                                child.classList.add('collapsed');\r\n                            }\r\n                        });\r\n                    }\r\n                } else {\r\n                    // Root level elements\r\n                    const isExpanded = this.expandedRows.get(nodeId) === true;\r\n                    \r\n                    // Update direct children\r\n                    const directChildren = Array.from(\r\n                        this.tableDiv.querySelectorAll(`tr[data-parent-id=\"${nodeId}\"]`)\r\n                    ) as HTMLElement[];\r\n                    \r\n                    directChildren.forEach(child => {\r\n                        if (isExpanded) {\r\n                            child.classList.remove('collapsed');\r\n                        } else {\r\n                            child.classList.add('collapsed');\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    //=========================================================================\r\n    // HELPER METHODS\r\n    //=========================================================================\r\n\r\n    private findAllDescendants(nodeId: string): HTMLElement[] {\r\n        const allRows = Array.from(this.tableDiv.querySelectorAll('tr[data-node-id]')) as HTMLElement[];\r\n        const allDescendants: HTMLElement[] = [];\r\n        \r\n        // Helper function to recursively find descendants\r\n        const findDescendants = (id: string): void => {\r\n            const children = allRows.filter(row => row.getAttribute('data-parent-id') === id);\r\n            \r\n            children.forEach(child => {\r\n                allDescendants.push(child);\r\n                const childId = child.getAttribute('data-node-id');\r\n                if (childId) {\r\n                    findDescendants(childId);\r\n                }\r\n            });\r\n        };\r\n        \r\n        findDescendants(nodeId);\r\n        return allDescendants;\r\n    }\r\n\r\n    private setChildrenCollapsed(parentId: string, children: any[], level: number): void {\r\n        if (!children) return;\r\n        \r\n        for (const child of children) {\r\n            const childId = parentId + this.getNodeId(child, level);\r\n            this.expandedRows.set(childId, false);\r\n            \r\n            if (child.children?.length > 0) {\r\n                this.setChildrenCollapsed(childId, child.children, level + 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    //=========================================================================\r\n    // LANDING PAGE METHODS\r\n    //=========================================================================\r\n\r\n    private showLandingPage(): void {\r\n        if (this.isLandingPageOn) return;\r\n        \r\n        // Clear existing content\r\n        this.target.innerHTML = '';\r\n        \r\n        // Create container for landing page\r\n        const container = document.createElement('div');\r\n        container.className = 'landing-page-container';\r\n        container.style.width = '100%';\r\n        container.style.height = '100%';\r\n        container.style.overflow = 'hidden';\r\n        container.style.position = 'relative';\r\n        container.style.background = '#13141a';\r\n        \r\n        // Insert the HTML\r\n        container.innerHTML = this.getLandingPageHTML();\r\n        \r\n        // Store reference and add to DOM\r\n        this.landingPageElement = container;\r\n        this.target.appendChild(container);\r\n        \r\n        // Add event listeners for navigation\r\n        this.setupLandingPageNavigation();\r\n        \r\n        this.isLandingPageOn = true;\r\n    }\r\n    \r\n    private hideLandingPage(): void {\r\n        if (!this.isLandingPageOn) return;\r\n        \r\n        // Remove landing page\r\n        if (this.landingPageElement?.parentNode) {\r\n            this.landingPageElement.parentNode.removeChild(this.landingPageElement);\r\n        }\r\n        \r\n        this.isLandingPageOn = false;\r\n        this.landingPageRemoved = true;\r\n        \r\n        // Reset to first page for next time\r\n        this.currentLandingPage = 1;\r\n        \r\n        // Create container elements for the visual\r\n        this.createContainerElements();\r\n    }\r\n\r\n    private getLandingPageHTML(): string {\r\n        switch (this.currentLandingPage) {\r\n            case 1: return landingPage1HTML;\r\n            case 2: return landingPage2HTML;\r\n            case 3: return landingPage3HTML;\r\n            default: return landingPage1HTML;\r\n        }\r\n    }\r\n    \r\n    private setupLandingPageNavigation(): void {\r\n        const nextButtons = this.landingPageElement.querySelectorAll('[data-action=\"next\"]');\r\n        const backButtons = this.landingPageElement.querySelectorAll('[data-action=\"back\"]');\r\n        const finishButton = this.landingPageElement.querySelector('[data-action=\"finish\"]');\r\n        \r\n        // Next button handler\r\n        nextButtons.forEach(button => {\r\n            button.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                if (this.currentLandingPage < 3) {\r\n                    this.transitionToPage(this.currentLandingPage + 1);\r\n                }\r\n            });\r\n        });\r\n        \r\n        // Back button handler\r\n        backButtons.forEach(button => {\r\n            button.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                if (this.currentLandingPage > 1) {\r\n                    this.transitionToPage(this.currentLandingPage - 1);\r\n                }\r\n            });\r\n        });\r\n        \r\n        // Finish button handler\r\n        if (finishButton) {\r\n            finishButton.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                this.fadeOutAndHideLandingPage();\r\n            });\r\n        }\r\n    }\r\n    \r\n    private transitionToPage(newPageNumber: number): void {\r\n        // Get container element\r\n        const container = this.landingPageElement.querySelector('.container') as HTMLElement;\r\n        if (!container) return;\r\n        \r\n        // Apply fade-out class\r\n        container.classList.add('fade-out');\r\n        \r\n        // Wait for animation to complete before changing page\r\n        setTimeout(() => {\r\n            // Update the current page\r\n            this.currentLandingPage = newPageNumber;\r\n            \r\n            // Create new container with updated content\r\n            const tempDiv = document.createElement('div');\r\n            tempDiv.innerHTML = this.getLandingPageHTML();\r\n            \r\n            // Replace the old content\r\n            this.landingPageElement.innerHTML = '';\r\n            while (tempDiv.firstChild) {\r\n                this.landingPageElement.appendChild(tempDiv.firstChild);\r\n            }\r\n            \r\n            // Set up navigation for the new page\r\n            this.setupLandingPageNavigation();\r\n            \r\n            // Force a reflow before removing the fade-out class\r\n            const newContainer = this.landingPageElement.querySelector('.container') as HTMLElement;\r\n            if (newContainer) {\r\n                void newContainer.offsetHeight;\r\n                newContainer.classList.remove('fade-out');\r\n            }\r\n        }, 500); // Match to CSS transition duration\r\n    }\r\n    \r\n    private fadeOutAndHideLandingPage(): void {\r\n        // Get container element\r\n        const container = this.landingPageElement.querySelector('.container') as HTMLElement;\r\n        if (!container) {\r\n            this.hideLandingPage();\r\n            return;\r\n        }\r\n        \r\n        // Apply fade-out class\r\n        container.classList.add('fade-out');\r\n        \r\n        // Wait for animation to complete before hiding\r\n        setTimeout(() => {\r\n            this.hideLandingPage();\r\n        }, 500); // Match to CSS transition duration\r\n    }\r\n}","import * as DataViewObject from \"./dataViewObject\";\n/** Gets the value of the given object/property pair. */\nexport function getValue(objects, propertyId, defaultValue) {\n    if (!objects) {\n        return defaultValue;\n    }\n    return DataViewObject.getValue(objects[propertyId.objectName], propertyId.propertyName, defaultValue);\n}\n/** Gets an object from objects. */\nexport function getObject(objects, objectName, defaultValue) {\n    if (objects && objects[objectName]) {\n        return objects[objectName];\n    }\n    return defaultValue;\n}\n/** Gets the solid color from a fill property. */\nexport function getFillColor(objects, propertyId, defaultColor) {\n    const value = getValue(objects, propertyId);\n    if (!value || !value.solid) {\n        return defaultColor;\n    }\n    return value.solid.color;\n}\nexport function getCommonValue(objects, propertyId, defaultValue) {\n    const value = getValue(objects, propertyId, defaultValue);\n    if (value && value.solid) {\n        return value.solid.color;\n    }\n    if (value === undefined\n        || value === null\n        || (typeof value === \"object\" && !value.solid)) {\n        return defaultValue;\n    }\n    return value;\n}\n//# sourceMappingURL=dataViewObjects.js.map","// TODO: refactor & focus DataViewTransform into a service with well-defined dependencies.\n// TODO: refactor this, setGrouped, and groupValues to a test helper to stop using it in the product\nexport function createValueColumns(values = [], valueIdentityFields, source) {\n    const result = values;\n    setGrouped(result);\n    if (valueIdentityFields) {\n        result.identityFields = valueIdentityFields;\n    }\n    if (source) {\n        result.source = source;\n    }\n    return result;\n}\nexport function setGrouped(values, groupedResult) {\n    values.grouped = groupedResult\n        ? () => groupedResult\n        : () => groupValues(values);\n}\n/** Group together the values with a common identity. */\nexport function groupValues(values) {\n    const groups = [];\n    let currentGroup;\n    for (let i = 0, len = values.length; i < len; i++) {\n        const value = values[i];\n        if (!currentGroup || currentGroup.identity !== value.identity) {\n            currentGroup = {\n                values: []\n            };\n            if (value.identity) {\n                currentGroup.identity = value.identity;\n                const source = value.source;\n                // allow null, which will be formatted as (Blank).\n                if (source.groupName !== undefined) {\n                    currentGroup.name = source.groupName;\n                }\n                else if (source.displayName) {\n                    currentGroup.name = source.displayName;\n                }\n            }\n            groups.push(currentGroup);\n        }\n        currentGroup.values.push(value);\n    }\n    return groups;\n}\n//# sourceMappingURL=dataViewTransform.js.map","export default \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Nova Matrix - Welcome</title>\\n    <style>\\n        * {\\n            margin: 0;\\n            padding: 0;\\n            box-sizing: border-box;\\n        }\\n        \\n        body {\\n            font-family: 'Segoe UI', Arial, sans-serif;\\n            background-color: #13141a;\\n            color: #ffffff;\\n            height: 100vh;\\n            width: 100%;\\n            overflow: hidden;\\n            position: relative;\\n        }\\n        \\n        /* Star background */\\n        body:before {\\n            content: '';\\n            position: absolute;\\n            width: 100%;\\n            height: 100%;\\n            background-image: radial-gradient(circle, rgba(255, 255, 255, 0.3) 1px, transparent 1px);\\n            background-size: 50px 50px;\\n            z-index: 0;\\n            opacity: 0.3;\\n        }\\n        \\n        .container {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            justify-content: center;\\n            height: 100%;\\n            position: relative;\\n            z-index: 1;\\n            padding: 10;\\n            overflow-y: auto;\\n            min-height: 250;\\n            gap: clamp(10px, 2.5vh, 25px);\\n            transition: opacity 0.5s ease;\\n            opacity: 1;\\n        }\\n\\n        .container.fade-out {\\n            opacity: 0;\\n        }\\n        \\n        .header {\\n            display: flex;\\n            justify-content: space-between;\\n            align-items: center;\\n            width: 100%;\\n            position: absolute;\\n            top: 0;\\n            padding: 10px 10px;\\n        }\\n        \\n        .logo {\\n            display: flex;\\n            align-items: center;\\n            font-size: 14px;\\n            font-weight: 500;\\n            color: #ffffff;\\n        }\\n        \\n        .main-title {\\n            font-size: clamp(12px, 5vw, 36px);\\n            font-weight: bold;\\n            letter-spacing: clamp(4px, 1vw, 8px);\\n            text-align: center;\\n            margin-bottom: clamp(5px, 1.5vh, 10px);\\n            color: #ffffff;\\n            text-transform: uppercase;\\n        }\\n        \\n        .subtitle {\\n            font-size: clamp(8px, 5vw, 14px);\\n            letter-spacing: 2px;\\n            text-align: center;\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n            color: #b0b0b0;\\n            text-transform: uppercase;\\n        }\\n        \\n        .feature-list {\\n            text-align: center;\\n            max-width: 600px;\\n            padding: 0 10px;\\n        }\\n        \\n        .feature-list ul {\\n            list-style: none;\\n            margin-top: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .feature-list li {\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n            font-size: 14px;\\n            color: #d0d0d0;\\n        }\\n        \\n        .nav-buttons {\\n            display: flex;\\n            gap: clamp(15px, 4vw, 30px);\\n            margin-top: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .nav-button {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            text-decoration: none;\\n            color: #ffffff;\\n            cursor: pointer;\\n        }\\n        \\n        /* Button orbs */\\n        .button-orb-container {\\n            width: 100px;\\n            height: 100px;\\n            position: relative;\\n            margin-bottom: clamp(5px, 2vh, 15px);\\n        }\\n        \\n        .button-orb {\\n            width: 75px;\\n            height: 75px;\\n            background: radial-gradient(circle, \\n                rgba(255, 255, 255, 0.9) 15%, \\n                rgba(255, 234, 130, 0.8) 30%, \\n                rgba(255, 183, 101, 0.7) 45%, \\n                rgba(255, 100, 80, 0.5) 60%,\\n                transparent 75%);\\n            border-radius: 50%;\\n            position: absolute;\\n            top: 50%;\\n            left: 50%;\\n            transform: translate(-50%, -50%);\\n            box-shadow: \\n                0 0 15px rgba(255, 234, 130, 0.4),\\n                0 0 25px rgba(255, 183, 101, 0.2);\\n            animation: buttonPulse 2s infinite alternate, rotate 15s infinite linear;\\n            opacity: 0.9;\\n        }\\n        \\n        .button-orb:before {\\n            content: '';\\n            position: absolute;\\n            top: -15%;\\n            left: -15%;\\n            right: -15%;\\n            bottom: -15%;\\n            border-radius: 50%;\\n            background: radial-gradient(circle, \\n                transparent 60%, \\n                rgba(255, 234, 130, 0.1) 70%, \\n                rgba(255, 183, 101, 0.1) 80%, \\n                transparent 100%);\\n            z-index: -1;\\n            animation: buttonGlow 3s infinite alternate;\\n        }\\n        \\n        .button-orb:after {\\n            content: '';\\n            position: absolute;\\n            width: 40%;\\n            height: 40%;\\n            top: 50%;\\n            left: 50%;\\n            transform: translate(-50%, -50%);\\n            background: radial-gradient(circle, \\n                rgba(255, 255, 255, 0.9) 0%, \\n                rgba(255, 240, 180, 0.8) 50%, \\n                transparent 100%);\\n            border-radius: 50%;\\n            box-shadow: 0 0 10px rgba(255, 240, 180, 0.5);\\n            animation: buttonCoreGlow 1.5s infinite alternate;\\n        }\\n        \\n        @keyframes buttonPulse {\\n            0% {\\n                transform: translate(-50%, -50%) scale(0.9);\\n            }\\n            100% {\\n                transform: translate(-50%, -50%) scale(1.1);\\n            }\\n        }\\n        \\n        @keyframes buttonGlow {\\n            0% {\\n                opacity: 0.3;\\n                box-shadow: 0 0 15px rgba(255, 234, 130, 0.2);\\n            }\\n            100% {\\n                opacity: 0.6;\\n                box-shadow: 0 0 25px rgba(255, 183, 101, 0.4);\\n            }\\n        }\\n        \\n        @keyframes buttonCoreGlow {\\n            0% {\\n                opacity: 0.7;\\n                width: 36%;\\n                height: 36%;\\n            }\\n            100% {\\n                opacity: 1;\\n                width: 43%;\\n                height: 43%;\\n            }\\n        }\\n        \\n        @keyframes rotate {\\n            0% {\\n                background-position: 0% 0%;\\n            }\\n            100% {\\n                background-position: 100% 100%;\\n            }\\n        }\\n        \\n        .continue-text {\\n            font-size: 12px;\\n            text-transform: uppercase;\\n            letter-spacing: 2px;\\n        }\\n        \\n        .footer {\\n            width: 100%;\\n            text-align: center;\\n            margin-top: clamp(10px, 2vh, 20px);\\n            position: relative;\\n        }\\n        \\n        .progress {\\n            display: flex;\\n            justify-content: center;\\n            align-items: center;\\n            gap: 15px;\\n        }\\n        \\n        .progress-item {\\n            width: 12px;\\n            height: 12px;\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\n            border-radius: 50%;\\n        }\\n        \\n        .progress-item.active {\\n            background-color: rgba(255, 255, 255, 0.5);\\n        }\\n\\n        .diamond {\\n            width: 10px;\\n            height: 10px;\\n            background-color: transparent;\\n            border: 1px solid rgba(255, 255, 255, 0.5);\\n            transform: rotate(45deg);\\n            display: inline-flex; /* Changed from 'flex' to 'inline-flex' */\\n            align-items: center;\\n            justify-content: center;\\n            margin-right: 8px; /* Adds spacing instead of margin-bottom */\\n            vertical-align: middle; /* Aligns with text */\\n        }\\n        \\n        .diamond-inner {\\n            width: 4px;\\n            height: 4px;\\n            background-color: rgba(255, 255, 255, 0.5);\\n        }\\n        \\n        .credit {\\n            font-size: 10px;\\n            color: #666;\\n            text-transform: uppercase;\\n            letter-spacing: 1px;\\n        }\\n        \\n        /* Content wrapper to maintain consistent vertical centering */\\n        .content-wrapper {\\n            display: flex;\\n            flex-direction: column;\\n            align-items: center;\\n            max-width: 100%;\\n            padding-top: clamp(0px, 5vh, 60px);\\n        }\\n        \\n        /* Smoother responsive approach with no sudden jumps */\\n        @media (max-width: 768px) {\\n            .nav-buttons {\\n                gap: calc(15px + (30 - 15) * ((100vw - 320px) / (768 - 320)));\\n            }\\n            \\n            .progress {\\n                gap: calc(10px + (15 - 10) * ((100vw - 320px) / (768 - 320)));\\n            }\\n        }\\n    </style>\\n</head>\\n<body>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"header\\\">\\n            <div class=\\\"logo\\\">\\n                <div>NOVA MATRIX</div>\\n            </div>\\n            <div class=\\\"progress\\\">\\n                <div class=\\\"progress-item active\\\"></div>\\n                <div class=\\\"progress-item\\\"></div>\\n                <div class=\\\"progress-item\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"content-wrapper\\\">\\n            <h1 class=\\\"main-title\\\">WELCOME</h1>\\n            \\n            <div class=\\\"feature-list\\\">\\n                <p class=\\\"subtitle\\\">Welcome to the Nova Matrix - A powerful matrix visualization tool</p>\\n\\n            </div>\\n            \\n            <div class=\\\"nav-buttons\\\">\\n                <a href=\\\"#\\\" class=\\\"nav-button\\\" data-action=\\\"next\\\">\\n                    <div class=\\\"button-orb-container\\\">\\n                        <div class=\\\"button-orb\\\"></div>\\n                    </div>\\n                    <span class=\\\"continue-text\\\">Next</span>\\n                </a>\\n            </div>\\n            \\n            <div class=\\\"footer\\\">\\n                <div class=\\\"credit\\\">Developed by Joshua Biondo</div>\\n            </div>\\n        </div>\\n    </div>\\n</body>\\n</html>\";","// powerbi.extensibility.utils.dataview\nimport * as DataRoleHelper from \"./dataRoleHelper\";\nexport function categoryIsAlsoSeriesRole(dataView, seriesRoleName, categoryRoleName) {\n    if (dataView.categories && dataView.categories.length > 0) {\n        // Need to pivot data if our category soure is a series role\n        const category = dataView.categories[0];\n        return category.source &&\n            DataRoleHelper.hasRole(category.source, seriesRoleName) &&\n            DataRoleHelper.hasRole(category.source, categoryRoleName);\n    }\n    return false;\n}\nexport function getSeriesName(source) {\n    return (source.groupName !== undefined)\n        ? source.groupName\n        : source.queryName;\n}\nexport function isImageUrlColumn(column) {\n    const misc = getMiscellaneousTypeDescriptor(column);\n    return misc != null && misc.imageUrl === true;\n}\nexport function isWebUrlColumn(column) {\n    const misc = getMiscellaneousTypeDescriptor(column);\n    return misc != null && misc.webUrl === true;\n}\nexport function getMiscellaneousTypeDescriptor(column) {\n    return column\n        && column.type\n        && column.type.misc;\n}\nexport function hasImageUrlColumn(dataView) {\n    if (!dataView || !dataView.metadata || !dataView.metadata.columns || !dataView.metadata.columns.length) {\n        return false;\n    }\n    return dataView.metadata.columns.some((column) => isImageUrlColumn(column) === true);\n}\n//# sourceMappingURL=converterHelper.js.map","/**\n * Powerbi utils components classes for custom visual formatting pane objects\n *\n */\nimport * as FormattingSettingsParser from \"./utils/FormattingSettingsUtils\";\nclass NamedEntity {\n}\nexport class CardGroupEntity extends NamedEntity {\n}\nexport class Model {\n}\n/** CompositeCard is use to populate a card into the formatting pane with multiple groups */\nexport class CompositeCard extends NamedEntity {\n}\nexport class Group extends CardGroupEntity {\n    constructor(object) {\n        super();\n        Object.assign(this, object);\n    }\n}\n/** SimpleCard is use to populate a card into the formatting pane in a single group */\nexport class SimpleCard extends CardGroupEntity {\n}\nexport class SimpleSlice extends NamedEntity {\n    constructor(object) {\n        super();\n        Object.assign(this, object);\n    }\n    getFormattingSlice(objectName, localizationManager) {\n        const controlType = this.type;\n        const propertyName = this.name;\n        const sliceDisplayName = (localizationManager && this.displayNameKey) ? localizationManager.getDisplayName(this.displayNameKey) : this.displayName;\n        const sliceDescription = (localizationManager && this.descriptionKey) ? localizationManager.getDisplayName(this.descriptionKey) : this.description;\n        const componentDisplayName = {\n            displayName: sliceDisplayName,\n            description: sliceDescription,\n            uid: objectName + '-' + propertyName,\n        };\n        return Object.assign(Object.assign({}, componentDisplayName), { control: {\n                type: controlType,\n                properties: this.getFormattingComponent(objectName, localizationManager)\n            } });\n    }\n    // eslint-disable-next-line\n    getFormattingComponent(objectName, localizationManager) {\n        return {\n            descriptor: FormattingSettingsParser.getDescriptor(objectName, this),\n            value: this.value,\n        };\n    }\n    getRevertToDefaultDescriptor(objectName) {\n        return [{\n                objectName: objectName,\n                propertyName: this.name\n            }];\n    }\n    setPropertiesValues(dataViewObjects, objectName) {\n        var _a;\n        const newValue = (_a = dataViewObjects === null || dataViewObjects === void 0 ? void 0 : dataViewObjects[objectName]) === null || _a === void 0 ? void 0 : _a[this.name];\n        this.value = FormattingSettingsParser.getPropertyValue(this, newValue, this.value);\n    }\n}\nexport class AlignmentGroup extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"AlignmentGroup\" /* visuals.FormattingComponent.AlignmentGroup */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { mode: this.mode, supportsNoSelection: this.supportsNoSelection });\n    }\n}\nexport class ToggleSwitch extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"ToggleSwitch\" /* visuals.FormattingComponent.ToggleSwitch */;\n    }\n}\nexport class ColorPicker extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"ColorPicker\" /* visuals.FormattingComponent.ColorPicker */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { defaultColor: this.defaultColor, isNoFillItemSupported: this.isNoFillItemSupported });\n    }\n}\nexport class NumUpDown extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"NumUpDown\" /* visuals.FormattingComponent.NumUpDown */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { options: this.options });\n    }\n}\nexport class Slider extends NumUpDown {\n    constructor() {\n        super(...arguments);\n        this.type = \"Slider\" /* visuals.FormattingComponent.Slider */;\n    }\n}\nexport class DatePicker extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"DatePicker\" /* visuals.FormattingComponent.DatePicker */;\n    }\n    getFormattingComponent(objectName, localizationManager) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { placeholder: (localizationManager && this.placeholderKey) ? localizationManager.getDisplayName(this.placeholderKey) : this.placeholder, validators: this.validators });\n    }\n}\nexport class ItemDropdown extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"Dropdown\" /* visuals.FormattingComponent.Dropdown */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { items: this.items });\n    }\n}\nexport class AutoDropdown extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"Dropdown\" /* visuals.FormattingComponent.Dropdown */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { mergeValues: this.mergeValues, filterValues: this.filterValues });\n    }\n}\nexport class DurationPicker extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"DurationPicker\" /* visuals.FormattingComponent.DurationPicker */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { validators: this.validators });\n    }\n}\nexport class ErrorRangeControl extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"ErrorRangeControl\" /* visuals.FormattingComponent.ErrorRangeControl */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { validators: this.validators });\n    }\n}\nexport class FieldPicker extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"FieldPicker\" /* visuals.FormattingComponent.FieldPicker */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { validators: this.validators, allowMultipleValues: this.allowMultipleValues });\n    }\n}\nexport class ItemFlagsSelection extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"FlagsSelection\" /* visuals.FormattingComponent.FlagsSelection */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { items: this.items });\n    }\n}\nexport class AutoFlagsSelection extends SimpleSlice {\n    constructor() {\n        super(...arguments);\n        this.type = \"FlagsSelection\" /* visuals.FormattingComponent.FlagsSelection */;\n    }\n}\nexport class TextInput extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"TextInput\" /* visuals.FormattingComponent.TextInput */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { placeholder: this.placeholder });\n    }\n}\nexport class TextArea extends TextInput {\n    constructor() {\n        super(...arguments);\n        this.type = \"TextArea\" /* visuals.FormattingComponent.TextArea */;\n    }\n}\nexport class FontPicker extends SimpleSlice {\n    constructor() {\n        super(...arguments);\n        this.type = \"FontPicker\" /* visuals.FormattingComponent.FontPicker */;\n    }\n}\nexport class GradientBar extends SimpleSlice {\n    constructor() {\n        super(...arguments);\n        this.type = \"GradientBar\" /* visuals.FormattingComponent.GradientBar */;\n    }\n}\nexport class ImageUpload extends SimpleSlice {\n    constructor() {\n        super(...arguments);\n        this.type = \"ImageUpload\" /* visuals.FormattingComponent.ImageUpload */;\n    }\n}\nexport class ListEditor extends SimpleSlice {\n    constructor() {\n        super(...arguments);\n        this.type = \"ListEditor\" /* visuals.FormattingComponent.ListEditor */;\n    }\n}\nexport class ReadOnlyText extends SimpleSlice {\n    constructor() {\n        super(...arguments);\n        this.type = \"ReadOnlyText\" /* visuals.FormattingComponent.ReadOnlyText */;\n    }\n}\nexport class ShapeMapSelector extends SimpleSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"ShapeMapSelector\" /* visuals.FormattingComponent.ShapeMapSelector */;\n    }\n    getFormattingComponent(objectName) {\n        return Object.assign(Object.assign({}, super.getFormattingComponent(objectName)), { isAzMapReferenceSelector: this.isAzMapReferenceSelector });\n    }\n}\nexport class CompositeSlice extends NamedEntity {\n    constructor(object) {\n        super();\n        Object.assign(this, object);\n    }\n    getFormattingSlice(objectName, localizationManager) {\n        const controlType = this.type;\n        const propertyName = this.name;\n        const componentDisplayName = {\n            displayName: (localizationManager && this.displayNameKey) ? localizationManager.getDisplayName(this.displayNameKey) : this.displayName,\n            description: (localizationManager && this.descriptionKey) ? localizationManager.getDisplayName(this.descriptionKey) : this.description,\n            uid: objectName + '-' + propertyName,\n        };\n        return Object.assign(Object.assign({}, componentDisplayName), { control: {\n                type: controlType,\n                properties: this.getFormattingComponent(objectName)\n            } });\n    }\n}\nexport class FontControl extends CompositeSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"FontControl\" /* visuals.FormattingComponent.FontControl */;\n    }\n    getFormattingComponent(objectName) {\n        var _a, _b, _c;\n        return {\n            fontFamily: this.fontFamily.getFormattingComponent(objectName),\n            fontSize: this.fontSize.getFormattingComponent(objectName),\n            bold: (_a = this.bold) === null || _a === void 0 ? void 0 : _a.getFormattingComponent(objectName),\n            italic: (_b = this.italic) === null || _b === void 0 ? void 0 : _b.getFormattingComponent(objectName),\n            underline: (_c = this.underline) === null || _c === void 0 ? void 0 : _c.getFormattingComponent(objectName)\n        };\n    }\n    getRevertToDefaultDescriptor(objectName) {\n        return this.fontFamily.getRevertToDefaultDescriptor(objectName)\n            .concat(this.fontSize.getRevertToDefaultDescriptor(objectName))\n            .concat(this.bold ? this.bold.getRevertToDefaultDescriptor(objectName) : [])\n            .concat(this.italic ? this.italic.getRevertToDefaultDescriptor(objectName) : [])\n            .concat(this.underline ? this.underline.getRevertToDefaultDescriptor(objectName) : []);\n    }\n    setPropertiesValues(dataViewObjects, objectName) {\n        var _a, _b, _c;\n        this.fontFamily.setPropertiesValues(dataViewObjects, objectName);\n        this.fontSize.setPropertiesValues(dataViewObjects, objectName);\n        (_a = this.bold) === null || _a === void 0 ? void 0 : _a.setPropertiesValues(dataViewObjects, objectName);\n        (_b = this.italic) === null || _b === void 0 ? void 0 : _b.setPropertiesValues(dataViewObjects, objectName);\n        (_c = this.underline) === null || _c === void 0 ? void 0 : _c.setPropertiesValues(dataViewObjects, objectName);\n    }\n}\nexport class MarginPadding extends CompositeSlice {\n    constructor(object) {\n        super(object);\n        this.type = \"MarginPadding\" /* visuals.FormattingComponent.MarginPadding */;\n    }\n    getFormattingComponent(objectName) {\n        return {\n            left: this.left.getFormattingComponent(objectName),\n            right: this.right.getFormattingComponent(objectName),\n            top: this.top.getFormattingComponent(objectName),\n            bottom: this.bottom.getFormattingComponent(objectName)\n        };\n    }\n    getRevertToDefaultDescriptor(objectName) {\n        return this.left.getRevertToDefaultDescriptor(objectName)\n            .concat(this.right.getRevertToDefaultDescriptor(objectName))\n            .concat(this.top.getRevertToDefaultDescriptor(objectName))\n            .concat(this.bottom.getRevertToDefaultDescriptor(objectName));\n    }\n    setPropertiesValues(dataViewObjects, objectName) {\n        this.left.setPropertiesValues(dataViewObjects, objectName);\n        this.right.setPropertiesValues(dataViewObjects, objectName);\n        this.top.setPropertiesValues(dataViewObjects, objectName);\n        this.bottom.setPropertiesValues(dataViewObjects, objectName);\n    }\n}\nexport class Container extends NamedEntity {\n    constructor(object) {\n        super();\n        Object.assign(this, object);\n    }\n}\nexport class ContainerItem extends NamedEntity {\n}\n//# sourceMappingURL=FormattingSettingsComponents.js.map","import * as converterHelper from \"./converterHelper\";\nimport * as dataRoleHelper from \"./dataRoleHelper\";\nimport * as dataViewObject from \"./dataViewObject\";\nimport * as dataViewObjects from \"./dataViewObjects\";\nimport * as dataViewObjectsParser from \"./dataViewObjectsParser\";\nimport * as dataViewTransform from \"./dataViewTransform\";\nimport * as dataViewWildcard from \"./dataViewWildcard\";\nexport { converterHelper, dataRoleHelper, dataViewObject, dataViewObjects, dataViewObjectsParser, dataViewTransform, dataViewWildcard };\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { Visual } from \"../../src/visual\";\nimport powerbiVisualsApi from \"powerbi-visuals-api\";\nimport IVisualPlugin = powerbiVisualsApi.visuals.plugins.IVisualPlugin;\nimport VisualConstructorOptions = powerbiVisualsApi.extensibility.visual.VisualConstructorOptions;\nimport DialogConstructorOptions = powerbiVisualsApi.extensibility.visual.DialogConstructorOptions;\nvar powerbiKey: any = \"powerbi\";\nvar powerbi: any = window[powerbiKey];\nvar NovaGridMatrix_DEBUG: IVisualPlugin = {\n    name: 'NovaGridMatrix_DEBUG',\n    displayName: 'NovaGrid',\n    class: 'Visual',\n    apiVersion: '5.11.0',\n    create: (options?: VisualConstructorOptions) => {\n        if (Visual) {\n            return new Visual(options);\n        }\n        throw 'Visual instance not found';\n    },\n    createModalDialog: (dialogId: string, options: DialogConstructorOptions, initialState: object) => {\n        const dialogRegistry = (<any>globalThis).dialogRegistry;\n        if (dialogId in dialogRegistry) {\n            new dialogRegistry[dialogId](options, initialState);\n        }\n    },\n    custom: true\n};\nif (typeof powerbi !== \"undefined\") {\n    powerbi.visuals = powerbi.visuals || {};\n    powerbi.visuals.plugins = powerbi.visuals.plugins || {};\n    powerbi.visuals.plugins[\"NovaGridMatrix_DEBUG\"] = NovaGridMatrix_DEBUG;\n}\nexport default NovaGridMatrix_DEBUG;"],"names":[],"sourceRoot":""}